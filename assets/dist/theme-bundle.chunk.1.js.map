{"version":3,"sources":["webpack:///./assets/js/theme/product.js","webpack:///./assets/js/theme/product/reviews.js","webpack:///./assets/js/theme/product/video-gallery.js"],"names":["Product","context","url","window","location","href","$reviewLink","$","before","next","document","on","indexOf","history","replaceState","title","pathname","loaded","validator","collapsibleFactory","productDetails","ProductDetails","BCData","product_attributes","videoGallery","$reviewForm","classifyForm","review","Review","registerValidation","performCheck","areAll","modal","defaultModal","event","preventDefault","product","currentTarget","data","sku","email","attr","option","no","grey","name","phone","curl","toLowerCase","includes","html","show","vArr","pJson","filter","v","option_values","op","label","length","trim","fetch","method","headers","Accept","body","JSON","stringify","table","then","r","json","d","status","content","updateContent","swal","text","type","catch","console","log","e","productSku","productName","productVariant","productId","open","size","utils","api","getById","template","err","response","$content","find","addClass","slick","obj","customer","customerEmail","customerName","customerPhone","attrColorName","attrGreyName","variantJson","gsel","vButton","gops","value","csel","toUpperCase","ops","after","productReviewHandler","click","PageManager","nod","submit","$reviewsContent","$collapsible","initLinkBind","injectPaginationLink","collapseReviews","hasClass","trigger","CollapsibleEvents","hash","$nextLink","$prevLink","add","selector","validate","errorMessage","reviewRating","reviewSubject","reviewComment","cb","val","result","forms","reviewEmail","VideoGallery","$element","$player","$videos","currentVideo","bindEvents","selectNewVideo","$target","id","$selectedThumb","setMainVideo","setActiveThumb","removeClass","bind","pluginKey","$videoGallery","each","index","element","$el","isInitialized"],"mappings":"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","file":"theme-bundle.chunk.1.js","sourcesContent":["/*\r\n Import all product specific js\r\n */\r\nimport $ from 'jquery';\r\nimport PageManager from './page-manager';\r\nimport Review from './product/reviews';\r\nimport collapsibleFactory from './common/collapsible';\r\nimport ProductDetails from './common/product-details';\r\nimport videoGallery from './product/video-gallery';\r\nimport { classifyForm } from './common/form-utils';\r\n\r\nimport utils from '@bigcommerce/stencil-utils';\r\nimport { defaultModal } from './global/modal';\r\nimport swal from 'sweetalert2';\r\n\r\nexport default class Product extends PageManager {\r\n    constructor(context) {\r\n        super(context);\r\n        this.url = window.location.href;\r\n        this.$reviewLink = $('[data-reveal-id=\"modal-review-form\"]');\r\n    }\r\n\r\n    before(next) {\r\n        // Listen for foundation modal close events to sanitize URL after review.\r\n        $(document).on('close.fndtn.reveal', () => {\r\n            if (this.url.indexOf('#write_review') !== -1 && typeof window.history.replaceState === 'function') {\r\n                window.history.replaceState(null, document.title, window.location.pathname);\r\n            }\r\n        });\r\n\r\n        next();\r\n    }\r\n\r\n    loaded(next) {\r\n        let validator;\r\n\r\n        // Init collapsible\r\n        collapsibleFactory();\r\n\r\n        this.productDetails = new ProductDetails($('.productView'), this.context, window.BCData.product_attributes);\r\n\r\n        videoGallery();\r\n\r\n        const $reviewForm = classifyForm('.writeReview-form');\r\n        const review = new Review($reviewForm);\r\n\r\n        $('body').on('click', '[data-reveal-id=\"modal-review-form\"]', () => {\r\n            validator = review.registerValidation(this.context);\r\n        });\r\n\r\n        $reviewForm.on('submit', () => {\r\n            if (validator) {\r\n                validator.performCheck();\r\n                return validator.areAll('valid');\r\n            }\r\n\r\n            return false;\r\n        });\r\n\r\n        const modal = defaultModal();        \r\n\r\n        $('body').on('click', '.find-btn-apply', (event) => {\r\n            event.preventDefault();\r\n            \r\n            //use data() function for unchangable attribute\r\n            const product = $(event.currentTarget).data('book-product');        \r\n            const sku = $(event.currentTarget).data('book-sku');\r\n            // const productJson = $(event.currentTarget).data('product-json');\r\n            //use attr() function for changable attribute\r\n            const email = $(event.currentTarget).attr('data-book-email');\r\n            const option = $(event.currentTarget).attr('data-book-option');\r\n            const no = $(event.currentTarget).attr('data-book-quantity');\r\n            const grey = $(event.currentTarget).attr('data-book-grey');\r\n            const name = $(event.currentTarget).attr('data-book-client-fullname');\r\n            const phone = $(event.currentTarget).attr('data-book-client-phone');\r\n            const curl = $(event.currentTarget).attr('data-book-curl');\r\n\r\n            if (option)   {\r\n                if (option.toLowerCase().includes('choose')) {\r\n                    $(\".alertBox-find-option span\").html(\"Please choose option\");\r\n                    $(\".alertBox-find-wrapper\").show();\r\n                } else {\r\n                    let vArr = window.pJson?window.pJson:[];                    \r\n                    vArr = vArr.filter(v=>v.option_values.filter(op=>op.label==option).length>0); \r\n                    if (curl) {\r\n                        vArr.filter(v=>v.option_values.filter(op=>op.label.includes(curl)).length>0);\r\n                    }\r\n                    if (grey) {                \r\n                        if (grey.trim().length==0) {                        \r\n                            $(\".alertBox-find-option span\").html(\"Please choose Grey %\");\r\n                            $(\".alertBox-find-wrapper\").show();\r\n                            return false;\r\n                        }\r\n                        vArr = vArr.filter(v=>v.option_values.filter(op=>op.label==grey).length>0);\r\n                    }\r\n                    if (vArr.length>0) {\r\n                        fetch('//shp-webserver.glitch.me/add-teamdesk', {\r\n                            method: 'POST',\r\n                            headers: {\r\n                                'Content-Type': 'application/json',\r\n                                Accept: 'application/json'\r\n                            },\r\n                            body: JSON.stringify({\r\n                                table: 't_447395',\r\n                                body: [\r\n                                    {\r\n                                        \"Type\": \"Wish List --  Not Paid Yet\",\r\n                                        \"Order Status\": \"Wish List on hold\",\r\n                                        \"Items\": vArr[0].sku,\r\n                                        \"Request Quantity\": no,\r\n                                        \"SKU\": vArr[0].sku,\r\n                                        \"Notes\": product+\"\\nRequest sent from www.superhairpieces.com\",\r\n                                        \"Email\": email,\r\n                                        \"Men's Grey Hair Percentage\": grey?grey:null,\r\n                                        \"Client Full Name\": name,\r\n                                        \"Client Cell Phone\": phone,\r\n                                        \"Men's Hair Color\": option\r\n                                    }\r\n                                ]\r\n                            })\r\n                        })\r\n                        .then(r=>r.json())\r\n                        .then(d=>{\r\n                            if (d.length>0) {\r\n                                if (d[0].status == 201) {\r\n                                    let content = `<style>\r\n                                    .sign-done {\r\n                                        text-align: center;\r\n                                        margin-top: 100px;\r\n                                        text-transform: uppercase;        \r\n                                        font-size: 1.4rem;\r\n                                    }\r\n                                    </style>\r\n                                    <div class=\"sign-done\">sign up successfully</div>`;\r\n                                    modal.updateContent(content);\r\n                                } else {\r\n                                    swal({\r\n                                        text: 'Could not create your record. Please try again or contact us.',\r\n                                        type: 'info',\r\n                                    });\r\n                                }\r\n                            } else {\r\n                                swal({\r\n                                    text: 'Could not send your record. Please try again or contact us.',\r\n                                    type: 'info',\r\n                                });\r\n                            }                        \r\n                        })\r\n                        .catch(e=>{\r\n                            console.log(e);                        \r\n                            swal({\r\n                                text: 'Error happened. Please try again or contact us.',\r\n                                type: 'info',\r\n                            });\r\n                        })                      \r\n                    } else {\r\n                        swal({\r\n                            text: 'Your selection is not available',\r\n                            type: 'info',\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                $(\".alertBox-find-option span\").html(\"Please apply option\");\r\n                $(\".alertBox-find-wrapper\").show();\r\n            }\r\n        })\r\n\r\n        $('body').on('click', '.btn-book', (event) => {\r\n            event.preventDefault();\r\n\r\n            //These won't change\r\n            const productSku = $(event.currentTarget).data('book-sku');\r\n            const productName = $(event.currentTarget).data('book-name');\r\n            const productVariant = $(event.currentTarget).data('variant-json');\r\n            //This one will change\r\n            const productId = $(event.currentTarget).attr('data-book-id');\r\n\r\n            modal.open({ size: 'large' });\r\n\r\n            utils.api.product.getById(productId, { template: 'products/quick-back-order' }, (err, response) => {            \r\n                response += `<div style=\"display:none\" class=\"product-sku\">${productSku}</div><div style=\"display:none\" class=\"product-name\">${productName}</div></div>`;\r\n                response += `<script>\r\n                    let vjs = ${JSON.stringify(productVariant)};                \r\n                    let color = document.querySelector(\".select-color select\");\r\n                    if (document.querySelector(\".select-grey select\")){\r\n                        let grey = document.querySelector(\".select-grey select\");\r\n                        color.addEventListener(\"change\", function() {                \r\n                            document.querySelector(\".select-grey\").style.display=\"block\";\r\n                            let vArr = vjs.filter(v=>v.option_values.filter(op=>op.label==color.options[color.selectedIndex].text).length>0);\r\n                            Array.from(grey.options).forEach((opt, idx)=> {\r\n                                let vt = vArr.filter(v=>v.option_values.filter(op=>op.label==opt.text).length>0);                    \r\n                                if (vt.length>0) {\r\n                                    if (vt[0].inventory_level>0) {\r\n                                        opt.style.display = \"none\";                            \r\n                                    } else {\r\n                                        opt.style.display = \"block\";\r\n                                    }\r\n                                } else {\r\n                                    opt.style.display = \"block\";\r\n                                }\r\n                            });\r\n                        });\r\n                    } else {            \r\n                        Array.from(color.options).forEach((opt, idx)=> {                        \r\n                            let vt = vjs.filter(v=>v.option_values.filter(op=>op.label==opt.text).length>0);                        \r\n                            if (vt.length>0) {\r\n                                if (vt[0].inventory_level>0) {\r\n                                    opt.style.display = \"none\";\r\n                                } else {\r\n                                    opt.style.display = \"block\";\r\n                                }\r\n                            } else {\r\n                                opt.style.display = \"block\";\r\n                            }\r\n                        });\r\n                    }\r\n                </script>`;\r\n                modal.updateContent(response);\r\n\r\n                modal.$content.find('.productView').addClass('productView--quickView');\r\n\r\n                modal.$content.find('[data-slick]').slick();\r\n\r\n                return new ProductDetails(modal.$content.find('.quick-preorder'), this.context);\r\n            });\r\n        });\r\n\r\n        $('body').on('click', '.btn-book-more', (event) => {\r\n            event.preventDefault();\r\n\r\n            //These won't change\r\n            const productSku = $(event.currentTarget).data('book-sku');\r\n            const productName = $(event.currentTarget).data('book-name');\r\n            const obj = $(event.currentTarget).data('book-select');\r\n            const grey = $(event.currentTarget).data('book-grey');\r\n            const customer = $(event.currentTarget).data('book-customer');\r\n            const customerEmail = $(event.currentTarget).data('book-customer-email');\r\n            const customerName = $(event.currentTarget).data('book-customer-name');\r\n            const customerPhone = $(event.currentTarget).data('book-customer-phone');\r\n            const productId = $(event.currentTarget).data('product-id');\r\n            const attrColorName = $(event.currentTarget).data('color-attribute');\r\n            const attrGreyName = $(event.currentTarget).data('grey-attribute');\r\n            let variantJson = $(event.currentTarget).data('variant-json');        \r\n            //This one will change         \r\n            if (customer) {\r\n                modal.open({ size: 'large' });\r\n                let gsel ='';\r\n                let vButton = '';\r\n                if (variantJson.length>0) {\r\n                    variantJson = JSON.stringify(variantJson);\r\n                    vButton=`<div class=\"find-btn-apply button button--primary\" data-book-sku=\"${productSku}\" data-book-product='${productName}' data-book-quantity='1'>sign up</div><script>var pJson = ${variantJson};</script>`;\r\n                } else {\r\n                    vButton=`<div>Our server could not get the options' information. Please try again later.</div>`;\r\n                }\r\n                if (grey) {\r\n                    let gops = '';\r\n                    for (let op of grey.data) {\r\n                        gops += `<option value=\"${op.value}\" data-attr=\"${op.attr}\">${op.value}</option>`;\r\n                    }\r\n                    gsel = `<div class=\"find-select-wrapper find-grey-wrap\" style=\"display:none;\">\r\n                        <label for=\"select-color\" class=\"find-select-label\">Grey Hair %</label>\r\n                        <select name=\"select-color\" class=\"find-select find-grey\" onchange=\"setSelect1(this)\">\r\n                            ${gops}\r\n                        </select>            \r\n                    </div>\r\n                    <script>\r\n                        document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-grey\", \" \");\r\n                        function setSelect1(obj) {                        \r\n                            if (obj.selectedIndex > 0) {\r\n                                document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-grey\", obj.value);\r\n                            } else {\r\n                                document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-grey\", \" \");\r\n                            }\r\n                            // document.querySelector(\".btn-notify-check-available\").setAttribute(\"data-notify-attrGreyName\", \"${attrGreyName}\");\r\n                            // document.querySelector(\".btn-notify-check-available\").setAttribute(\"data-notify-attrGreyValue\", obj.options[obj.selectedIndex].getAttribute(\"data-attr\"));                        \r\n                            // document.querySelector(\".btn-notify-check-available\").click();\r\n                        }                    \r\n                    </script>`;\r\n                }\r\n                let csel = '';\r\n                if (productName.toUpperCase().includes(\"PERM\")) {\r\n                    csel = `<div class=\"find-select-wrapper\">\r\n                        <label for=\"select-color\" class=\"find-select-label\">Wavy</label>\r\n                        <select name=\"select-color\" class=\"find-select find-curl\" onchange=\"setSelect2(this)\">\r\n                            <option value=\"18mm\" data-attr=\"18mm\" selected>18mm</option>\r\n                            <option value=\"22mm\" data-attr=\"22mm\">22mm</option>\r\n                            <option value=\"25mm\" data-attr=\"25mm\">25mm</option>\r\n                        </select>            \r\n                    </div>\r\n                    <script>\r\n                        document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-curl\", \"18mm\");\r\n                        function setSelect2(obj) {                        \r\n                            if (obj.selectedIndex > 0) {\r\n                                document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-curl\", obj.value);\r\n                            } else {\r\n                                document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-curl\", \" \");\r\n                            }                            \r\n                        }                    \r\n                    </script>`;\r\n                }\r\n                let ops = '';\r\n                for (let op of obj.data) {\r\n                    ops += `<option value=\"${op.value}\" data-attr=\"${op.attr}\">${op.value}</option>`;\r\n                }\r\n                let content = `<style>\r\n                    .find-wrapper {\r\n                        padding: 0.5rem 2rem 1rem;\r\n                    }\r\n                    .find-title {\r\n                        text-transform: uppercase;        \r\n                        font-weight: 400;\r\n                        margin-bottom: 2rem;\r\n                    }\r\n                    .find-item-title {\r\n                        margin: 2rem 0;\r\n                    }\r\n                    .find-select-label, .find-quantity-label {\r\n                        text-transform: uppercase;\r\n                        margin-bottom: 0.7rem;\r\n                    }\r\n                    .find-product {\r\n                        font-style: italic;\r\n                        font-weight: 400;\r\n                        font-size: 1.2rem;\r\n                    }\r\n                    .find-input {\r\n                        width: 100%;\r\n                        padding: 0.5rem 1rem;\r\n                        margin-bottom: 2rem;;\r\n                    }\r\n                    .find-select-wrapper, .find-quantity-wrapper {\r\n                        margin-bottom: 2rem;\r\n                    }\r\n                    .find-select {\r\n                        width: 100%;\r\n                        padding: 0.5rem 1rem;\r\n                    }\r\n                    .find-quantity {\r\n                        padding: 0.5rem 1rem;\r\n                    }\r\n                    .find-btn-apply {\r\n                        text-transform: uppercase;                    \r\n                    }\r\n                    .alertBox-find-wrapper {\r\n                        display: none;\r\n                    }\r\n                    .find-stock-available {\r\n                        display: none;\r\n                        margin-bottom: 2rem;\r\n                        color: #0057ad;\r\n                        font-size: 1.2rem;\r\n                        font-style: italic;\r\n                    }\r\n                </style>\r\n                <div class=\"modal-body find-wrapper\">\r\n                    <h1 class=\"find-title\">notify me when available</h1>\r\n                    <div>Select your option and we'll email you if it's back in stock</div>\r\n                    <div class=\"find-item-title\">Product: <span class=\"find-product\">${productName}</span></div>\r\n                    <div class=\"alertBox alertBox--error alertBox-find-wrapper\">\r\n                        <div class=\"alertBox-column alertBox-icon\">\r\n                            <icon glyph=\"ic-error\" class=\"icon\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"></path></svg></icon>\r\n                        </div>\r\n                        <p class=\"alertBox-column alertBox-message alertBox-find-option\">\r\n                            <span></span>\r\n                        </p>\r\n                    </div>\r\n                    ${csel}\r\n                    <div class=\"find-select-wrapper\">\r\n                        <label for=\"select-color\" class=\"find-select-label\">Hair color</label>\r\n                        <select name=\"select-color\" class=\"find-select select-notify find-color\" onchange=\"setSelect(this)\">\r\n                            ${ops}\r\n                        </select>            \r\n                    </div>\r\n                    ${gsel}                \r\n                    <div class=\"find-quantity-wrapper\">\r\n                        <label for=\"input-quantity\" class=\"find-quantity-label\">Quantity</label>\r\n                        <div>\r\n                            <input class=\"find-quantity\" min=\"1\" type=\"number\" value=\"1\" onchange=\"setQuantity(this)\" max=\"99\"/>\r\n                        </div>\r\n                    </div>                \r\n                    ${vButton}\r\n                </div>\r\n                <script>                \r\n                    if (document.querySelector(\".find-btn-apply\")) {\r\n                        let vJson = ${variantJson};\r\n                        document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-email\", \"${customerEmail}\");\r\n                        document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-client-phone\", \"${customerPhone}\");\r\n                        document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-client-fullname\", \"${customerName}\");  \r\n                        if (document.querySelector(\".find-grey\")) {} else {\r\n                            let colorData = ${JSON.stringify(obj.data)};                        \r\n                            Array.from(document.querySelector(\".find-color\").options).forEach((opt,idx) => {                            \r\n                                let vt = vJson.filter(v=>v.option_values.filter(op=>op.label==opt.value).length>0);                            \r\n                                if (vt.length>0) {\r\n                                    if (vt[0].inventory_level>0) {\r\n                                        opt.text = colorData[idx].value+\" (\"+vt[0].inventory_level+\" in stock)\";\r\n                                        opt.style.color=\"#000\";\r\n                                        opt.disabled=false;\r\n                                    } else {\r\n                                        opt.text = colorData[idx].value;\r\n                                        opt.style.color=\"#000\";\r\n                                        opt.disabled=false;\r\n                                    }\r\n                                } else {\r\n                                    if (idx>0) {\r\n                                        opt.text = colorData[idx].value + \"(Non-stock color option)\";\r\n                                        opt.style.color=\"#ccc\";\r\n                                        opt.disabled=true;\r\n                                    } else {\r\n                                        opt.style.color=\"#ccc\";\r\n                                        opt.disabled=true;\r\n                                    }\r\n                                }\r\n                            });\r\n                        }                  \r\n                        function setQuantity(obj) {\r\n                            document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-quantity\", obj.value);\r\n                        }\r\n                        function setSelect(obj) {\r\n                            document.querySelector(\".find-btn-apply\").setAttribute(\"data-book-option\", obj.value);         \r\n                            if (document.querySelector(\".find-grey\")) {\r\n                                let greyData = ${JSON.stringify(grey)};\r\n                                if (greyData.data) {\r\n                                    greyData = greyData.data;\r\n                                }\r\n                                // let vArr = vJson.filter(v=>v.option_values.filter(op=>op.label.replaceAll(\"  \",\" \")==obj.value).length>0); \r\n                                let vArr = [];\r\n                                if (document.querySelector(\".find-curl\")) {                                    \r\n                                    vArr = vJson.filter(v=>v.option_values.filter(op=>op.label.includes(document.querySelector(\".find-curl\").value)).length>0); \r\n                                    vArr = vArr.filter(v=>v.option_values.filter(op=>op.label.replaceAll(\"  \",\" \")==obj.value).length>0); \r\n                                }\r\n                                else {                                    \r\n                                    vArr = vJson.filter(v=>v.option_values.filter(op=>op.label.replaceAll(\"  \",\" \")==obj.value).length>0); \r\n                                }\r\n                                document.querySelector(\".find-grey-wrap\").style.display=\"block\";\r\n                                Array.from(document.querySelector(\".find-grey\").options).forEach((opt,idx) => {                                                                 \r\n                                    let vt = vArr.filter(v=>v.option_values.filter(op=>op.label==opt.value).length>0);                                 \r\n                                    if (vt.length>0) {\r\n                                        if (vt[0].inventory_level>0) {\r\n                                            opt.text = greyData[idx].value+\" (\"+vt[0].inventory_level+\" in stock)\";\r\n                                            opt.style.color=\"#000\";\r\n                                            opt.disabled=false;\r\n                                        } else {\r\n                                            opt.text = greyData[idx].value;\r\n                                            opt.style.color=\"#000\";\r\n                                            opt.disabled=false;\r\n                                        }\r\n                                    } else {\r\n                                        if (idx>0) {\r\n                                            opt.text = greyData[idx].value + \"(Non-stock color option)\";\r\n                                            opt.style.color=\"#ccc\";\r\n                                            opt.disabled=true;\r\n                                        } else {\r\n                                            opt.style.color=\"#ccc\";\r\n                                            opt.disabled=true;\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                </script>`;\r\n                modal.updateContent(content);\r\n            } else {\r\n                window.location = '/login.php';\r\n            }\r\n        });\r\n\r\n        next();\r\n    }\r\n\r\n    after(next) {\r\n        this.productReviewHandler();\r\n\r\n        next();\r\n    }\r\n\r\n    productReviewHandler() {\r\n        if (this.url.indexOf('#write_review') !== -1) {\r\n            this.$reviewLink.click();\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/theme/product.js","import $ from 'jquery';\r\nimport nod from '../common/nod';\r\nimport { CollapsibleEvents } from '../common/collapsible';\r\nimport forms from '../common/models/forms';\r\n\r\nexport default class {\r\n    constructor($reviewForm) {\r\n        this.validator = nod({\r\n            submit: $reviewForm.find('input[type=\"submit\"]'),\r\n        });\r\n\r\n        this.$reviewsContent = $('#product-reviews');\r\n        this.$collapsible = $('[data-collapsible]', this.$reviewsContent);\r\n\r\n        this.initLinkBind();\r\n        this.injectPaginationLink();\r\n        this.collapseReviews();\r\n    }\r\n\r\n    /**\r\n     * On initial page load, the user clicks on \"(12 Reviews)\" link\r\n     * The browser jumps to the review page and should expand the reviews section\r\n     */\r\n    initLinkBind() {\r\n        const $content = $('#productReviews-content', this.$reviewsContent);\r\n\r\n        $('.productView-reviewLink').click(() => {\r\n            if (!$content.hasClass('is-open')) {\r\n                this.$collapsible.trigger(CollapsibleEvents.click);\r\n            }\r\n        });\r\n    }\r\n\r\n    collapseReviews() {\r\n        // We're in paginating state, do not collapse\r\n        if (window.location.hash && window.location.hash.indexOf('#product-reviews') === 0) {\r\n            return;\r\n        }\r\n\r\n        // force collapse on page load\r\n        this.$collapsible.trigger(CollapsibleEvents.click);\r\n    }\r\n\r\n    /**\r\n     * Inject ID into the pagination link\r\n     */\r\n    injectPaginationLink() {\r\n        const $nextLink = $('.pagination-item--next .pagination-link', this.$reviewsContent);\r\n        const $prevLink = $('.pagination-item--previous .pagination-link', this.$reviewsContent);\r\n\r\n        if ($nextLink.length) {\r\n            $nextLink.attr('href', `${$nextLink.attr('href')} #product-reviews`);\r\n        }\r\n\r\n        if ($prevLink.length) {\r\n            $prevLink.attr('href', `${$prevLink.attr('href')} #product-reviews`);\r\n        }\r\n    }\r\n\r\n    registerValidation(context) {\r\n        this.context = context;\r\n        this.validator.add([{\r\n            selector: '[name=\"revrating\"]',\r\n            validate: 'presence',\r\n            errorMessage: this.context.reviewRating,\r\n        }, {\r\n            selector: '[name=\"revtitle\"]',\r\n            validate: 'min-length:2',\r\n            errorMessage: this.context.reviewSubject,\r\n        }, {\r\n            selector: '[name=\"revtext\"]',\r\n            validate: 'min-length:2',\r\n            errorMessage: this.context.reviewComment,\r\n        }, {\r\n            selector: '[name=\"email\"]',\r\n            validate: (cb, val) => {\r\n                const result = forms.email(val);\r\n                cb(result);\r\n            },\r\n            errorMessage: this.context.reviewEmail,\r\n        }]);\r\n\r\n        return this.validator;\r\n    }\r\n\r\n    validate() {\r\n        return this.validator.performCheck();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/theme/product/reviews.js","import $ from 'jquery';\r\n\r\nexport class VideoGallery {\r\n    constructor($element) {\r\n        this.$player = $element.find('[data-video-player]');\r\n        this.$videos = $element.find('[data-video-item]');\r\n        this.currentVideo = {};\r\n        this.bindEvents();\r\n    }\r\n\r\n    selectNewVideo(e) {\r\n        e.preventDefault();\r\n\r\n        const $target = $(e.currentTarget);\r\n\r\n        this.currentVideo = {\r\n            id: $target.data('video-id'),\r\n            $selectedThumb: $target,\r\n        };\r\n\r\n        this.setMainVideo();\r\n        this.setActiveThumb();\r\n    }\r\n\r\n    setMainVideo() {\r\n        this.$player.attr('src', `//www.youtube.com/embed/${this.currentVideo.id}`);\r\n    }\r\n\r\n    setActiveThumb() {\r\n        this.$videos.removeClass('is-active');\r\n        this.currentVideo.$selectedThumb.addClass('is-active');\r\n    }\r\n\r\n    bindEvents() {\r\n        this.$videos.on('click', this.selectNewVideo.bind(this));\r\n    }\r\n}\r\n\r\nexport default function videoGallery() {\r\n    const pluginKey = 'video-gallery';\r\n    const $videoGallery = $(`[data-${pluginKey}]`);\r\n\r\n    $videoGallery.each((index, element) => {\r\n        const $el = $(element);\r\n        const isInitialized = $el.data(pluginKey) instanceof VideoGallery;\r\n\r\n        if (isInitialized) {\r\n            return;\r\n        }\r\n\r\n        $el.data(pluginKey, new VideoGallery($el));\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/theme/product/video-gallery.js"],"sourceRoot":""}
webpackJsonp([1],{

/***/ 169:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__page_manager__ = __webpack_require__(67);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__product_reviews__ = __webpack_require__(436);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_collapsible__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_product_details__ = __webpack_require__(166);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__product_video_gallery__ = __webpack_require__(437);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__common_form_utils__ = __webpack_require__(105);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__bigcommerce_stencil_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__global_modal__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_sweetalert2__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_sweetalert2__);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return call&&(typeof call==='object'||typeof call==='function')?call:self}function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}/*
 Import all product specific js
 */var Product=function(_PageManager){_inherits(Product,_PageManager);function Product(context){_classCallCheck(this,Product);var _this=_possibleConstructorReturn(this,_PageManager.call(this,context));_this.url=window.location.href;_this.$reviewLink=__WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-reveal-id="modal-review-form"]');return _this}Product.prototype.before=function before(next){var _this2=this;// Listen for foundation modal close events to sanitize URL after review.
__WEBPACK_IMPORTED_MODULE_0_jquery___default()(document).on('close.fndtn.reveal',function(){if(_this2.url.indexOf('#write_review')!==-1&&typeof window.history.replaceState==='function'){window.history.replaceState(null,document.title,window.location.pathname)}});next()};Product.prototype.loaded=function loaded(next){var _this3=this;var validator=void 0;// Init collapsible
Object(__WEBPACK_IMPORTED_MODULE_3__common_collapsible__["b" /* default */])();this.productDetails=new __WEBPACK_IMPORTED_MODULE_4__common_product_details__["a" /* default */](__WEBPACK_IMPORTED_MODULE_0_jquery___default()('.productView'),this.context,window.BCData.product_attributes);Object(__WEBPACK_IMPORTED_MODULE_5__product_video_gallery__["a" /* default */])();var $reviewForm=Object(__WEBPACK_IMPORTED_MODULE_6__common_form_utils__["b" /* classifyForm */])('.writeReview-form');var review=new __WEBPACK_IMPORTED_MODULE_2__product_reviews__["a" /* default */]($reviewForm);__WEBPACK_IMPORTED_MODULE_0_jquery___default()('body').on('click','[data-reveal-id="modal-review-form"]',function(){validator=review.registerValidation(_this3.context)});$reviewForm.on('submit',function(){if(validator){validator.performCheck();return validator.areAll('valid')}return false});var modal=Object(__WEBPACK_IMPORTED_MODULE_8__global_modal__["b" /* defaultModal */])();__WEBPACK_IMPORTED_MODULE_0_jquery___default()('body').on('click','.find-btn-apply',function(event){event.preventDefault();//use data() function for unchangable attribute
var product=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-product');var sku=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-sku');// const productJson = $(event.currentTarget).data('product-json');
//use attr() function for changable attribute
var email=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).attr('data-book-email');var option=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).attr('data-book-option');var no=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).attr('data-book-quantity');var grey=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).attr('data-book-grey');var name=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).attr('data-book-client-fullname');var phone=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).attr('data-book-client-phone');var curl=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).attr('data-book-curl');if(option){if(option.toLowerCase().includes('choose')){__WEBPACK_IMPORTED_MODULE_0_jquery___default()('.alertBox-find-option span').html('Please choose option');__WEBPACK_IMPORTED_MODULE_0_jquery___default()('.alertBox-find-wrapper').show()}else{var vArr=window.pJson?window.pJson:[];vArr=vArr.filter(function(v){return v.option_values.filter(function(op){return op.label==option}).length>0});if(curl){vArr.filter(function(v){return v.option_values.filter(function(op){return op.label.includes(curl)}).length>0})}if(grey){if(grey.trim().length==0){__WEBPACK_IMPORTED_MODULE_0_jquery___default()('.alertBox-find-option span').html('Please choose Grey %');__WEBPACK_IMPORTED_MODULE_0_jquery___default()('.alertBox-find-wrapper').show();return false}vArr=vArr.filter(function(v){return v.option_values.filter(function(op){return op.label==grey}).length>0})}if(vArr.length>0){fetch('//shp-webserver.glitch.me/add-teamdesk',{method:'POST',headers:{'Content-Type':'application/json',Accept:'application/json'},body:JSON.stringify({table:'t_447395',body:[{'Type':'Wish List --  Not Paid Yet','Order Status':'Wish List on hold','Items':vArr[0].sku,'Request Quantity':no,'SKU':vArr[0].sku,'Notes':product+'\nRequest sent from www.superhairpieces.com','Email':email,'Men\'s Grey Hair Percentage':grey?grey:null,'Client Full Name':name,'Client Cell Phone':phone,'Men\'s Hair Color':option}]})}).then(function(r){return r.json()}).then(function(d){if(d.length>0){if(d[0].status==201){var content='<style>\n                                    .sign-done {\n                                        text-align: center;\n                                        margin-top: 100px;\n                                        text-transform: uppercase;        \n                                        font-size: 1.4rem;\n                                    }\n                                    </style>\n                                    <div class="sign-done">sign up successfully</div>';modal.updateContent(content)}else{__WEBPACK_IMPORTED_MODULE_9_sweetalert2___default()({text:'Could not create your record. Please try again or contact us.',type:'info'})}}else{__WEBPACK_IMPORTED_MODULE_9_sweetalert2___default()({text:'Could not send your record. Please try again or contact us.',type:'info'})}}).catch(function(e){console.log(e);__WEBPACK_IMPORTED_MODULE_9_sweetalert2___default()({text:'Error happened. Please try again or contact us.',type:'info'})})}else{__WEBPACK_IMPORTED_MODULE_9_sweetalert2___default()({text:'Your selection is not available',type:'info'})}}}else{__WEBPACK_IMPORTED_MODULE_0_jquery___default()('.alertBox-find-option span').html('Please apply option');__WEBPACK_IMPORTED_MODULE_0_jquery___default()('.alertBox-find-wrapper').show()}});__WEBPACK_IMPORTED_MODULE_0_jquery___default()('body').on('click','.btn-book',function(event){event.preventDefault();//These won't change
var productSku=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-sku');var productName=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-name');var productVariant=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('variant-json');//This one will change
var productId=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).attr('data-book-id');modal.open({size:'large'});__WEBPACK_IMPORTED_MODULE_7__bigcommerce_stencil_utils__["b" /* default */].api.product.getById(productId,{template:'products/quick-back-order'},function(err,response){response+='<div style="display:none" class="product-sku">'+productSku+'</div><div style="display:none" class="product-name">'+productName+'</div></div>';response+='<script>\n                    let vjs = '+JSON.stringify(productVariant)+';                \n                    let color = document.querySelector(".select-color select");\n                    if (document.querySelector(".select-grey select")){\n                        let grey = document.querySelector(".select-grey select");\n                        color.addEventListener("change", function() {                \n                            document.querySelector(".select-grey").style.display="block";\n                            let vArr = vjs.filter(v=>v.option_values.filter(op=>op.label==color.options[color.selectedIndex].text).length>0);\n                            Array.from(grey.options).forEach((opt, idx)=> {\n                                let vt = vArr.filter(v=>v.option_values.filter(op=>op.label==opt.text).length>0);                    \n                                if (vt.length>0) {\n                                    if (vt[0].inventory_level>0) {\n                                        opt.style.display = "none";                            \n                                    } else {\n                                        opt.style.display = "block";\n                                    }\n                                } else {\n                                    opt.style.display = "block";\n                                }\n                            });\n                        });\n                    } else {            \n                        Array.from(color.options).forEach((opt, idx)=> {                        \n                            let vt = vjs.filter(v=>v.option_values.filter(op=>op.label==opt.text).length>0);                        \n                            if (vt.length>0) {\n                                if (vt[0].inventory_level>0) {\n                                    opt.style.display = "none";\n                                } else {\n                                    opt.style.display = "block";\n                                }\n                            } else {\n                                opt.style.display = "block";\n                            }\n                        });\n                    }\n                </script>';modal.updateContent(response);modal.$content.find('.productView').addClass('productView--quickView');modal.$content.find('[data-slick]').slick();return new __WEBPACK_IMPORTED_MODULE_4__common_product_details__["a" /* default */](modal.$content.find('.quick-preorder'),_this3.context)})});__WEBPACK_IMPORTED_MODULE_0_jquery___default()('body').on('click','.btn-book-more',function(event){event.preventDefault();//These won't change
var productSku=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-sku');var productName=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-name');var obj=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-select');var grey=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-grey');var customer=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-customer');var customerEmail=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-customer-email');var customerName=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-customer-name');var customerPhone=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('book-customer-phone');var productId=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('product-id');var attrColorName=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('color-attribute');var attrGreyName=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('grey-attribute');var variantJson=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(event.currentTarget).data('variant-json');//This one will change         
if(customer){modal.open({size:'large'});var gsel='';var vButton='';if(variantJson.length>0){variantJson=JSON.stringify(variantJson);vButton='<div class="find-btn-apply button button--primary" data-book-sku="'+productSku+'" data-book-product=\''+productName+'\' data-book-quantity=\'1\'>sign up</div><script>var pJson = '+variantJson+';</script>'}else{vButton='<div>Our server could not get the options\' information. Please try again later.</div>'}if(grey){var gops='';for(var _iterator=grey.data,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value}var op=_ref;gops+='<option value="'+op.value+'" data-attr="'+op.attr+'">'+op.value+'</option>'}gsel='<div class="find-select-wrapper find-grey-wrap" style="display:none;">\n                        <label for="select-color" class="find-select-label">Grey Hair %</label>\n                        <select name="select-color" class="find-select find-grey" onchange="setSelect1(this)">\n                            '+gops+'\n                        </select>            \n                    </div>\n                    <script>\n                        document.querySelector(".find-btn-apply").setAttribute("data-book-grey", " ");\n                        function setSelect1(obj) {                        \n                            if (obj.selectedIndex > 0) {\n                                document.querySelector(".find-btn-apply").setAttribute("data-book-grey", obj.value);\n                            } else {\n                                document.querySelector(".find-btn-apply").setAttribute("data-book-grey", " ");\n                            }\n                            // document.querySelector(".btn-notify-check-available").setAttribute("data-notify-attrGreyName", "'+attrGreyName+'");\n                            // document.querySelector(".btn-notify-check-available").setAttribute("data-notify-attrGreyValue", obj.options[obj.selectedIndex].getAttribute("data-attr"));                        \n                            // document.querySelector(".btn-notify-check-available").click();\n                        }                    \n                    </script>'}var csel='';if(productName.toUpperCase().includes('PERM')){csel='<div class="find-select-wrapper">\n                        <label for="select-color" class="find-select-label">Wavy</label>\n                        <select name="select-color" class="find-select find-curl" onchange="setSelect2(this)">\n                            <option value="18mm" data-attr="18mm" selected>18mm</option>\n                            <option value="22mm" data-attr="22mm">22mm</option>\n                            <option value="25mm" data-attr="25mm">25mm</option>\n                        </select>            \n                    </div>\n                    <script>\n                        document.querySelector(".find-btn-apply").setAttribute("data-book-curl", "18mm");\n                        function setSelect2(obj) {                        \n                            if (obj.selectedIndex > 0) {\n                                document.querySelector(".find-btn-apply").setAttribute("data-book-curl", obj.value);\n                            } else {\n                                document.querySelector(".find-btn-apply").setAttribute("data-book-curl", " ");\n                            }                            \n                        }                    \n                    </script>'}var ops='';for(var _iterator2=obj.data,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{_i2=_iterator2.next();if(_i2.done)break;_ref2=_i2.value}var _op=_ref2;ops+='<option value="'+_op.value+'" data-attr="'+_op.attr+'">'+_op.value+'</option>'}var content='<style>\n                    .find-wrapper {\n                        padding: 0.5rem 2rem 1rem;\n                    }\n                    .find-title {\n                        text-transform: uppercase;        \n                        font-weight: 400;\n                        margin-bottom: 2rem;\n                    }\n                    .find-item-title {\n                        margin: 2rem 0;\n                    }\n                    .find-select-label, .find-quantity-label {\n                        text-transform: uppercase;\n                        margin-bottom: 0.7rem;\n                    }\n                    .find-product {\n                        font-style: italic;\n                        font-weight: 400;\n                        font-size: 1.2rem;\n                    }\n                    .find-input {\n                        width: 100%;\n                        padding: 0.5rem 1rem;\n                        margin-bottom: 2rem;;\n                    }\n                    .find-select-wrapper, .find-quantity-wrapper {\n                        margin-bottom: 2rem;\n                    }\n                    .find-select {\n                        width: 100%;\n                        padding: 0.5rem 1rem;\n                    }\n                    .find-quantity {\n                        padding: 0.5rem 1rem;\n                    }\n                    .find-btn-apply {\n                        text-transform: uppercase;                    \n                    }\n                    .alertBox-find-wrapper {\n                        display: none;\n                    }\n                    .find-stock-available {\n                        display: none;\n                        margin-bottom: 2rem;\n                        color: #0057ad;\n                        font-size: 1.2rem;\n                        font-style: italic;\n                    }\n                </style>\n                <div class="modal-body find-wrapper">\n                    <h1 class="find-title">notify me when available</h1>\n                    <div>Select your option and we\'ll email you if it\'s back in stock</div>\n                    <div class="find-item-title">Product: <span class="find-product">'+productName+'</span></div>\n                    <div class="alertBox alertBox--error alertBox-find-wrapper">\n                        <div class="alertBox-column alertBox-icon">\n                            <icon glyph="ic-error" class="icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></svg></icon>\n                        </div>\n                        <p class="alertBox-column alertBox-message alertBox-find-option">\n                            <span></span>\n                        </p>\n                    </div>\n                    '+csel+'\n                    <div class="find-select-wrapper">\n                        <label for="select-color" class="find-select-label">Hair color</label>\n                        <select name="select-color" class="find-select select-notify find-color" onchange="setSelect(this)">\n                            '+ops+'\n                        </select>            \n                    </div>\n                    '+gsel+'                \n                    <div class="find-quantity-wrapper">\n                        <label for="input-quantity" class="find-quantity-label">Quantity</label>\n                        <div>\n                            <input class="find-quantity" min="1" type="number" value="1" onchange="setQuantity(this)" max="99"/>\n                        </div>\n                    </div>                \n                    '+vButton+'\n                </div>\n                <script>                \n                    if (document.querySelector(".find-btn-apply")) {\n                        let vJson = '+variantJson+';\n                        document.querySelector(".find-btn-apply").setAttribute("data-book-email", "'+customerEmail+'");\n                        document.querySelector(".find-btn-apply").setAttribute("data-book-client-phone", "'+customerPhone+'");\n                        document.querySelector(".find-btn-apply").setAttribute("data-book-client-fullname", "'+customerName+'");  \n                        if (document.querySelector(".find-grey")) {} else {\n                            let colorData = '+JSON.stringify(obj.data)+';                        \n                            Array.from(document.querySelector(".find-color").options).forEach((opt,idx) => {                            \n                                let vt = vJson.filter(v=>v.option_values.filter(op=>op.label==opt.value).length>0);                            \n                                if (vt.length>0) {\n                                    if (vt[0].inventory_level>0) {\n                                        opt.text = colorData[idx].value+" ("+vt[0].inventory_level+" in stock)";\n                                        opt.style.color="#000";\n                                        opt.disabled=false;\n                                    } else {\n                                        opt.text = colorData[idx].value;\n                                        opt.style.color="#000";\n                                        opt.disabled=false;\n                                    }\n                                } else {\n                                    if (idx>0) {\n                                        opt.text = colorData[idx].value + "(Non-stock color option)";\n                                        opt.style.color="#ccc";\n                                        opt.disabled=true;\n                                    } else {\n                                        opt.style.color="#ccc";\n                                        opt.disabled=true;\n                                    }\n                                }\n                            });\n                        }                  \n                        function setQuantity(obj) {\n                            document.querySelector(".find-btn-apply").setAttribute("data-book-quantity", obj.value);\n                        }\n                        function setSelect(obj) {\n                            document.querySelector(".find-btn-apply").setAttribute("data-book-option", obj.value);         \n                            if (document.querySelector(".find-grey")) {\n                                let greyData = '+JSON.stringify(grey)+';\n                                if (greyData.data) {\n                                    greyData = greyData.data;\n                                }\n                                // let vArr = vJson.filter(v=>v.option_values.filter(op=>op.label.replaceAll("  "," ")==obj.value).length>0); \n                                let vArr = [];\n                                if (document.querySelector(".find-curl")) {                                    \n                                    vArr = vJson.filter(v=>v.option_values.filter(op=>op.label.includes(document.querySelector(".find-curl").value)).length>0); \n                                    vArr = vArr.filter(v=>v.option_values.filter(op=>op.label.replaceAll("  "," ")==obj.value).length>0); \n                                }\n                                else {                                    \n                                    vArr = vJson.filter(v=>v.option_values.filter(op=>op.label.replaceAll("  "," ")==obj.value).length>0); \n                                }\n                                document.querySelector(".find-grey-wrap").style.display="block";\n                                Array.from(document.querySelector(".find-grey").options).forEach((opt,idx) => {                                                                 \n                                    let vt = vArr.filter(v=>v.option_values.filter(op=>op.label==opt.value).length>0);                                 \n                                    if (vt.length>0) {\n                                        if (vt[0].inventory_level>0) {\n                                            opt.text = greyData[idx].value+" ("+vt[0].inventory_level+" in stock)";\n                                            opt.style.color="#000";\n                                            opt.disabled=false;\n                                        } else {\n                                            opt.text = greyData[idx].value;\n                                            opt.style.color="#000";\n                                            opt.disabled=false;\n                                        }\n                                    } else {\n                                        if (idx>0) {\n                                            opt.text = greyData[idx].value + "(Non-stock color option)";\n                                            opt.style.color="#ccc";\n                                            opt.disabled=true;\n                                        } else {\n                                            opt.style.color="#ccc";\n                                            opt.disabled=true;\n                                        }\n                                    }\n                                });\n                            }\n                        }\n                    }\n                </script>';modal.updateContent(content)}else{window.location='/login.php'}});next()};Product.prototype.after=function after(next){this.productReviewHandler();next()};Product.prototype.productReviewHandler=function productReviewHandler(){if(this.url.indexOf('#write_review')!==-1){this.$reviewLink.click()}};return Product}(__WEBPACK_IMPORTED_MODULE_1__page_manager__["a" /* default */]);/* harmony default export */ __webpack_exports__["default"] = (Product);

/***/ }),

/***/ 436:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_nod__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_collapsible__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_models_forms__ = __webpack_require__(163);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}var _class=function(){function _class($reviewForm){_classCallCheck(this,_class);this.validator=Object(__WEBPACK_IMPORTED_MODULE_1__common_nod__["a" /* default */])({submit:$reviewForm.find('input[type="submit"]')});this.$reviewsContent=__WEBPACK_IMPORTED_MODULE_0_jquery___default()('#product-reviews');this.$collapsible=__WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-collapsible]',this.$reviewsContent);this.initLinkBind();this.injectPaginationLink();this.collapseReviews()}/**
     * On initial page load, the user clicks on "(12 Reviews)" link
     * The browser jumps to the review page and should expand the reviews section
     */_class.prototype.initLinkBind=function initLinkBind(){var _this=this;var $content=__WEBPACK_IMPORTED_MODULE_0_jquery___default()('#productReviews-content',this.$reviewsContent);__WEBPACK_IMPORTED_MODULE_0_jquery___default()('.productView-reviewLink').click(function(){if(!$content.hasClass('is-open')){_this.$collapsible.trigger(__WEBPACK_IMPORTED_MODULE_2__common_collapsible__["a" /* CollapsibleEvents */].click)}})};_class.prototype.collapseReviews=function collapseReviews(){// We're in paginating state, do not collapse
if(window.location.hash&&window.location.hash.indexOf('#product-reviews')===0){return}// force collapse on page load
this.$collapsible.trigger(__WEBPACK_IMPORTED_MODULE_2__common_collapsible__["a" /* CollapsibleEvents */].click)};/**
     * Inject ID into the pagination link
     */_class.prototype.injectPaginationLink=function injectPaginationLink(){var $nextLink=__WEBPACK_IMPORTED_MODULE_0_jquery___default()('.pagination-item--next .pagination-link',this.$reviewsContent);var $prevLink=__WEBPACK_IMPORTED_MODULE_0_jquery___default()('.pagination-item--previous .pagination-link',this.$reviewsContent);if($nextLink.length){$nextLink.attr('href',$nextLink.attr('href')+' #product-reviews')}if($prevLink.length){$prevLink.attr('href',$prevLink.attr('href')+' #product-reviews')}};_class.prototype.registerValidation=function registerValidation(context){this.context=context;this.validator.add([{selector:'[name="revrating"]',validate:'presence',errorMessage:this.context.reviewRating},{selector:'[name="revtitle"]',validate:'min-length:2',errorMessage:this.context.reviewSubject},{selector:'[name="revtext"]',validate:'min-length:2',errorMessage:this.context.reviewComment},{selector:'[name="email"]',validate:function validate(cb,val){var result=__WEBPACK_IMPORTED_MODULE_3__common_models_forms__["a" /* default */].email(val);cb(result)},errorMessage:this.context.reviewEmail}]);return this.validator};_class.prototype.validate=function validate(){return this.validator.performCheck()};return _class}();/* harmony default export */ __webpack_exports__["a"] = (_class);

/***/ }),

/***/ 437:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export VideoGallery */
/* harmony export (immutable) */ __webpack_exports__["a"] = videoGallery;
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}var VideoGallery=function(){function VideoGallery($element){_classCallCheck(this,VideoGallery);this.$player=$element.find('[data-video-player]');this.$videos=$element.find('[data-video-item]');this.currentVideo={};this.bindEvents()}VideoGallery.prototype.selectNewVideo=function selectNewVideo(e){e.preventDefault();var $target=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(e.currentTarget);this.currentVideo={id:$target.data('video-id'),$selectedThumb:$target};this.setMainVideo();this.setActiveThumb()};VideoGallery.prototype.setMainVideo=function setMainVideo(){this.$player.attr('src','//www.youtube.com/embed/'+this.currentVideo.id)};VideoGallery.prototype.setActiveThumb=function setActiveThumb(){this.$videos.removeClass('is-active');this.currentVideo.$selectedThumb.addClass('is-active')};VideoGallery.prototype.bindEvents=function bindEvents(){this.$videos.on('click',this.selectNewVideo.bind(this))};return VideoGallery}();function videoGallery(){var pluginKey='video-gallery';var $videoGallery=__WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-'+pluginKey+']');$videoGallery.each(function(index,element){var $el=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(element);var isInitialized=$el.data(pluginKey)instanceof VideoGallery;if(isInitialized){return}$el.data(pluginKey,new VideoGallery($el))})}

/***/ })

});
//# sourceMappingURL=theme-bundle.chunk.1.js.map
<link rel="stylesheet" href="/content/css/slick.css">
<style>
    .breadcrumbs {
    display: none;
}
.body.page h1 {
    display: none;
}
.css-1hcx8jb {
    display: none !important;
    font-size: 12px;
}
.page-heading {
    padding-top: 4vh;
}
@media (min-width: 801px) and (max-width:1149px) {
    .body.page {
        margin-top: 2.5rem !important;
    }
}
.body.page {
  padding: 0 !important;
}
p {
  /* margin: 0 !important; */
}
body {
  -ms-overflow-style: none;
  scrollbar-width: none;
  overflow-y: scroll;
  overflow-x: mensden;
}
.body.page .container {
  max-width: 100% !important;
  padding: 0px !important;
}
.page {
  margin: 0 !important;
  margin-bottom: 0 !important;
  margin-top: 0 !important;
  max-width: 100% !important;
}
.page-content.page-content--centered {
  padding: 0 !important;
  width: 100% !important;
}
.body.page .page-content p:first-child {
  /* display: none; */

}
</style>




<style>
  .mobilePopup {
    position: absolute;
    height: 100vh;
    z-index: 1111;
    bottom: 0;
    left: 0;
    width: 100%;
    background-color: white;
    transition: all .4s ease;
    max-height: 0;
    overflow: hidden;
  }
  .mobilePopup1 {
    height: 100%;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    width: 80%;
    margin: auto;
  }
  .serviceList {
    position: absolute;
    height: 100vh;
    /* z-index: 1111; */
    bottom: 0;
    left: 0;
    width: 100%;
    background-color: white;
    transition: all .4s ease;
    max-height: 0;
    overflow: hidden;
  }
  .bookingButton {
    background-color: rgba(0, 108, 255, 1);
    color: white;
    width: 100%;
    border-radius: 5px;
    padding: 10px 0;
    cursor: pointer;
  }
  .bookingButton1 {
    border:1px solid rgba(0, 108, 255, 1);
    color: rgba(0, 108, 255, 1);
    width: 100%;
    border-radius: 5px;
    padding: 10px 0;
    text-decoration: none;
  }
  .bookingTitle {
    font-weight: 500;
    font-size: 24px;
    color: black;
  }
  .bookingLoadbar {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;
    gap: 5px;
    margin-top: 25px;
  }
  .bookingLoad {
    height: 3px;
    width: 100%;
    background-color: #D9D9D9;
  }
  .bookingLoad.loaded {
    background-color: #006CFF;
  }
  .non-active {
    display: none;
  }
  .active {
    display: block;
  }
  .addNames {
    width: 30px;
    height: 30px;
  }
  .addNames .display_name {
    width: 20px;
    height: 20px;
  }
  .addNames .display_name:last-child {
    position: relative;
    top: -10px;
    right: -10px;
    border: 1px solid white;
  }
  .addNames1 {
    display: grid;
    grid-template-columns: 0.25fr 1fr;
    align-items: center;
    padding-left: 20px;
    margin-bottom: 10px;
    border: 1px solid #D9D9D9;
    cursor: pointer;
  }
  .bookingButton1.addNames1:not(.loaded):hover {
    border: 1px solid rgba(0, 106, 255, 0.72)
  }
  .salonist {
    height: fit-content;
    width: fit-content;
    color: black;
  }
  .display_name {
    background-color: #006CFF;
    color: white;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    font-size: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .bookingButton1.loaded {
    border: 2px solid #006CFF;
  }
  .arrow {
    width: 30px;
    height: 30px;
    border: 1px solid #006CFF;
    border-radius: 5px;
  }
  .arrow use {
    fill: #006CFF;
  }
  .arrow.disabled {
    border: 1px solid #D9D9D9;
    
  }
  .arrow.disabled use {
    fill: #D9D9D9;
  }

  .calendarTop{
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #D9D9D9;
    padding-bottom: 10px;
  }
  .gtaTopSide {
    display: none;
  }
  .gtaTopSide.slick-initialized {
    display: block;
    margin-bottom: 20px;
  }
  .mobileText {
    font-weight: 500;
    font-size: 20px;
  }
  .button3 {
    font-size: 18px;
    padding: 10px 64px;
  }
  .slick-initialized .slick-slide {
    height: fit-content;
  }
  .serviceBooking {
    overflow: auto;
  }
  .calendarMain {
    margin-top: 10px;
  }
  .calendarMain .weeks {
    display: flex;
    flex-wrap: wrap;
    font-weight: 600;
  }
  .calendarMain .days {
    display: flex;
    flex-wrap: wrap;
  }
  .calendarMain .days li {
    padding: 5px;
    z-index: 1;
    position: relative;
    margin-top: 5px;
    /* color: #006CFF; */
    font-weight: 500;
  }
  .calendarMain .days li::before {
     position: absolute;
     content: "";
     height: 30px;
     width: 30px;
     top: 50%;
     left: 50%;
     transform: translate(-50%, -50%);
     border-radius: 50%;
     border: #006CFF 1px solid;
     z-index: -1;
  }
  .calendarMain .days .selected::before {
    background-color: #006CFF;
  }
  .calendarMain .days .selected {
    color: white !important;
  }
  .calendarMain ul {
    list-style: none;
  }
  .calendarMain ul li {
    width: calc(100%/7);
  }
  .calendarMain li.inactive::before {
    border: unset;
  }
  .calendarMain li.inactive {
    color: #D9D9D9; 
  }

  .calendarMain .days .active::before {
    border: #006CFF 1px solid;
  }
  .calendarMain .days .active {
       color: #006CFF;
    cursor: pointer;

  }
  .currDay {
    color: #006CFF !important;
    text-decoration: underline;
  }
  .belowCalendar {
    text-align: start;
  }
  .belowCalendar .title {
    font-weight: 600;
    font-size: 18px;
  }
  .belowCalendar .para {
    color: #b3b3b3;
    font-size: 12px;
    padding: 10px 0;
    line-height: 1.6;
  }
  .belowCalendar .bookings {
    font-weight: 600;
  }
  .belowCalendar .time {
    padding: 10px 0;
  }
  .bookBut {
    width: fit-content;
    padding: 10px 20px;
    cursor: pointer;
  }
  .slot {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
  }
  .slot2 {
    width: 100px;
    background-color: #f6f6f6;
    color: #d3d3d3;
    border: 1px solid #f6f6f6;
    border-radius: 5px;
    text-align: center;
    padding: 6px;
  }
  .bookings {
    margin: 0;
    margin-bottom: 5px;
  }
  .active3 {
    color: white;
    background-color: #006CFF;
  }
  .mobileBottom1 {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    background-color: white;
    z-index: 2;
    box-shadow: 1px -2px 10px #888888;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
  }
  .mobileBottom1 .bots {
    /* display: flex; */
    padding: 20px;
    /* gap: 10px; */
  }
  .mobileBottom1 .botss {
    padding: 20px;
  }
  .serviceBooking {
    padding-bottom: 120px;
  }
  .mobileBookConfirm {
    justify-content: unset;
  }
  .bookingConfirm {
    text-align: start;
    width: 95%;
    margin: 0 auto;
    margin-top: 25px;
  }
  .bookingConfirm .title {
    font-size: 18px;
    font-weight: 600;
  }
  .bookingConfirm .title2 {
    font-weight: 600;
    margin-bottom: unset;
    font-size: 18px;
  }
  .bookingConfirm .para {
    margin: 10px 0;
    margin-left: 13px;
  }
  .oldClients {
    text-align: center;
  }
  .signIn_square {
    border: 1px solid #C8C8C8;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 18px 40px;
    gap: 10px;
  }
  .signIn_square .text {
    margin-bottom: 0;
  }
  .oldClients .button2 {
    border: 1px solid #C8C8C8;
    border-radius: 8px;
    padding: 18px;
    margin-bottom: 10px;
    cursor: pointer;
  }
  .oldClients .back {
    margin: 15px 0;
    color: #9D9D9D;
  }
  .bookingLoadbar.four {
    grid-template-columns: 1fr 1fr 1fr 1fr;
  }
  .serviceList .top-list {
    display: flex;
    /* justify-content: space-around; */
    background-color: #D9D9D9;
    border-radius: 25px;
    /* padding: 7px; */
  }
  .serviceList .top-list .item {
    border-radius: 25px;
    padding: 10px 20px;
    flex-grow: 1;
    cursor: pointer;
  }
  .serviceList .top-list .item.active {
    background-color: #006CFF;
    color: white;
    /* border-radius: 25px;
    padding: 10px 20px; */
  }


    .page-heading {
        text-align: start;
    }
    .page-test {
        overflow: hidden;
        transition: max-height .5s ease-in-out;
    }
    .page-test1 {
        padding-bottom: 1.25rem;
    }
    .brand-add {
        transition: max-height .5s ease-in-out;
    }


    .page-tab {
        border-bottom: 1px solid #dddddd;
    }
    .page-menuIcon {
        position: absolute;
        top: 50%;
        left:50%;
        transform: translate(-50%, -50%);
        font-size: 40px;
    }
    .page-button {
        width: 100%;
        padding: .9375rem 3.125rem .9375rem 1.25rem ;
        text-align: start;
        position: relative;
        font-weight: 500;
    }
    .page-button::after {
      content: "<";
            display: block;
            position: absolute;
            font-size: 1.75rem;
            right: 0px;
            text-align: center;
            top: 50%;
            transform: rotate(90deg) translateX(-50%);
            width: 1.25rem;
            /* transition: transform 0.3s ease 0s; */
            margin: -0.525rem 1.25rem 0px;
    }
    .page-button1::after {
            content: "<";
            transform: rotate(-90deg) translateX(50%) translateY(2px);

        }
  .page-tab .list-item {
    border: 1px solid #D9D9D9;
    border-radius: 8px;
    padding: 15px;
    margin-top: 5px;
    display: grid;
    grid-template-columns: auto 1fr auto;
    cursor: pointer;
  }
  .page-tab .list-item:hover {
    border: 1px solid #006CFF;
  }
  .list-item.active {
    border: 2px solid #006CFF !important;
  }
  .list-item.newClass {
    display: grid;
    grid-template-columns: auto auto 1fr;
    position: relative;
    padding: 10px 0;
    padding-right: 25px;
    width: 100%;
  }
  .newClass::after {
    content: "";
    background-image: url('../../../assets/img/gta/delete.png');
    position: absolute;
    top: 50%;
    right: 0;
    transform: translate(0, -50%);
    width: 25px;
    height: 25px;
    background-repeat: no-repeat;
  }
  .newClass > div:first-of-type {
    padding-right: 10px;
  }
  .list-mens {

  }
  .list-services {
    overflow: auto;
    height: 57%;
    padding-bottom: 40px;
  }

  .botss .total {
    text-align: end;
    font-weight: 600;
    font-size: 18px;
  }
  .botss .service:not(.non-active) {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .botss .service .service-arrow {
    width: 20px;
    margin-bottom: 5px;
  }
  .serviceList .serviceBooking {
    height: 100%;
    padding-bottom: 300px;
  }
  .serviceList .calendarMain li.inactive {
    text-align: center;
  }
  .hidden {
    display: none;
  }
  .mobilePopup .bookNowButton::before {
    content: '';
    display: none;
    width: 20px;
    height: 20px;
    border: 2px solid #c5c5cf;
    border-radius: 100%;
    border-top: 2px solid transparent;
    -webkit-animation: button-load-animate infinite linear 1s;
    animation: button-load-animate infinite linear 1s;
  }
  .loadButton::before {
    content: '';
    display: none;
    width: 20px;
    height: 20px;
    border: 2px solid #c5c5cf;
    border-radius: 100%;
    border-top: 2px solid transparent;
    -webkit-animation: button-load-animate infinite linear 1s;
    animation: button-load-animate infinite linear 1s;
  }
  .loadButton.loading {
    pointer-events: none;
    font-size: 0;
  }
  .loadButton.loading::before {
    display: inline-block;
    vertical-align: middle;
  }
  .mobilePopup .bookNowButton.loading {
    pointer-events: none;
    font-size: 0;
  }
  .mobilePopup .bookNowButton.loading::before {
    display: inline-block;
    vertical-align: middle;
  }

  .serviceList .bookNowButton::before {
    content: '';
    display: none;
    width: 20px;
    height: 20px;
    border: 2px solid #c5c5cf;
    border-radius: 100%;
    border-top: 2px solid transparent;
    -webkit-animation: button-load-animate infinite linear 1s;
    animation: button-load-animate infinite linear 1s;
  }
  .serviceList .bookNowButton.loading {
    pointer-events: none;
    font-size: 0;
  }
  .serviceList .bookNowButton.loading::before {
    display: inline-block;
    vertical-align: middle;
  }
  .loader2 {
    position: absolute;
    height: 100%;
    width: 100%;
    background-color: rgb(255, 255, 255);
    left: 0;
    z-index: 2;
    top: 0;
  }
  .loader {
  font-size: 10px;
  width: 1em;
  height: 1em;
  border-radius: 50%;
  position: absolute;
  text-indent: -9999em;
  animation: mulShdSpin 1.1s infinite ease;
  transform: translateZ(0);
  top: 30%;
  left: 50%;
}
input:focus {
  outline: none;
}

.gtaTopDesktop {
  display: none;
}
/* .gtaTopSide {
  display: none;
} */
.gtaInitialDesktop {
  display: flex; 
  flex-direction: 
  column; 
  gap: 20px;
}
.gtaMobileService {
  display: flex; 
  flex-direction: 
  column; gap: 20px;
}
.desktopBottom {
  display: none;
}
.staffBooking .desktop {
  display: none;
}
.salonistBottom {
  display: none;
}
.selectDesktop {
    display: none;
  }
.serviceBooking .title2 {
  text-align: start;
  font-weight: 600;
  font-size: 18px;
}
.serviceBookingSide {
  display: none;
}
.serviceSideBooking {
  display: none;
}
.bookingForm {
  text-align: start;
   margin-top: 10px;
    padding-bottom:100px;
   overflow: auto;
}
.gtaBookinPage {
  width: 90%;
   margin: auto;
    color: black;
    /* height: 100vh; */
}
.gtaFirstDesktop {
  text-align: center;
   border-top: 1px solid rgba(187, 187, 187, 1);
   border-bottom: 1px solid rgba(187, 187, 187, 1);
   padding: 20px 0;
}
.bookingTitle2 {
  font-weight: 500;
   padding: 10px 0;
    width: 80%;
     text-align: center;
      margin: auto;
}
.bookingTitle3 {
  display: none;
}
.multiServiceSide {
  display: none;
}
.staffBooking .desktop {
  display: none;
}
.list-service-title {
  display: none;
}
.signUpinput {
  width: 100%;
  border: 1px solid #C8C8C8;
  border-radius: 5px;
  padding: 10px;
  margin-bottom: 10px;
}
.cancel {
  color: #9D9D9D;
  margin-top: 10px;
}
.squareupLogin .title {
  font-weight: 600;
  text-align: start;
  font-size: 17px;
}
.oldClientsCode .title {
  font-weight: 600;
  text-align: start;
  font-size: 17px;
}
.squareupLogin .bottom {
  margin:35px 0;
}
.squareupLogin .bottom p {
  margin-bottom: 10px;
  color: #777777;
}
.squareupLogin .bottom div {
  color: #377DE7 ;
  font-weight: 500;
}
.requestButton::before {
    content: '';
    display: none;
    width: 20px;
    height: 20px;
    border: 2px solid #c5c5cf;
    border-radius: 100%;
    border-top: 2px solid transparent;
    -webkit-animation: button-load-animate infinite linear 1s;
    animation: button-load-animate infinite linear 1s;
}
.requestButton.loading {
    pointer-events: none;
    font-size: 0;
    display: block;
    text-align: center;
  }
  .requestButton.loading::before {
    display: inline-block ;
    vertical-align: middle ;
  }
.clientProfile {
  border: 1px solid #C8C8C8;
  padding: 18px;
  border-radius: 6px;
margin-bottom: 10px;
}
.clientProfile .topBlock .info {
  display: flex;
  gap: 15px;
  align-items: center;
  margin-bottom: 15px;
}
.clientProfile .midBlock {
  display: flex;
  justify-content: center;
  gap: 10px;
  align-items: center;
}
.clientProfile .topBlock .info .initial {
  width: 50px;
  height: 50px;
  background-color: #006CFF;
  color: white;
  border-radius: 50%;
  padding: 5px;
  display: flex;
  justify-content: center;
  align-items: center;
  
}
.clientProfile .topBlock .info .name {
  font-weight: 600;
  font-size: 18px;

}
.clientProfile .bottomBlock {
  margin-top: 30px;
}
.clientProfile .bottomBlock p {
  margin: 0
}
.clientProfile .bottomBlock .title {
  text-align: start;
  margin-bottom: 10px;
  font-weight: 600;
  font-size: 16px;
}
.clientProfile .bottomBlock .apptList {
  width: 100%;
  display: flex;
  background-color: #D9D9D9;
  border-radius: 25px;
}
.clientProfile .bottomBlock .appointmentList {
  margin-top: 30px;
}
.clientProfile .bottomBlock .apptList .active {
  background-color: #006CFF;
}
.clientProfile .bottomBlock .apptList div {
  width: 100%;
  padding: 10px 20px;
  border-radius: 25px;
  cursor: pointer;
}
.clientProfile .bottomBlock .apptList div.active {
  background-color: #006CFF;
  color: white;
}
.clientProfile .bottomBlock .appointmentList .upcomingList {
  position: relative;
  min-height: 100px;
}
.clientProfile .bottomBlock .appointmentList .pastList {
  position: relative;
  min-height: 100px;

}
.apptBlock {
  border: 1px solid #C8C8C8;
  padding: 10px;
  border-radius: 5px;
  margin-top: 10px;
  position: relative;
}
.apptBlock span {
  position: absolute;
  top: 10px;
  right: 7px;
  color: #006CFF;
  font-weight: 600;
  font-size: 13px;
}
.apptBlock:hover {
  border: 1px solid #006CFF;
}
.apptBlock .sellerinfo {
  display: flex;
  gap: 20px;
  align-items: center;
  margin-bottom: 30px;
}
.apptBlock .sellerinfo .sellerFirst{
  width: 50px;
  height: 50px;
  background-color: #006CFF;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
}
.apptBlock .details {
  display: flex;
  gap: 15px;
  text-align: start;
}
.apptBlock .dateTime.details {
  margin: 10px 0;
  font-weight: 600;
}

.apptDetails {
  position: absolute;
  height: 100vh;
  z-index: 1111;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: white;
  transition: all .4s ease;
  overflow: hidden;
  max-height: 0;
  text-align: center;
}
.apptDetails .topBlock {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
  align-items: center;
  gap: 20px;
}
.apptDetails .detailsBlock {
  border: 1px solid #C8C8C8;
  padding: 10px;
  border-radius: 5px;
  margin-top: 10px;
  position: relative;
  width: 80%;
  margin: auto;
  max-width: 500px;
}
.apptDetails .detailsTopBlock {
  width: 80%;
  max-width: 500px;
  margin: 25px auto;
}
.apptDetails .detailsTopBlock .title {
  font-weight: 600;
  font-size: 22px;
}
.apptDetails .initial {
  width: 50px;
  height: 50px;
  background-color: #006CFF;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
}
.apptDetails .topBlock {
  text-align: start;
}
.apptDetails .confirmed {
  color: #8b8b8b;
}
.apptDetails .name {
  font-weight: 600;
  font-size: 16px;
}
.apptDetails .date {
  font-weight: 600;
}
.apptDetails .service {
  margin: 20px 0;
  font-size: 16px;
}
.apptDetails .address {
  color: #8b8b8b;
}
.apptDetails .bookings {
  color: #006CFF;
  margin-top: 30px;
  font-weight: 600;
}
.profileBlock .profileInfo {
  border: 1px solid #C8C8C8;
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  border-radius: 5px;
  margin-top: 20px;
}
.profileBlock .block {
  display: flex;
  align-items: center;
  gap: 10px;
}
.profileBlock .block img {
  width: 25px;
}
.profileBlock .block p {
  margin: 0;
}
.accExistsOverlay {
  position: absolute;
  z-index: 111111;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  background-color: rgba(0, 0, 0, .72);
}
.accExistsOverlay1 {
  position: absolute;
  z-index: 111111;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  background-color: rgba(0, 0, 0, .72);
}
.accExistsOverlay1 .block {
  background-color: white;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  padding: 20px;
  width: 80%;
  max-width: 400px;
}
.accExistsOverlay .block {
  background-color: white;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  padding: 10px 20px;
  width: 80%;
  max-width: 400px;
}
.accExistsOverlay1 .para {
  font-weight: 500;
  font-size: 18px;
}
.accExistsOverlay1 .para:last-of-type {
  font-size: 14px;
  color: gray;
}
.accExistsOverlay .para {
  font-weight: 500;
  font-size: 18px;
}
.sqLogin {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 5px;
  margin-top: 8px;
}
.serviceImg {
  display: none;
  width: 45px;
}
.clientProfile .signOutBlock {
  margin-top: 10px;
}
.backButton2 {
    display: inline-flex;
    align-items: center;
    gap: 5px;
  }
@media (min-width: 1024px) {
  .desktopConfirmation {
    position: absolute;
    top: 35%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  .desktopConfirmation .block1 {
    border: 1px solid #888888;
    border-radius: 5px;
    width: 570px;
    margin-bottom: 20px;
    padding: 30px;
  }
  .desktopConfirmation .topBlock {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    text-align: start;
  }
  .desktopConfirmation .name {
    font-weight: 600;
    font-weight: 16px;
  }
  .desktopConfirmation .intial {
    width: 80px;
    height: 80px;
    background-color: #006CFF;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 18px;
  }
  .desktopConfirmation .dateBlock {
    font-weight: 600;
    margin: 20px 0;
  }
  .desktopConfirmation .serviceBlock div {
    font-size: 16px;
  }
  .clientProfile .signOutBlock {
    /* display: none; */
  }
  .serviceImg {
    display: inline-block;
  }
  .clientProfile {
    max-width: 1300px;
    margin: auto;
    border: unset;
    padding-top: 50px;
  }
  .clientProfile .topBlock .info .initial {
    width: 100px;
    height: 100px;
    font-size: 36px;
    cursor: pointer;
  }
  .clientProfile .topBlock{
    display: grid;
    grid-template-columns: 1fr 2fr;
    height: 100%;
  }
  .clientProfile .info {
    flex-direction: column;
  }
  .clientProfile .midBlock {
    flex-direction: column;
  }
  .clientProfile .midBlock .bookingButton {
    width: 100% !important;
  }
  .clientProfile .bottomBlock {
    margin-top: 0;
    max-height: 80%;
    overflow-y: scroll;
  }
  .accExistsOverlay .block {
    padding: 45px;
  }
  .accExistsOverlay p {
    margin: unset;
    margin-bottom: 10px;
  }
  .list-service-title {
    display: block;
  }
  .list-service-title.non-active {
    display: none;
  }
  .staffBooking .desktop {
    display: block;
    color: gray;
    font-weight: 500;
    font-size: 16px;
  }
  .gtaFirstDesktop {
    border: unset;
  }
  .gtaFirstDesktop .bookingTitle {
    display: none;
  }
  .gtaFirstDesktop .bookingTitle2 {
    display: none;
  }
  .gtaFirstDesktop .bookingTitle3 {
    display: block;
  }
  .gtaTopSide img{
    height: calc(50vh - 25px);
  }
  .gtaBookinPage {
    overflow: hidden;
  width: 100%;
   margin: auto;
    color: black;
    /* max-height: 800px; */
    height: calc(100vh - 51px);
}
  .gtaTop {
    display: none;
  }
  .gtaTopDesktop {
    display: block;
    text-align: center;
  }
  .gtaTopSide {
    display: block;
  }
  .newClients {
    display: grid;
    grid-template-columns: 1fr 1fr;
  }
  .bookingButton {
    max-width: 300px;
  }
  .bookingButton1 {
    max-width: 300px;
  }
  .button3 {
    padding: 15px 20px;
  }
  .gtaInitialDesktop {
    flex-direction: row;
    justify-content: center;
  }
  .gtaMobileService {
    flex-direction: row;
    justify-content: center;
  }
  .desktopBottom {
    display: flex;
    justify-content: space-between;
    border-top: 1px solid #E7E7E7;
    padding: 20px 0;
  }
  .mobileBottom {
    display: block;
  }
  .mobileGTA{
    display: none;
  }
  .serviceList .mobileBottom1 {
    box-shadow: unset;
    border: unset;
    border-top-left-radius: unset;
    border-top-right-radius: unset;
    width: 80%;
  }
  .mobileBottom1 .botss {
    display: none;
  }
  .staffBooking .mobile {
    display: none;
  }
  .staffBooking .desktop {
  display: block;
}
  .addNames1 {
    max-width: 600px;
    grid-template-columns: 0.25fr 1fr .25fr;
    margin: auto;
    height: 85px;
    margin-bottom: 10px;
  }
  .salonistBottom {
    display: block;
    font-size: 12px;
    color: gray;
  }
  .salonist {
    text-align: start;
  }
  .selectDesktop {
    display: block;
    padding-right: 20px;
    text-align: end;
  }
  .bookingButton1.loaded.desktop1 {
    border: 1px solid #D9D9D9;
  }
  .serviceBookingSide {
    display: block;
    position: relative;
    height: fit-content;
    text-align: start;
    width: 43%;
    max-width: 250px;
  }
  .serviceBookingSide p {
    font-weight: 600;
  }
  .serviceBookingSide .sideBar {
    background-color: #ededed;
    padding: 15px;
  }
  .gokutest .serviceBookingSide .serviceSideServices .sideBar {
    display: none;
  }
  .sideBar .bookingName {
    text-transform: uppercase;
  }
  .sideBar .bookingTime {
    color: #aaaaaa;
  }
  .sideBar .bookingStylist {
    color: #777777;
    font-weight: 600;
  }
  .serviceBooking.active {
    display: flex;
    gap: 90px;
    margin-top: 50px;
    justify-content: center;
  }
  .bookingForm.active {
    display: flex;
    gap: 90px;
    margin-top: 50px;
  }
  .bookingForm .serviceSideBooking {
    display: block;
  }
  .jenny {
    display: block;
    width: 100%;
    background-color: #006CFF;
    color: white;
    padding: 10px;
    margin-bottom: 10px;
    border: none;
    border-radius: 5px;
  }

  .jenny::before {
    content: '';
    display: none;
    width: 20px;
    height: 20px;
    border: 2px solid #c5c5cf;
    border-radius: 100%;
    border-top: 2px solid transparent;
    -webkit-animation: button-load-animate infinite linear 1s;
    animation: button-load-animate infinite linear 1s;
  }
  .jenny.loading {
    pointer-events: none;
    font-size: 0;
  }
  .jenny.non-active {
    display: none;

  }
  .jenny.loading::before {
    display: inline-block ;
    vertical-align: middle;
  }
  .afterBooking {
    width: 100%;
    background-color: #006CFF;
    color: white;
    padding: 10px;
    margin-bottom: 10px;
    border: none;
    border-radius: 5px;
  }
  .afterBooking::before {
    content: '';
    display: none;
    width: 20px;
    height: 20px;
    border: 2px solid #c5c5cf;
    border-radius: 100%;
    border-top: 2px solid transparent;
    -webkit-animation: button-load-animate infinite linear 1s;
    animation: button-load-animate infinite linear 1s;
  }
  .afterBooking.loading {
    pointer-events: none;
    font-size: 0;
    display: block;
    text-align: center;
  }
  .afterBooking.loading::before {
    display: inline-block ;
    vertical-align: middle ;
  }
  .gtaDesktop1 {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  .newClients.non-active {
    display: none;
  }
  .serviceList .bookingLoadbar {
    display: none;
  }
  .multiServiceDesktop {
    display: none;
  }
  .loggedInDesktop {
    width: 100%;
    display: flex;
    justify-content: end;
    gap: 20px;
    margin-top: 30px;
    font-weight: 600;
  }
  .loggedInDesktop p {
    color: #006CFF;
    margin: 0;
    cursor: pointer;
  }
  .squareupSignupForm {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
  }
  .squareupSignupForm button {
    max-width: unset;

  }
  .list-service-title {
    text-align: start;
    margin: 0;
    font-weight: 600;
    font-size: 16px;
  }
  .page-button {
    padding: .9375rem 3.125rem .9375rem 5px;
  }
  .multiServiceSide {
    display: block;
    text-align: start;
    width: 285px;
  }
  .multiServiceside p {
    margin: 0;
    
  }
  .list-mens {

  }
  .list-services {
    height: 100%;
    overflow: unset;
    width: 100%;
    padding-bottom: unset;
  }
  .multiServiceDesk .serviceLoaded p {
    border-bottom: 1px solid #006CFF;
    color: #006CFF;
    width: fit-content;
  }
  .multiServiceSide .item {
    margin-bottom: 20px;
  }
  .multiServiceDesk {

    display: flex;
    gap: 90px;
    margin-top: 50px;
    /* height: 65%; */
    /* overflow: auto; */
  }
  .list-mens {

  }
  .top-list {
    margin-top: 15px;
  }
  .multiServiceSide .multiServiceItem {
    background-color: #ededed;
    padding: 15px;
    margin: 10px 0;
    position: relative;
  }
  .multiServiceSide .multiServiceStylist {
    background-color: #ededed;
    padding: 15px;
    margin: 10px 0;
    position: relative;
  }
  .gokutest .multiServiceItem {
    background-color: #ededed;
    padding: 15px;
    margin: 10px 0;
    position: relative;
  }
  /* .multiServiceSide .multiServiceItem::after {
    content: "";
    background-image: url('../../../assets/img/gta/delete.png');
    position: absolute;
    top: 15px;
    right: 15px;
    width: 25px;
    height: 25px;
    background-repeat: no-repeat;
  } */
  .multiServiceSide .multiServiceItem .trash {
    /* content: ""; */
    background-image: url('../../../assets/img/gta/delete.png');
    position: absolute;
    top: 15px;
    right: 15px;
    width: 25px;
    height: 25px;
    background-repeat: no-repeat;
  }
  .multiServiceItem .name {
    text-transform: uppercase;
  }
  .multiServiceItem .time {
    color: #aaaaaa;
  }
  .multiServiceItem .stylist {
    color: #777777;
    font-weight: 600;
  }
  .multiServiceSide.non-active {
    display: none;
  }
  .multiServiceSide.active {
    display: block;
  }
  .gokutest .serviceBooking.active {
    display: block;
    padding-bottom: 100px;
  }
  .squareupLogin.active {
    display: flex;
    flex-direction: column;
    max-width: 800px;
    margin: auto;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  .squareupLogin .bottom {
    display: flex;
    justify-content: center;
    gap: 20px;
  }
  .squareupLogin .requestButton {
    max-width: unset;
  }
  .squareupLogin .title {
    margin: 30px 0;
  }
  .oldClientsLogin.active {
    width: 500px;
    /* margin: auto; */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  .oldClients.active {
    height: 100%;
  }
  .clientProfile.active {
  height: 100%;
  }
  .oldClients.active .clientProfile.active .topBlock {
    height: 100%;
  }
  .oldClients .clientProfile.active .topBlock {
    height: 100%;
  }
  .calendarBlockMain {
    height: 80%;
    overflow-y: auto;
  }
  .serviceList .mobileBottom1 .next {
    background-color: #006CFF;
    color: white;
    padding: 5px 20px;
    border-radius: 20px;
  }
}
@keyframes mulShdSpin {
  0%,
  100% {
    box-shadow: 0em -2.6em 0em 0em #000000, 1.8em -1.8em 0 0em rgba(0,0,0, 0.2), 2.5em 0em 0 0em rgba(0,0,0, 0.2), 1.75em 1.75em 0 0em rgba(0,0,0, 0.2), 0em 2.5em 0 0em rgba(0,0,0, 0.2), -1.8em 1.8em 0 0em rgba(0,0,0, 0.2), -2.6em 0em 0 0em rgba(0,0,0, 0.5), -1.8em -1.8em 0 0em rgba(0,0,0, 0.7);
  }
  12.5% {
    box-shadow: 0em -2.6em 0em 0em rgba(0,0,0, 0.7), 1.8em -1.8em 0 0em #000000, 2.5em 0em 0 0em rgba(0,0,0, 0.2), 1.75em 1.75em 0 0em rgba(0,0,0, 0.2), 0em 2.5em 0 0em rgba(0,0,0, 0.2), -1.8em 1.8em 0 0em rgba(0,0,0, 0.2), -2.6em 0em 0 0em rgba(0,0,0, 0.2), -1.8em -1.8em 0 0em rgba(0,0,0, 0.5);
  }
  25% {
    box-shadow: 0em -2.6em 0em 0em rgba(0,0,0, 0.5), 1.8em -1.8em 0 0em rgba(0,0,0, 0.7), 2.5em 0em 0 0em #000000, 1.75em 1.75em 0 0em rgba(0,0,0, 0.2), 0em 2.5em 0 0em rgba(0,0,0, 0.2), -1.8em 1.8em 0 0em rgba(0,0,0, 0.2), -2.6em 0em 0 0em rgba(0,0,0, 0.2), -1.8em -1.8em 0 0em rgba(0,0,0, 0.2);
  }
  37.5% {
    box-shadow: 0em -2.6em 0em 0em rgba(0,0,0, 0.2), 1.8em -1.8em 0 0em rgba(0,0,0, 0.5), 2.5em 0em 0 0em rgba(0,0,0, 0.7), 1.75em 1.75em 0 0em #000000, 0em 2.5em 0 0em rgba(0,0,0, 0.2), -1.8em 1.8em 0 0em rgba(0,0,0, 0.2), -2.6em 0em 0 0em rgba(0,0,0, 0.2), -1.8em -1.8em 0 0em rgba(0,0,0, 0.2);
  }
  50% {
    box-shadow: 0em -2.6em 0em 0em rgba(0,0,0, 0.2), 1.8em -1.8em 0 0em rgba(0,0,0, 0.2), 2.5em 0em 0 0em rgba(0,0,0, 0.5), 1.75em 1.75em 0 0em rgba(0,0,0, 0.7), 0em 2.5em 0 0em #000000, -1.8em 1.8em 0 0em rgba(0,0,0, 0.2), -2.6em 0em 0 0em rgba(0,0,0, 0.2), -1.8em -1.8em 0 0em rgba(0,0,0, 0.2);
  }
  62.5% {
    box-shadow: 0em -2.6em 0em 0em rgba(0,0,0, 0.2), 1.8em -1.8em 0 0em rgba(0,0,0, 0.2), 2.5em 0em 0 0em rgba(0,0,0, 0.2), 1.75em 1.75em 0 0em rgba(0,0,0, 0.5), 0em 2.5em 0 0em rgba(0,0,0, 0.7), -1.8em 1.8em 0 0em #000000, -2.6em 0em 0 0em rgba(0,0,0, 0.2), -1.8em -1.8em 0 0em rgba(0,0,0, 0.2);
  }
  75% {
    box-shadow: 0em -2.6em 0em 0em rgba(0,0,0, 0.2), 1.8em -1.8em 0 0em rgba(0,0,0, 0.2), 2.5em 0em 0 0em rgba(0,0,0, 0.2), 1.75em 1.75em 0 0em rgba(0,0,0, 0.2), 0em 2.5em 0 0em rgba(0,0,0, 0.5), -1.8em 1.8em 0 0em rgba(0,0,0, 0.7), -2.6em 0em 0 0em #000000, -1.8em -1.8em 0 0em rgba(0,0,0, 0.2);
  }
  87.5% {
    box-shadow: 0em -2.6em 0em 0em rgba(0,0,0, 0.2), 1.8em -1.8em 0 0em rgba(0,0,0, 0.2), 2.5em 0em 0 0em rgba(0,0,0, 0.2), 1.75em 1.75em 0 0em rgba(0,0,0, 0.2), 0em 2.5em 0 0em rgba(0,0,0, 0.2), -1.8em 1.8em 0 0em rgba(0,0,0, 0.5), -2.6em 0em 0 0em rgba(0,0,0, 0.7), -1.8em -1.8em 0 0em #000000;
  }
}
  @keyframes button-load-animate {
    0%{
      transform: rotate(0deg);
    }
  
    50%{
      transform: rotate(180deg);
      opacity: .35;
    }
  
    100%{
      transform: rotate(360deg);
    }
}
</style>
<!-- <img src="/content/images/marketing/prof-acc/thumbnail.jpg" alt="thumbnail" style="width:0px;height:0px;opacity:0"/> -->
<section class="gtaBookinPage">
  <div class="gtaTop" style="text-align: center;">
    <h2 class="bookingTitle">Welcome To GTA Online Booking System</h2>
    <p>For more accurate results and a better service experience, we will carefully review booking requests and approve or make adjustments ASPA.<br><span style="color:#377DE7;">Online booking Directly Or call: <a style=" color: #377DE7;" href="tel:+19059171805">(905) 917-1805</a></span></p>
  </div>
  <div class="newClients">
    <div class="gtaTopSide">
      <div>
        <img style="object-fit: cover;" src="../../../assets/img/gta/image1.jpg">
      </div>
      <div>
        <img style="object-fit: cover;" src="../../../assets/img/gta/image2.jpg">

      </div>
    </div>
    <div class="gtaDesktop1">
      <div class="gtaTopDesktop">
        <h2 class="bookingTitle">Welcome To GTA Online Booking System</h2>
        <p style="font-weight: 600; margin: unset;">Mon - Fri / 10:00AM - 6:00PM. Sat-Sun Closed.</p>
        <p style="font-weight: 600;">Federal Holidays Closed.</p>
      </div>
  
      <div class="gtaFirstDesktop">
        <h2 class="bookingTitle" style="margin: 0;">Let's Book Now!</h2>
        <p class="bookingTitle2">Save Time And Money With Our Booking System</p>
        <p class="bookingTitle3">Online Booking Directly</p>
        <button class="buttonApt bookingButton">Book Appointment</button>
        <p class="bookingTitle3">or</p>
        <p class="bookingTitle3">Call: (905) 917-1805</p>

      </div>
      <div style="text-align: center; margin: 20px 0;">
        <p>Want to cancel your appointment?</p>
          <a href="mailto:sales@superhairpieces.com">
            <button class="bookingButton1">
              Email Us
            </button></a>
      </div>
    </div>

  </div>

  <div class="oldClients non-active">
    <div class="oldClientsLogin ">
      <div class="signIn_square">
        <div class="block" style="width: 100%;">
          <p class="text">Sign in to choose your preferences</p>
          <button class="button bookingButton sqLogin">Sign in / Sign up with 
            <img style="width: 70px;" src="../../../assets/img/gta/Square_LogoLockup_White.svg">


          </button>
        </div>
        <div class="myAppts non-active" style="width: 100%;">
          
          <button class="bookingButton loadButton">My Appointments</button> 
          <div style="margin-top: 15px; color: #006CFF;">Sign out</div>
        </div>
    
      </div>
      <div>
        <p>or</p>
        <p>Choose a new service</p>
      </div>
      <div>
        <div data-service="Men" data-service-cate="KYEHUUDWR5NEVDVGK2NOS2G4" class="button2">

          Men Services</div>
        <div data-service="Women" data-service-cate="VDIJ4PWVCEC6JEX4INMJ4FO3" class="button2">Women Services</div>
        <div data-service="Consultation" class="button2">Consultation Services</div>
      </div>
      <div class="back">Back</div>
    </div>

  </div>
  <div class="multiServiceSide non-active">
    <div class="item service serviceLoaded">
      <p>Select services</p>
    </div>
    <div class="item stylist">
      <p>Select stylist</p>

    </div>
    <!-- <div class="item dateAndTime">
      <p>Select date and time</p>

    </div>
    <div class="item details">
      <p>Enter your details</p>

    </div> -->
  </div>
  <div class="serviceList non-active">
    <div style="width: 80%; margin: auto; max-width: 1200px;">
      <div class="bookingLoadbar four">
        <div class="bookingLoad"></div>
        <div class="bookingLoad"></div>
        <div class="bookingLoad"></div>
        <div class="bookingLoad"></div>
      </div>
      <div class="gokutest" style="text-align: center;">
        <p class="multiServiceDesktop">Service List</p>
        <div class="loggedInDesktop non-active">
          <p class="para">My Appointments</p>
          <p class="para1">Sign Out</p>
        </div>
        <div class="top-list">
          <div class="item active">Men</div>
          <div class="item">Women</div>
          <div class="item">Consultation</div>
        </div>
        <div class="multiServiceDesk">
        <div class="multiServiceDesk1" style="width: 100%; ">
          <p class="list-service-title">Select one or more services:</p>
          

          <div class="list-mens list-services" style="position: relative;">
            <span class="loader2">
              <span class="loader"></span>
            </span>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Installation</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="installation" class="page-test1">
    
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Installation + Color</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="installationcolor" class="page-test1">
    
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Maintenance</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="maintenance" class="page-test1">
    
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Maintenance + Color</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div style="position: relative;" id="maintenancecolor" class="page-test1">
                    <div class="loader2">
                      <div class="loader"></div>
                    </div>
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Hair Trim</button>
              </p>
              <div  class="page-test" style="max-height: 0px;">
                  <div id="hairtrim" class="page-test1">
    
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Perm</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="perm" class="page-test1">
    
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">System Template</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="systemtemplate" class="page-test1">
    
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Misc</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="misc" class="page-test1">
    
                  </div>
              </div>
            </div>
          </div>
          <div class="list-womens list-services non-active" style="position: relative;">
            <span class="loader2">
              <span class="loader"></span>
            </span>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Installation</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="installation" class="page-test1">
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Installation + Color</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="installationcolor" class="page-test1">
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Maintenance</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="maintenance" class="page-test1">
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Maintenance + Color</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="maintenancecolor" class="page-test1">
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Perm</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="perm" class="page-test1">
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">System Template</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="systemtemplate" class="page-test1">
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Misc</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="misc" class="page-test1">
                  </div>
              </div>
            </div>
          </div>
          <div class="list-consult list-services non-active" style="position: relative;">
            <span class="loader2">
              <span class="loader"></span>
            </span>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Womens</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="installation" class="page-test1">
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Mens</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="installation" class="page-test1">
                  </div>
              </div>
            </div>
            <div class="page-tab">
              <p style="display: flex; margin-bottom: 0;" onclick="openFAQ(this)">
                  <button class="page-button">Online</button>
              </p>
              <div class="page-test" style="max-height: 0px;">
                  <div id="installation" class="page-test1">
                  </div>
              </div>
            </div>
          </div>
        </div>

        </div>


      </div>
      <div class="form1234" style="overflow: auto; height: 100%; padding-bottom: 20px;"></div>

    </div>

    <div class="mobileBottom1 non-active">
      <div class="botss">


        <div class="service">
          <img class="service-arrow non-active" src="../../../assets/img/gta/arrow-double.png">
        </div>
        <div class="total non-active" >
          <span>Total</span>
          <span class="price"></span>
        </div>
        <div class="pleaseSelect"></div>
        <div style="display:flex; gap: 10px;">
          <button class="bookingButton1 backButton">Back</button>
          <button class="bookingButton nextButton">Next</button>
          <button class="bookingButton confirmButton loadButton non-active">Confirm</button>
          <label style="text-align:center ;"  tabindex="0" for="submit-form2" class="bookingButton bookNowButton non-active">Book Now</label>
        </div>
      </div>
      <div class="desktopBottom">
        <p class="oldCancel">Cancel</p>
        <p class="next">Next</p>
        <p class="oldBack">Back</p>
    </div>
    </div>
  </div>
  <div class="mobilePopup">
      <div class="mobilePopup1">
        <div class="bookingLoadbar">
          <div class="bookingLoad"></div>
          <div class="bookingLoad"></div>
          <div class="bookingLoad"></div>
          <div class="bookingLoad"></div>
          <div class="bookingLoad"></div>
          <div class="bookingLoad"></div>
        </div>

        <div class="mobileMain mobileInitial non-active" >
          <p class="mobileText">Is this your first service appointment with Superhairpieces?</p>
          <div class="gtaInitialDesktop">
            <button id="1" class="bookingButton button3">Yes</button>
            <button id="2" class="bookingButton button3">No, I'd like to sign in / sign up</button>
          </div>
        </div>

        <div id="service1" class="mobileMain mobileService non-active">
          <p class="mobileText">Which service do you need?</p>
          <div class="gtaMobileService">
            <button id='mens' class="bookingButton1 button3">
              <img class="serviceImg" style="width: 45px;" src="../../../assets/img/gta/men.png">
              Men services</button>
            <button id="womens" class="bookingButton1 button3">
              <img class="serviceImg" style="width: 45px;" src="../../../assets/img/gta/women.png">
            
              Women services</button>
            <button id="consultation" class="bookingButton1 button3">
              <img class="serviceImg" style="width: 45px;" src="../../../assets/img/gta/consultation.png">
              
              Consultation</button>
          </div>
        </div>
        <div id="service2" class="mobileMain mobileSystem2 non-active">
          <p class="mobileText">Do you require an in-person consultation to determine which system is right for you?</p>
          <div class="gtaMobileService">
            <button id="yes" class="bookingButton button3">Yes</button>
            <button id="no" class="bookingButton button3">No</button>
          </div>
        </div>
        <div class="mobileMain mobileSystem3 non-active">
          <p class="mobileText">What hair system are you going to consult?</p>
          <div class="gtaMobileService">
            <button id="mens" class="bookingButton button3">Men's</button>
            <button id="womens" class="bookingButton button3">Women's</button>
          </div>
        </div>
        <div id="system1" class="mobileMain mobileSystem non-active">
          <p class="mobileText">Do you have any hair systems?</p>
          <div class="gtaMobileService">
            <button id="systemYes" class="bookingButton button3">Yes</button>
            <button id="systemBuy" class="bookingButton button3">No, Let's buy one</button>
          </div>
        </div>
        <div id="service2" class="mobileMain mobileService2 non-active">
          <p class="mobileText">What service do you need?</p>
          <div class="gtaMobileService">
            <button id="Installation" class="bookingButton button3">Installation</button>
            <button id="Maintenance" class="bookingButton button3">Maintenance</button>
          </div>
          <p style="font-weight: 400; font-size: 18px; margin-top: 50px;">Don't know what to do? Let's listen to our expert advices</p>
          <button id="serviceCons" class="bookingButton button3">Consultation</button>
        </div>
        <div id="service3" class="mobileMain mobileService3 non-active">
          <p class="mobileText">Do you require color on your own hair?<span id="change"></span></p>
          <div class="gtaMobileService">
            <button class="bookingButton button3">Yes</button>
            <button class="bookingButton button3">No</button>
          </div>
        </div>


        <div class="form123" style="overflow: auto; "></div>
        <div class="mobileBottom non-active">
          <div class="mobileGTA">
            <div>
              <button class="mobileCancel" style="color: #377DE7;">Cancel</button>
              <div class="backButton2 non-active">
                <p style="color: #377DE7; margin: 0;">|</p>
                <button style="color: #377DE7;" class="backButton2 non-active">Back</button>
              </div>
            </div>
            <p style="color:#555555;">Any Questions?<br>
            Please Call: (905) 917-1805</p>
          </div>
          <div class="desktopBottom">
              <p class="newCancel">Cancel</p>
              <p class="newBack">Back</p>
          </div>
        </div>

      </div>
      <div class="mobileBottom1 non-active">
        <div class="bots">
          <div class="pleaseSelect"></div>
          <div style="display: flex; gap: 10px;">
            <button class="bookingButton1 backButton">Back</button>
            <button class="bookingButton nextButton">Next</button>
            <button class="bookingButton confirmButton non-active">Confirm</button>
            <label style="text-align:center ;"  tabindex="0" for="submit-form1" class="bookingButton bookNowButton non-active">Book Now</label>
          </div>
        </div>
      </div>
    </div>
<div id="bookingConfirmation" class="mobileMain bookingConfirm non-active">
  <p class="title">Booking Information</p>
  <div style="position:relative;">
    <span class="loader2" style="height: 270px;">
      <span class="loader"></span>
    </span>
    <div>
      <p class="title2">&#x2022; Service :</p>
      <div class="para" id="serviceType"></div>
    </div>
    <div>
      <p class="title2">&#x2022; Hair Stylist :</p>
      <div class="para" id="stylistName"></div>
    </div>
    <div>
      <p class="title2">&#x2022; Date and time :</p>
      <div class="para" id="dateSelected"></div>
    </div>
    <div class="notes non-active">
      <p class="title2">&#x2022; Appointment Notes :</p>
      <div class="para" name="apptNotes" id="apptNotes"></div>

    </div>
  </div>
</div>
<div class="bookingForm non-active">
  <div class="serviceBookingSide">
  </div>
  <div style="width: 100%;">
    <p style="font-weight: 600; font-size: 18px;">You're nearly done. Enter your details below.</p>
    <form id="myForm1">
      <div style="display: flex; gap: 10px; margin-bottom: 10px;">
        <select style="padding:12px;border: 1px solid lightgray; border-radius: 5px; width: auto;" name="country" id="country">
          <option value="+1">Canada</option>
        </select>
        <input style="padding:12px;border: 1px solid lightgray; border-radius: 5px; width: 100%;" name="number" placeholder="(000) 000 0000" required>
      </div>
  
      <input style="margin-bottom: 10px; padding:12px; width: 100%; border: 1px solid lightgray; border-radius: 5px;" name="email" placeholder="Email" required>
      <div style="display: flex; gap: 10px; margin-bottom: 10px;">
        <input style="padding:12px; width: 100%; border: 1px solid lightgray; border-radius: 5px;" name="firstName" placeholder="First name" required>
        <input style="padding:12px; width: 100%; border: 1px solid lightgray; border-radius: 5px;" name="lastName" placeholder="Last name" required>
      </div>
  
      <textarea style= "padding:12px;margin-bottom: 10px; width:100%; border: 1px solid lightgray; border-radius: 5px; resize: none;" rows="4" name="appNotes" placeholder="Appointment notes (optional)"></textarea>
      <div style="font-weight: 500;">
        <input type="checkbox" id="vehicle3" name="vehicle3" required>
        <label>I have read and agree to the <span style="text-decoration: underline;">cancellation policy</span></label>
      </div>
  
      <p style="margin-top:19px; color:gray;">Refunds and cancellations are subject to the <a style="color: #006CFF; text-decoration: none;" target="_blank">cancellation policy</a> of Superhairpieces.ca. Please contact Superhairpieces.ca to learn more about their privacy practices.</p>
      <p style="color:gray;">Upon booking, Square will automatically create an account for you with Square Appointments. You can sign back into Superhairpieces.ca using your mobile number at any time.</p>
      <div class="submitFormButtons">
        <input type="submit" id="submit-form1" class="hidden jenny" value="Book appointment"/>
        <div class="afterBooking non-active"></div>
      </div>
      
      <p style="color:gray;">By creating this appointment, you acknowledge you will receive automated transactional messages from this merchant.</p>
    </form>
  </div>

</div>
<div class="mobileMain staffBooking non-active">
  <p class="mobile" style="font-size: 18px; margin: 10px 0;">Hair Stylist</p>
  <p class="desktop">Select staff for</p>
  <div class="staffMembers">
      <div data-team-member-name="Any available" data-team-member-id="" class="bookingButton1 addNames1 loaded desktop1">
        <span class="addNames"></span>
        <div class="salonist" >
          Any Available Staff Member
          <span class="salonistBottom">Looking for the first available appointment? Choose this option to see everyone's availability</span>
        </div>
        <div class="selectDesktop">Select</div>
      </div>
  </div>
</div>
<div class="serviceSide non-active">

  <div class="serviceSideServices">
    <div class="loader2">
      <div class="loader"></div>
    </div>
    <p>Select services and staff - <span class="serviceEdit" style="color: #006CFF;">Edit</span></p>
    <div class="sideBar">
      <div class="bookingName"></div>
      <div class="bookingPrice"></div>
      <div class="bookingTime"></div>
      <div class="bookingStylist"></div>
    </div>
  </div>
  <div class="serviceSideBooking">
    <p>Date and time - <span class="timeEdit" style="color: #006CFF;">Edit</span></p>
    <div class="sideBar">
      <div class="bookingDate"></div>

    </div>
  </div>

</div>
<div id="serviceBooking" class="mobileMain serviceBooking non-active">
  <div class="serviceBookingSide">
  </div>
  <div class="calendarBlockMain">
    <p class="title2">Select your preferred date and time</p>  
    <div>
      <div class="calendarTest" style="position: relative;">

        <span class="loader2">
          <span class="loader"></span>
        </span>
        <div class="calendarTop">
          <svg class="arrow disabled prev-arrow">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-chevron-left"></use>
          </svg>
          <p class="calendarMonth" style="margin: unset;"></p>
          <svg class="arrow next-arrow">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-chevron-right"></use>
          </svg>
        </div>
        <div class="calendarMain" style="position: relative;">
          <!-- <span class="loader2">
            <span class="loader"></span>
          </span> -->
          <ul class="weeks">
            <li>S</li>
            <li>M</li>
            <li>T</li>
            <li>W</li>
            <li>Th</li>
            <li>F</li>
            <li>S</li>
          </ul>
          <ul class="days">
          </ul>
        </div>
        <div class="belowCalendar">
          <div class="title">Available on <span class="dayAvailable"></span></div>
          <div class="para">You can schedule an appointmnt between 12 hours and 60 days ahead of time. Time zone: Eastern Time Zone (EST)</div>
          <div class="morning time">
            <p class="bookings">Morning</p>
            <div class="slot"></div>
            <div class="slot2">All booked</div>
          </div>
          <div class="afternoon time">
            <p class="bookings">Afternoon</p>
            <div class="slot"></div>
            <div class="slot2">All booked</div>
    
          </div>
          <div class="evening time">
            <p class="bookings">Evening</p>
            <div class="slot"></div>
            <div class="slot2">All booked</div>
    
          </div>
        </div>
        <textarea style= "padding:12px;margin-bottom: 10px; width:100%; border: 1px solid lightgray; border-radius: 5px; resize: none; margin-top: 20px;" placeholder="Appointment notes (optional)" class="apptNote non-active" rows="4" name="appNotes"></textarea>
      </div>
    </div>

  </div>

</div>
<div class="gtaServiceBooking non-active">
  <div>
    <p></p>
  </div>
</div>

<div class="clientProfile non-active">
  <div class="topBlock">
    <div>
      <div class="info">
        <div class="initial"></div>
        <div class="name"></div>
      </div>
      <div class="midBlock">
        <div class="bookingButton" style="width: unset; flex-grow: 1;">Book Appointments</div>
        <div class="viewProfile" style="color: #006CFF; font-weight: 600; cursor: pointer;">View Profile</div>
      </div>
      <div class="signOutBlock">
        <div style="color: #006CFF; font-weight: 400; cursor: pointer;">Sign out</div>
      </div>
    </div>
    <div class="bottomBlock">
      <p class="title">My appointments</p>
      <div class="apptList">
        <div class="upcoming active">Upcoming</div>
        <div class="past">Past</div>
      </div>
      <div class="appointmentList">
        <div class="upcomingList">
          <span class="loader2">
            <span class="loader"></span>
          </span>
          
        </div>
        <div class="pastList non-active">
          <span class="loader2">
            <span class="loader"></span>
          </span>
        </div>
      </div>
    </div>
    <div style="margin-top: 20px; text-align: start;" class="profileBlock non-active">
      <p style="font-weight: 600; font-size: 15px;">My profile</p>
      <div>Please contact Superhairpieces.ca to update your contact information</div>
      <div class="profileInfo">
        <div class="block">
          <img src="../../../assets/img/gta/user.png">
          <p class="name">Name</p>
        </div>
        <div class="block">
          <img src="../../../assets/img/gta/mail.png">
          <p class="email">Email</p>
        </div>
        <div class="block">
          <img src="../../../assets/img/gta/phone.png">
          <p class="phoneNumber">Phone Number</p>
        </div>
      </div>
      <!-- <div>
        <p>Preferred method of communication</p>
        <form>
        </form>
        <p>Square Appointments uses electronic messages to operate. By using this service, you may continue to receive certain transaction-related messages from this merchant</p>
      </div> -->
    </div>  
  </div>
</div>

<div class="squareupLogin non-active">
  <img style="width: 100px; margin-bottom: 10px;" src="../../../assets/img/gta/Square_LogoLockup_Black.svg">
  <p class="title">Sign in to Superhairpieces.ca with Square Appointments</p>
  <div class="loginForm">
    <form id="loginForm">
      <input class="signUpinput" name="email" placeholder="Email" required>
      <div style="color: red; height: 25px;" class="accountExistence"></div>
      <button class="bookingButton requestButton" type="submit" id="loginsubmit">Request Sign In Code</button>
    </form>
    <div class="cancel" style=" cursor: pointer;">Cancel</div>
    <div class="bottom">
      <p>Don't have a Square account?</p>
      <div class="squareSignUp" style=" cursor: pointer;">Sign Up</div>
    </div>
  </div>

</div>
<div class="squareupSignupForm non-active">
  <img style="width: 100px; margin-bottom: 10px;" src="../../../assets/img/gta/Square_LogoLockup_Black.svg">
  <form id="signupForm" style="margin: 20px 0;">
    <div class="topBlock" style="display: flex; gap: 10px; margin-bottom:10px;">
      <select style="padding:12px;border: 1px solid lightgray; border-radius: 5px; width: auto;" name="country" id="country">
        <option value="+1">Canada</option>
      </select>
      <input style="padding:12px;border: 1px solid lightgray; border-radius: 5px; width: 100%;" placeholder="Phone Number" name="number">
    </div>
    <input style="margin-bottom: 10px; padding:12px; width: 100%; border: 1px solid lightgray; border-radius: 5px;" class="midEmail" placeholder="Email" name="email">
    <div class="bottomBlock"  style="display: flex; gap: 10px; margin-bottom: 10px;">
      <input style="padding:12px; width: 100%; border: 1px solid lightgray; border-radius: 5px;" placeholder="First Name" name="firstName">
      <input style="padding:12px; width: 100%; border: 1px solid lightgray; border-radius: 5px;" placeholder="Last Name" name="lastName">
    </div>
    <div class="non-active accExists" style="color: red;"></div>
    <button type="submit" class="bookingButton loadButton">Sign Up</button>
    <p style="margin-top:10px; color: #777777; cursor: pointer;">Cancel</p>
  </form>
</div>
<div class="oldClientsLogin non-active">
  <div class="signIn_square">
    <div class="block" style="width: 100%;">
      <p class="text">Sign in to choose your preferences</p>
      <button class="button bookingButton sqLogin">Sign in / Sign up with 
        <img style="width: 70px;" src="../../../assets/img/gta/Square_LogoLockup_White.svg">


      </button>
    </div>
    <div class="myAppts non-active" style="width: 100%;">
      <p style="text-align: start; font-weight: 500; font-size: 18px; margin: 0; margin-bottom: 15px;">Welcome, <span class="newName"></span></p>
      <button class="bookingButton loadButton">My Appointments</button> 
      <div style="margin-top: 15px; color: #006CFF;">Sign out</div>
    </div>

  </div>
  <div>
    <p>or</p>
    <p>Choose a new service</p>
  </div>
  <div>
    <div data-service="Men" data-service-cate="KYEHUUDWR5NEVDVGK2NOS2G4" class="button2">Men Services</div>
    <div data-service="Women" data-service-cate="VDIJ4PWVCEC6JEX4INMJ4FO3" class="button2">Women Services</div>
    <div data-service="Consultation" class="button2">Consultation Services</div>
  </div>
  <div class="back back2">Back</div>
</div>
<div class="oldClientsCode non-active">
  <p style="text-align: start; color: #777777; margin-bottom: 0;">Please check your inbox/spam for your code</p>
  <p style="text-align: start; color: #777777;">Please allow up to 5 minutes</p>

  <form id="codeLogin">
    <input class="signUpinput" name="code" placeholder="Enter Code Here" required>
    <div class="incorrectCode" style="height: 22px; color: red;"></div>
    <button class="bookingButton requestButton" type="submit" id="codeSubmit">Sign in</button>
  </form>
  <div class="cancel" style=" cursor: pointer;">Cancel</div>

</div>
<div class="apptPast non-active">
  <p class="title">Appointment passed</p>
  <p class="para">This appointment has already ended. Please book a new appointmnet.</p>
  <button class="bookingButton">Book another</button>
</div>
<div class="apptDetails non-active">
  <div class="detailsTopBlock"></div>
  <div class="detailsBlock">
    <div class="topBlock">
      <div class="initial"></div>
      <div class="nameInfo">
        <div class="confirmed">Confirmed with</div>
        <div class="name"></div>
      </div>
    </div>
    <div class="bottomBlock">
      <div class="date"></div>
      <div class="service"></div>
      <div class="address">7295 Rapistan Ct <br>Mississauga, On L5N5Z4 <br>416-800-5056</div>
    </div>
    <p class="bookings">Book another appointment</p>
    <p class="back">Back</p>
  </div>

</div>
<div class="accExistsOverlay non-active">
  <div class="block">
    <p class="para">Looks like your account already exists!</p>
    <p class="bookingButton">Sign in</p>
  </div>
</div>
<div class="accExistsOverlay1 non-active">
  <div class="block">
    <p class="para">Looks like you account already exists!</p>
    <p class="para">Please login to complete booking</p>
    <button class="bookingButton">Sign in</button>
  </div>
</div>
<div class="desktopConfirmation non-active" style=" min-height: 300px;">
  <span class="loader2">
    <span class="loader"></span>
  </span>
  <div class="block1">
    <div class="topBlock">
      <div class="intial"></div>
      <div>
        <div>Booking With</div>
        <div class="name"></div>
      </div>
    </div>
    <div class="dateBlock">
      <div></div>
    </div>
    <div class="serviceBlock">
      
    </div>
    <div style="color: gray;">
      7295 Rapistan Ct<br>
      Mississauga, ON<br>
      L5N 5Z4<br>
      416-800-5056
    </div>
  </div>
  <div class="bookBlock">
    <button class="bookingButton loadButton">Book</button>
  </div>
</div>
</section>

<script type="text/javascript" src="/content/js/slick.min.js"></script>

<script>
  const weekday = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'Septemeber', 'October', 'November', 'December'];

  let date = new Date();
  let currDate = date.getDate();
  let currYear = date.getFullYear();
  let currMonth = date.getMonth();
  let test5 = new Date(currYear, currMonth + 1,0);
  let serviceEnd = '';
  let serviceEnd1 = [];
  let stylist = '';
  let startTime = '';
  let bookedStylist = '';
  let stylistName = '';
  let duration = '0';
  let currentStylers = [];
  let total = '0.00';
  let servicesAvailable =[];
  let totalTime = 0;
  let multiService = [];
  test5.setUTCHours(23,59,59,0);
  function checkAva(currTime, lastTime, serviceId, durationTotal) {
    // console.log(lastTime)
    if (stylistName) {
      $('.serviceList .multiServiceSide .multiServiceStylist').remove();
      $('.serviceList .multiServiceSide .stylist').append(`
      <div class='multiServiceStylist'>${stylistName}</div>
      `)
    }
      serviceEnd = serviceId;
      duration = durationTotal/60000;
      let styleTest = [];
      serviceId.forEach((item) => {
        styleTest.push({
          serviceVariationId: item,
          teamMemberIdFilter : {
            any: stylist
          }
        })
      });
      fetch(`https://shp-webserver-temp.glitch.me/sq-availability`, {
        method: 'POST',
        headers: {
            accept: "application/json",
            "content-type": "application/json"
        },
        body: JSON.stringify ({
          start: currTime,
          end: lastTime,
          styling: styleTest
        })
      })
      .then(r=>r.json())
    .then(r=> {
      // multiService.push(r.availabilities);
      $('.botss .nextButton').unbind('click');
      $('.botss .backButton').unbind('click');
      $('.mobileBottom1 .bookingButton.confirmButton').unbind('click');
      if ($('.serviceList .serviceBooking').hasClass('active')) {
        let apps = r.availabilities;
      let dateSelected = new Date().toLocaleString('en-us', {weekday: 'short'});
      let firstDate = r.availabilities[0];
      let v = 0;

      // $('.calendarMain .loader2').addClass('non-active');
      // $('.calendarTest .loader2').addClass('non-active');

      if (apps.length > 0) {
        $('.currMonth').removeClass('active selected');
        apps.forEach((item) => {
          const date = new Date(item.startAt);
          const day = date.getDate();
          Array.from($('.currMonth')).forEach((item1) => {          
            if (day == item1.innerHTML) {
              if (!item1.classList.contains('active')) {
                item1.setAttribute("data-id", v);
                $(item1).addClass('active');
                v++;
              } 
            } 
          })
        });
        $('.currMonth.active').eq(0).addClass('selected');
        let x = $('.currMonth.selected').attr('data-id');
        let y = $('.currMonth.selected').attr('data-date');
        // calendarChange()
        getCurrentDateAppointments(r.availabilities[x], apps, x, y);
        if ($(window).width() >1023) {
          $('.multiServiceDesk .calendarTop .prev-arrow').addClass('disabled');
              $('.multiServiceDesk .calendarTop .next-arrow').removeClass('disabled');
          $('.multiServiceDesk .calendarTop .next-arrow').on('click', nextMonth);
        }
      } 
      else {
        $('.currMonth').removeClass('active selected');
        currMonth = currMonth + 1;
      if (currMonth < 0 || currMonth > 11) {
        date = new Date(currYear, currMonth);
        currYear = date.getFullYear();
        currMonth = date.getMonth();
      } else {
        date = new Date();
      }
      let test7 = new Date(currYear, currMonth + 1,0);
      let test8 = new Date(currYear, currMonth,1);
      $('.calendarTop .next-arrow').bind('click', nextMonth);

      test7.setUTCHours(23,59,59,0);
      calendarChange();
      bookingSq(test8.toISOString(), test7.toISOString(),serviceEnd, stylist);
      }


      $('.serviceList li.currMonth.active').on('click', function() {

        $('.currMonth.active').removeClass('selected');
        $(this).addClass('selected');
        let x = this.getAttribute('data-id');
        let y = this.getAttribute('data-date');
        getCurrentDateAppointments(r.availabilities[x], apps, x, y);
    }) 
      }
      $('.mobileBottom1 .bookingButton.confirmButton').on('click', function() {
        
        if (localStorage.getItem('email')) {
          let x = [];
          const vidutest = multiService[0].appointmentSegments.forEach((item) => {
            x.push({
              "teamMemberId": item.teamMemberId,
                "durationMinutes": item.durationMinutes,
                "serviceVariationId": item.serviceVariationId,
                "serviceVariationVersion": item.serviceVariationVersion
            })
          })
          $('.mobileBottom1 .bookingButton.confirmButton').addClass('loading');
          createBooking(localStorage.getItem('customerId'), x, ".serviceList", localStorage.getItem('customerId'));
        } else {
          $('.confirmButton').addClass('non-active');
        $('.bookNowButton').addClass('active');
        $('.bookingConfirm').removeClass('active');
        // $('.bookingForm').addClass('active');
      $('.form1234').empty().append($('.bookingForm').eq(0).clone().addClass('active'));
        $('.form1234 .bookingForm input[type=submit]').attr('id', 'submit-form2');

      $('.bookingLoad:not(.loaded):first').addClass('loaded');

      $(".form1234 #myForm1").on("submit", function(e) {
            e.preventDefault();
            const serv = multiService[0];
            let x = [];
            const vidutest = serv.appointmentSegments.forEach((item) => {
              x.push({
                "teamMemberId": item.teamMemberId,
                "durationMinutes": item.durationMinutes,
                "serviceVariationId": item.serviceVariationId,
                "serviceVariationVersion": item.serviceVariationVersion
              })
            })
            if ($("#myForm1 [name='firstName']").val().trim().length==0) {
              document.querySelector("#myForm1 [name='firstName']").setCustomValidity("Please fill in your first name");
              document.querySelector("#myForm1 [name='firstName']").reportValidity();
            }  else if ($("#myForm1 [name='lastName']").val().trim().length==0) {
              document.querySelector("#myForm1 [name='lastName']").setCustomValidity("Please fill in your last name");
              document.querySelector("#myForm1 [name='lastName']").reportValidity();

            }else if ($("#myForm1 [name='email']").val().trim().length==0 || $("#myForm1 [name='email']").val().match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/g)==null) {
              document.querySelector("#myForm1 [name='email']").setCustomValidity("Please fill in correct email format, i.e example@example.com");
              document.querySelector("#myForm1 [name='email']").reportValidity();
            } else if ($("#myForm1 [name='number']").val().trim().length==0 || $("#myForm1 [name='number']").val().match(/^[+]*[1]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\./0-9]*$/g)==null) {
              document.querySelector("#myForm1 [name='number']").setCustomValidity("Please fill in correct phone number format, i.e 0123456789");
              document.querySelector("#myForm1 [name='number']").reportValidity();
            } else {
              $('.bookNowButton').addClass('loading');
              $("#myForm1 input").prop("disabled", true);
              $("#myForm1 select").prop("disabled", true);
              $("#myForm1 textarea").prop("disabled", true);
                $("#myForm1 button").prop("disabled", true);
              $('.mobilePopup .bookNowButton').addClass('loading');
              fetch(`https://shp-webserver-temp.glitch.me/squareup-checkCustomer`, {
                method: 'POST',
                headers: {
                    accept: "application/json",
                    "content-type": "application/json"
                },
                body: JSON.stringify({
                    email: $("#myForm1 input[name=email]").val()
                })
              })
              .then(r=>r.json())
              .then(r=>{
                if (jQuery.isEmptyObject(r)) {
                  createCustomer(x, "#myForm1");
                } else {
                  console.log('SIGN IN TO COMPLETE BOOKING')
                  $('.accExistsOverlay1').removeClass('non-active');
                  // $('.accExistsOverlay').removeClass('non-active');
                  $('.accExistsOverlay1 .bookingButton').on('click', function() {
                    $('.newClients').addClass('non-active');
                    $('.oldClients').removeClass('non-active');
                    $('.oldClients').empty().append($('.squareupLogin').eq(0).clone().addClass('active'))
                    $('.mobilePopup').css('max-height', '0px');
                    $('.accExistsOverlay1').addClass('non-active');
                    $('.serviceList').css('max-height', '0px');
                    $('.loader2').removeClass('non-active');
                    $('.squareuplogin #loginForm').on("submit", checkCustomer);
                    localStorage.setItem('savedBooking', 'savedBooking')
                  })




                }
              })
            }

                // $("button").prop("disabled", "disabled");
                // $(".e-submit .e-content input").prop("readonly", true);
                // $("button[type=submit]").html(`<img src="/content/images/common/loading.svg" width="20px" height="20px"/>`)


            }
        );
      
      
        }

      
      })




      $('.botss .backButton').on('click', function() {
        if ($('.form1234 .serviceBooking').hasClass('active')) {
 

          $('.bookingLoad.loaded:last').removeClass('loaded');

          $('.form1234').empty();
          $('.gokutest').removeClass('non-active');
          $('.service').removeClass('non-active');
          $('.total').removeClass('non-active');
          startTime = '';
          currMonth = new Date().getMonth();
              calendarChange()

        } 
        else if ($('.form1234 .bookingConfirm').hasClass('active')) {
          $('.serviceBooking .calendarTest .loader2').removeClass('non-active')
          startTime = '';
          $('.bookingLoad.loaded:last').removeClass('loaded');
          $('.form1234').empty().append($('.serviceBooking').eq(0).clone().addClass('active'));
          $('.form1234 .serviceBooking').prepend($('.staffBooking').eq(0).clone().addClass('active'));
          
          $('.form1234 .calendarTop .prev-arrow').addClass('disabled');
              $('.form1234 .calendarTop .next-arrow').removeClass('disabled');
          $('.currMonth.active').eq(0).addClass('selected');
          $('.botss .confirmButton').addClass('non-active');
          $('.botss .nextButton').removeClass('non-active');
          let x = $('.currMonth.selected').attr('data-id');
          let y = $('.currMonth.selected').attr('data-date');
          $('.form1234 .calendarTop .prev-arrow').on('click', prevMonth);
          $('.form1234 .calendarTop .next-arrow').on('click', nextMonth);
          let date1 = new Date();
        let year = date1.getFullYear();
        let mon = date1.getMonth();
        let test5 = new Date(year, mon + 1,0);
        test5.setUTCHours(23,59,59,0);
          currMonth = new Date().getMonth();

          calendarChange();
        // getCurrentDateAppointments(r.availabilities[x], r.availabilities, x, y)
          bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);

          let apps = r.availabilities;
          let dateSelected = new Date().toLocaleString('en-us', {weekday: 'short'});
          let firstDate = r.availabilities[0];
          let v = 0;
          if (apps.length > 0) {
            $('.currMonth').removeClass('active selected');
            apps.forEach((item) => {
            const date = new Date(item.startAt);
            const day = date.getDate();
            Array.from($('.currMonth')).forEach((item1) => {          
              if (day == item1.innerHTML) {

                if (!item1.classList.contains('active')) {
                  item1.setAttribute("data-id", v);
                  $(item1).addClass('active');
                  v++;
                } 
              } 
            })
          })
          $('.currMonth.active').eq(0).addClass('selected');
          let x = $('.currMonth.selected').attr('data-id');
          let y = $('.currMonth.selected').attr('data-date');
          // calendarChange()

          getCurrentDateAppointments(r.availabilities[x], apps, x, y);
          } 
          $('.staffMembers .addNames1').on('click', function() {
              duration = '';
                  startTime = '';
                  multiService = [];
                  bookedStylist = '';
              // $('.calendarMain .loader2').removeClass('non-active');
              $('.calendarTest .loader2').removeClass('non-active');

              $('.morning .slot').empty();
              $('.afternoon .slot').empty();
              $('.evening .slot').empty();

              if ($('.pleaseSelect').children.length > 0) {
                $('.pleaseSelect').empty();
              }

              let memberId = $(this).data('team-member-id');
              stylistName = $(this).data('team-member-name');

              stylist = memberId.split(',');
              $('.staffMembers .addNames1').removeClass('loaded');
              $(this).addClass('loaded');
              let date1 = new Date();
              let year = date1.getFullYear();
              let mon = date1.getMonth();
              let test5 = new Date(year, mon + 1,0);
              test5.setUTCHours(23,59,59,0);
              currMonth = new Date().getMonth();
              calendarChange();
              bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
              $('.form1234 .calendarTop .prev-arrow').addClass('disabled');
              $('.form1234 .calendarTop .next-arrow').removeClass('disabled');
              })
              $('.form1234 .staffMembers').find(`[data-team-member-name='${stylistName}']`).addClass('loaded');
              $('.form1234 .staffMembers div:first').removeClass('loaded');
            } else if ($('.form1234 .bookingForm').hasClass('active')) {
          $('.form1234').empty().append($('.bookingConfirm').eq(0).clone().addClass('active'));
          $('.botss .bookNowButton').removeClass('active');
          $('.botss .confirmButton').removeClass('non-active');
        } else if (!($('.gokutest').hasClass('non-active'))) {
          $('.serviceList').css('max-height', `0px`);
          $('.list-item').removeClass('active');
          $('.service').empty();
          $('.total').addClass('non-active');
          $('.total').removeClass('active');
          $('.page-test1').empty();
          totalTime = 0;
          total = '0.00';
          serviceEnd1 = [];
          serviceEnd =[];
          $('.botss .nextButton').unbind('click')
          $('.page-button').removeClass('page-button1');
          $('.page-test').removeClass('brand-add');
          $('.page-test').css('max-height', '0px');
        }
      })
      $('.botss .nextButton').on('click', function() {
        if (localStorage.getItem('email')) {
          $('.serviceBooking .apptNote').removeClass('non-active');

        } else {
          $('.serviceBooking .apptNote').addClass('non-active');
        }
        if ($('.serviceBooking').hasClass('active')) {
          if (serviceEnd, bookedStylist, startTime) {
            let value = $('.serviceBooking .apptNote').val();
            $('.serviceBooking').removeClass('active');
            $('.staffBooking').removeClass('active');
            $('.bookingLoad:not(.loaded):first').addClass('loaded');
            serviceType1(serviceId, bookedStylist, startTime, value);
           } else {
            $('.pleaseSelect').html('<div style="text-align: center; color: red; padding-bottom: 10px;">Please select a timing</div>');
           }




        } else {
          $('.form1234').empty().append($('.serviceBooking').eq(0).clone().addClass('active'));
          if (!($('.serviceBooking .staffBooking').hasClass('active'))) {
          $('.serviceBooking').prepend($('.staffBooking').eq(0).clone().addClass('active'));
          }
          $('.form1234 .calendarTop .prev-arrow').addClass('disabled');
              $('.form1234 .calendarTop .next-arrow').removeClass('disabled');
          $('.form1234 .calendarTop .next-arrow').on('click', nextMonth);
          $('.staffMembers .addNames1').on('click', function() {

              duration = '';
                  startTime = '';
                  multiService = [];
                  bookedStylist = '';
              // $('.calendarMain .loader2').removeClass('non-active');
              $('.calendarTest .loader2').removeClass('non-active');

              $('.morning .slot').empty();
              $('.afternoon .slot').empty();
              $('.evening .slot').empty();

              if ($('.pleaseSelect').children.length > 0) {
                $('.pleaseSelect').empty();
              }

              let memberId = $(this).data('team-member-id');
              stylistName = $(this).data('team-member-name');

              stylist = memberId.split(',');
              $('.staffMembers .addNames1').removeClass('loaded');
              $(this).addClass('loaded');
              let date1 = new Date();
              let year = date1.getFullYear();
              let mon = date1.getMonth();
              let test5 = new Date(year, mon + 1,0);
              test5.setUTCHours(23,59,59,0);
              currMonth = new Date().getMonth();
              calendarChange();
              bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
              $('.form1234 .calendarTop .prev-arrow').addClass('disabled');
              $('.form1234 .calendarTop .next-arrow').removeClass('disabled');
              })
        $('.gokutest').addClass('non-active');
      $('.bookingLoad:not(.loaded):first').addClass('loaded');
          if ($('.gokutest').hasClass('non-active')) {
              $('.mobileBottom1 .botss .service').addClass('non-active');
              $('.mobileBottom1 .botss .total').removeClass('active');
              $('.mobileBottom1 .botss .total').addClass('non-active');
            } else {
              $('.mobileBottom1 .botss .service').removeClass('non-active');
              $('.mobileBottom1 .botss .total').addClass('active');
            }
        let apps = r.availabilities;
      let dateSelected = new Date().toLocaleString('en-us', {weekday: 'short'});
      let firstDate = r.availabilities[0];
      let v = 0;
      if (apps.length > 0) {
        $('.currMonth').removeClass('active selected');
        apps.forEach((item) => {
        const date = new Date(item.startAt);
        const day = date.getDate();
        Array.from($('.currMonth')).forEach((item1) => {          
          if (day == item1.innerHTML) {

            if (!item1.classList.contains('active')) {
              item1.setAttribute("data-id", v);
              $(item1).addClass('active');
              v++
            } 
          } 
        })
      })
      $('.currMonth.active').eq(0).addClass('selected')
      let x = $('.currMonth.selected').attr('data-id');
      let y = $('.currMonth.selected').attr('data-date');
      // calendarChange()

      getCurrentDateAppointments(r.availabilities[x], apps, x, y);
      } 
      else {
        $('.currMonth').removeClass('active selected');
        currMonth = currMonth + 1;
      if (currMonth < 0 || currMonth > 11) {
        date = new Date(currYear, currMonth);
        currYear = date.getFullYear();
        currMonth = date.getMonth();
      } else {
        date = new Date();
      }
      let test7 = new Date(currYear, currMonth + 1,0);
      let test8 = new Date(currYear, currMonth,1);
      test7.setUTCHours(23,59,59,0);
      calendarChange();
      bookingSq(test8.toISOString(), test7.toISOString(),serviceEnd, stylist);
      }


      $('li.currMonth.active').on('click', function() {

        $('.currMonth.active').removeClass('selected');
        $(this).addClass('selected');
        let x = this.getAttribute('data-id');
        let y = this.getAttribute('data-date');
        getCurrentDateAppointments(r.availabilities[x], apps, x, y);
    }) 
        }

      })

    })

    }
  function nextMonth() {
      duration = '';
      startTime = '';
      multiService = [];
      bookedStylist = '';
      currMonth = currMonth + 1;
      if (currMonth == new Date().getMonth() +2) {
      $('.calendarTop .next-arrow').addClass('disabled');
      $('.calendarTop .next-arrow').unbind('click', nextMonth);
      }
      if (currMonth <= new Date().getMonth() + 2) {
      // $('.calendarMain .loader2').removeClass('non-active');
      $('.calendarTest .loader2').removeClass('non-active');

        $('.calendarTop .prev-arrow').removeClass('disabled');

          if (currMonth < 0 || currMonth > 11) {
          date = new Date(currYear, currMonth);
          currYear = date.getFullYear();
          currMonth = date.getMonth();
        } else {
          date = new Date();
        }
        let test5 = new Date(currYear, currMonth + 1,0);
        let test6 = new Date(currYear, currMonth,1);
        test5.setUTCHours(23,59,59,0);
        calendarChange();
        bookingSq(test6.toISOString(), test5.toISOString(),serviceEnd, stylist);
      } else {
      currMonth = currMonth - 1;

        $('.calendarTop .next-arrow').unbind('click');

      }

      if (new Date().getMonth() < currMonth && new Date().getFullYear() >= currYear ) {
        $('.calendarTop .prev-arrow').unbind('click');

        $('.calendarTop .prev-arrow').bind('click', prevMonth);
      } 

    }
  function prevMonth() {
            duration = '';
            startTime = '';
            multiService = [];
            bookedStylist = '';
      
      if (new Date().getMonth() < currMonth && new Date().getFullYear() >= currYear ) {
        // $('.calendarMain .loader2').removeClass('non-active');
        $('.calendarTest .loader2').removeClass('non-active');


        // $('.calendarTop .prev-arrow').bind('click', prevMonth)
      currMonth = currMonth - 1;
      
      if (currMonth == new Date().getMonth()) {
        $('.calendarTop .prev-arrow').addClass('disabled');
        $('.prev-arrow').unbind('click', prevMonth);
      } else {
        $('.next-arrow').bind('click', nextMonth);
        
      }
      if (currMonth < 0 || currMonth > 11) {
        date = new Date(currYear, currMonth, currDate);
        currYear = date.getFullYear();
        currMonth = date.getMonth();
      } else {
        date = new Date();
      }

        let test5 = new Date(currYear, currMonth + 1,0);
        let test6 = new Date(currYear, currMonth,1);
        if (currMonth === new Date().getMonth()) {
          bookingSq(new Date().toISOString(), test5.toISOString(),serviceEnd);
        } else {

          bookingSq(test6.toISOString(), test5.toISOString(),serviceEnd);
        }
        test5.setUTCHours(23,59,59,0);
        calendarChange();
        // if (new Date().getMonth() < currMonth && new Date().getFullYear() >= currYear ) {
        //   $('.calendarTop .prev-arrow').unbind('click')
      $('.calendarTop .next-arrow').removeClass('disabled');
          // $('.calendarTop .next-arrow').bind('click', nextMonth)
        // } 
      } else {
        $('.calendarTop .prev-arrow').addClass('disabled');


      }

    }
  function openFAQ(x) {
        let setheight = x.nextElementSibling.children[0].offsetHeight;
        let checkClass = x.nextElementSibling.classList;
        if (checkClass.contains('brand-add')) {
            checkClass.remove('brand-add');
            x.children[0].classList.remove('page-button1');
            x.nextElementSibling.style.maxHeight = '0';
        } else {
            checkClass.add('brand-add');
            x.children[0].classList.add('page-button1');
            x.nextElementSibling.style.maxHeight = setheight + 'px';
        }
    }


  function calendarChange(x, y) {
    let firstDayofMonth = new Date(currYear, currMonth, 1).getDay();
    let lastDateofMonth = new Date(currYear, currMonth + 1,0).getDate();
    let lastDayofMonth = new Date(currYear, currMonth, lastDateofMonth).getDay();
    let lastDateofLastMonth = new Date(currYear, currMonth,0).getDate();
    let checking = new Date().toLocaleDateString('fr-CA', {year: 'numeric', month: '2-digit', day: '2-digit'});
    let change ='';
    for (let i = firstDayofMonth ; i > 0; i--) {
      change += `<li class="inactive">${lastDateofLastMonth - i + 1}</li>`;
    }
    $('.calendarMonth').html(`
      ${months[currMonth]} ${currYear}
    `);
    
    for (let i=1; i<=lastDateofMonth;i++ ) {
      let isToday = i === date.getDate() && currMonth === new Date().getMonth() && currYear === new Date().getFullYear() ? 'currDay': '';
      change += `
        <li data-date="${currYear}-${("0" + (currMonth+1)).slice(-2)}-${("0" + i).slice(-2)}"  class="currMonth inactive ${isToday}">${i}</li>
      `;

    };
    for (let i = lastDayofMonth; i< 6; i++) {
      change += `<li class="inactive">${i - lastDayofMonth + 1}</li>`
    };
    $('calendarMain .loader2').addClass('non-active');

    $('.calendarMain .days').html(`${change}`);
  }

  function getCurrentDateAppointments(firstDate, apps, x, y) {

    if (apps.length > 0) {
      // $('.serviceList .calendarMain .loader2').addClass('non-active')
      $('.serviceList .calendarTest .loader2').addClass('non-active');
      
      const test2 = apps.filter((item) => item.startAt.includes(y));
    let date = new Date(test2[0].startAt).toLocaleString('en-us', { day: 'numeric',weekday: 'short' , year: 'numeric'});
    let vidu1 = new Date(test2[0].startAt).toLocaleString('en-us', {weekday:"short"});
    let vidu2 = new Date(test2[0].startAt).toLocaleString('en-us', {day:"numeric"});
    let vidu4 = new Date(test2[0].startAt).toLocaleString('en-us', {year:"numeric"});
    let vidu3 = new Date(test2[0].startAt).toLocaleString('en-us', {month:"short"});
    let fullDate = `${vidu1}, ${vidu3} ${vidu2}, ${vidu4}`;
    $('.slot').empty();
    $('.slot2').removeClass('non-active');
    test2.forEach((item) => {
        const date = new Date(item.startAt);
        const time = date.toLocaleTimeString([], {hour: 'numeric', minute:'2-digit'});
        const time2 = date.toLocaleTimeString('en-us', {hour12: false});
       
        if (time2 > '15:00:00') {
          $('.evening .slot2').addClass('non-active');
          $('.evening .slot').append(`<div data-start-id="${item.startAt}" data-duration="${duration}" data-team-member="${item.appointmentSegments[0].teamMemberId}" class="bookingButton1 bookBut">${time}</div>`);
        } else if (time2 > "12:00:00" && time2 <= '15:00:00') {
          $('.afternoon .slot2').addClass('non-active');
         
          $('.afternoon .slot').append(`<div data-start-id="${item.startAt}" data-duration="${duration}" data-team-member="${item.appointmentSegments[0].teamMemberId}" class="bookingButton1 bookBut">${time}</div>`);
        } else {
          $('.morning .slot2').addClass('non-active');         
          $('.morning .slot').append(`<div data-start-id="${item.startAt}" data-duration="${duration}" data-team-member="${item.appointmentSegments[0].teamMemberId}" class="bookingButton1 bookBut">${time}</div>`);

        }
      })
      $('.dayAvailable').html(fullDate);
    } else {
    }
    $('.bookBut').on('click', function() {
      duration = $(this).data('duration');
      startTime = $(this).data('start-id');
      const test3 = apps.filter((item) => item.startAt.includes(y)).filter((item2) => item2.startAt == startTime);
      multiService = [];
      multiService.push(test3[0]);
      bookedStylist = $(this).data('team-member');
      localStorage.setItem('timeSelected', startTime);
      $('.bookBut').removeClass('active3');
      $(this).addClass('active3');
      if ($('.pleaseSelect').children.length > 0) {
        $('.pleaseSelect').empty();
      }
      if ($(window).width() > 1023) {

        if ($('.oldClients').hasClass('non-active') && !($('.newClients').hasClass('non-active'))) {
          $('.form123').scrollTop(0);
      $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');

        serviceType1(serviceEnd, stylist, startTime);
        $('.form123').empty().append($('.bookingForm').eq(0).clone().addClass('active'));
      $('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
        $('.form123 #myForm1').on("submit", submitForm);

      // $('.serviceBookingSide .loader2').addClass('non-active');
        } else {
          // console.log('hi');
          // console.log(serviceEnd);
          // console.log(stylist);
          // console.log(startTime);
          serviceType1(serviceEnd, stylist, startTime);
          Array.from($('.gokutest').children()).forEach((item) => {

            $(item).css('display', 'none');

          })
          $('.gokutest').append($('.desktopConfirmation').eq(0).clone().addClass('active'));
          $('.gokutest .desktopConfirmation .bookingButton').on('click', function() {
            $('.gokutest .desktopConfirmation .bookingButton').addClass('loading');
            setTimeout(function() {
              // createBooking()
              let x = [];
              const vidutest = multiService[0].appointmentSegments.forEach((item) => {
            x.push({
              "teamMemberId": item.teamMemberId,
                "durationMinutes": item.durationMinutes,
                "serviceVariationId": item.serviceVariationId,
                "serviceVariationVersion": item.serviceVariationVersion
            })
          })
          createBooking(localStorage.getItem('customerId'), x, ".serviceList", localStorage.getItem('customerId'));
          $('.oldClients').addClass('active');
            }, 1500)
          })

        }

      }

    })


    // else {
    //   const test = apps.filter((item) => item === firstDate)
    // let date = new Date(apps[0].startAt).toLocaleString('en-us', { day: 'numeric',weekday: 'short' , year: 'numeric'})

    //   test.forEach((item) => {
    //     const date = new Date(item.startAt);
    //     const time = date.toLocaleTimeString([], {hour: 'numeric', minute:'2-digit'});
    //     const time2 = date.toLocaleTimeString('en-us', {hour12: false})

    //     if (time2 > '15:00:00') {
    //       $('.evening').append(`<div>${time}</div>`)
    //     } else if (time2 > "12:00:00" && time2 > '15:00:00') {
    //       $('.afternoon').append(`<div>${time}</div>`)
    //     } else {
    //       $('.morning').append(`<div class="bookingButton1 bookBut">${time}</div>`)

    //     }
    //   })
    //   $('.dayAvailable').html(date)
    // }

  }

  function bookingSq(startDate, endDate, service, stylists) {
    // console.log(startDate, endDate, service, stylists)
    serviceEnd = service;
    let styleTest = [];
      service.forEach((item) => {
        styleTest.push({
          serviceVariationId: item,
          teamMemberIdFilter : {
            any: stylist
          }
        })
      })

    fetch('https://shp-webserver-temp.glitch.me/sq-availability', {
      method: 'POST',
      headers: {
            accept: "application/json",
            "content-type": "application/json"
        },
      body: JSON.stringify ({
          start: startDate,
          end: endDate,
          styling: styleTest
        })
    })
    .then(r=>r.json())
    .then(r=> {
      let apps = r.availabilities;
      let dateSelected = new Date().toLocaleString('en-us', {weekday: 'short'});

      // duration = firstDate.appointmentSegments[0].durationMinutes;
      let v = 0;
      if (apps.length > 0) {
        let firstDate = r.availabilities[0];
      duration = '0';
      firstDate.appointmentSegments.forEach((item) => {
        duration = parseFloat(duration) + parseFloat(item.durationMinutes);
      })
      $('.form123 .serviceBooking .sideBar .bookingTime').html(`${duration} minutes`)
        $('.calendarTest .loader2').addClass('non-active');
        $('.currMonth').removeClass('active selected');
        apps.forEach((item) => {
        const date = new Date(item.startAt);
        const day = date.getDate();
        Array.from($('.currMonth')).forEach((item1) => {          
          if (day == item1.innerHTML) {

            if (!item1.classList.contains('active')) {
              item1.setAttribute("data-id", v);
              $(item1).addClass('active');
              v++;
            } 
          } 
        })
      })
      if ($('.newClients').hasClass('non-active')) {
      $('.serviceList .currMonth.active').eq(0).addClass('selected');
      } else {
        $('.currMonth.active').eq(0).addClass('selected');
      }
      let x = $('.currMonth.selected').attr('data-id');
      let y = $('.currMonth.selected').attr('data-date');
      // calendarChange()
      getCurrentDateAppointments(r.availabilities[x], apps, x, y);
      } 
      else {
        $('.currMonth').removeClass('active selected');
        currMonth = currMonth + 1;
        if (currMonth < 0 || currMonth > 11) {
          date = new Date(currYear, currMonth);
          currYear = date.getFullYear();
          currMonth = date.getMonth();
        } else {
          date = new Date();
        }
      let test7 = new Date(currYear, currMonth + 1,0);
      let test8 = new Date(currYear, currMonth,1);
      test7.setUTCHours(23,59,59,0);
      $('.calendarTop .next-arrow').bind('click', nextMonth);
      calendarChange();
      bookingSq(test8.toISOString(), test7.toISOString(),serviceEnd, stylist);
      }


      $('li.currMonth.active').on('click', function() {

        $('.currMonth.active').removeClass('selected');
        $(this).addClass('selected');
        let x = this.getAttribute('data-id');
        let y = this.getAttribute('data-date');
        // console.log(x)
        // console.log(y)
        // console.log(r.availabilities[x])
        // console.log(r.availabilities)
        getCurrentDateAppointments(r.availabilities[x], apps, x, y);
    }) 

    })

  }
  
  function addNames() {
            duration = '';
            startTime = '';
            multiService = [];
            bookedStylist = '';
        $('.calendarTest .loader2').removeClass('non-active');

        // $('.calendarMain .loader2').removeClass('non-active')
        $('.morning .slot').empty();
        $('.afternoon .slot').empty();
        $('.evening .slot').empty();
        if ($('.pleaseSelect').children.length > 0) {
          $('.pleaseSelect').empty();
        }
        let memberId = $(this).data('team-member-id');
        stylistName = $(this).data('team-member-name');
        stylist = memberId.split(',');
        $('.staffMembers .addNames1').removeClass('loaded');
        $(this).addClass('loaded');
        let date1 = new Date();
        let year = date1.getFullYear();
        let mon = date1.getMonth();
        let test5 = new Date(year, mon + 1,0);
        test5.setUTCHours(23,59,59,0);
        currMonth = new Date().getMonth();
        calendarChange();
        bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
        $('.form123 .calendarTop .next-arrow').removeClass('disabled');
      $('.form123 .calendarTop .prev-arrow').addClass('disabled');
  }
  
  function addNames1() {

    duration = '';
    startTime = '';
    multiService = [];
    bookedStylist = '';
    let lastTime = new Date(currYear, currMonth + 1,0, 23, 59, 59);
    let currTime = date;
    let vidu = Math.abs(lastTime-currTime) / 36e5;
    if ( vidu < 24) {
      lastTime = new Date(currYear, currMonth+2, 0, 23, 59 , 59);
    }
    if ($('.gokutest .multiServiceDesk')) {
      $('.multiServiceDesk1 .staffBooking').removeClass('active');
     $('.multiServiceDesk1').append($('.serviceBooking').eq(0).clone().addClass('active'));
    }


    let memberId = $(this).data('team-member-id');
    stylist = memberId.split(',');
    stylistName = $(this).data('team-member-name');

    $('.staffMembers .addNames1').removeClass('loaded');
    $(this).addClass('loaded');

    checkAva(currTime, lastTime, serviceEnd1, totalTime);
  }
  
  function addNames2() {

        duration = '';
        startTime = '';
        multiService = [];
        bookedStylist = '';
    // $('.calendarMain .loader2').removeClass('non-active');
    $('.calendarTest .loader2').removeClass('non-active');

    $('.morning .slot').empty();
    $('.afternoon .slot').empty();
    $('.evening .slot').empty();
    if ($('.pleaseSelect').children.length > 0) {
      $('.pleaseSelect').empty();
    }
    let memberId = $(this).data('team-member-id');
    stylistName = $(this).data('team-member-name');
    stylist = memberId.split(',');
    $('.staffMembers .addNames1').removeClass('loaded');
    $(this).addClass('loaded');
    let date1 = new Date();
    let year = date1.getFullYear();
    let mon = date1.getMonth();
    let test5 = new Date(year, mon + 1,0);
    test5.setUTCHours(23,59,59,0);
    if ($())
    bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
  }
  
  function serviceType1(serviceEnd, stylist, startTime, note) {
    fetch(`https://shp-webserver-temp.glitch.me/sq-servicetype`, {
        method: 'POST',
        headers: {
            accept: "application/json",
            "content-type": "application/json"
        }
    })
    .then(r=>r.json())
    .then(r=> { 
      // $('.mobileBottom1 .bookingButton').html('Confirm')
      $('.nextButton').addClass('non-active');
      $('.nextButton').removeClass('active');
      $('.confirmButton').removeClass('non-active');
      $('#serviceType').empty();
      if (localStorage.getItem('email') && !($('.oldClients').hasClass('non-active'))) {
        $('#apptNotes').empty().append(note);
        $('.bookingConfirm .notes').removeClass('non-active');
      }
      serviceEnd.forEach((serv1) => {
        
        r.items.forEach((item) => {
        if (item.itemData.variations[0].id == serv1) {
          currentStylers.forEach((item2) => {
            if(stylist == item2.team_member_id) {
              stylistName = item2.display_name;
              if ($('.oldClients').hasClass('non-active')) {
                $('#stylistName').html(item2.display_name);


              } else {
                $('#stylistName').html(item2.display_name);
              }

            }
          })
          if ($('.oldClients').hasClass('non-active')) {
            $('#serviceType').empty();
            $('#serviceType').append(`
            <div>
              ${item.itemData.name} (${item.itemData.variations[0].itemVariationData.serviceDuration/60000}mins) </br>
              <p>${item.itemData.variations[0].itemVariationData.priceMoney?`$`+item.itemData.variations[0].itemVariationData.priceMoney.amount/100+`.00`:'Price Varies'}</p>
              </div>
            `);

          } else {
            console.log(item);
            $('#serviceType').append(`
            <div>
              ${item.itemData.name} (${item.itemData.variations[0].itemVariationData.serviceDuration/60000}mins) </br>
              <p>${item.itemData.variations[0].itemVariationData.priceMoney?`$`+item.itemData.variations[0].itemVariationData.priceMoney.amount/100+`.00`:'Price Varies'}</p>
              </div>
            `);


          }

          if ($(window).width() < 1024) {
          let durationMins = new Date(startTime);
          let day = new Date(startTime).getDay();
          let date = new Date(startTime).getDate();
          let month = new Date(startTime).getMonth();
          let year = new Date(startTime).getFullYear();
          let time = new Date(startTime).toLocaleTimeString('en-US', {hour:"numeric", minute: "2-digit"});
          let startTime2 = durationMins.setMinutes(durationMins.getMinutes() + duration);
          let time2 = new Date(startTime2).toLocaleTimeString('en-US', {hour:"numeric", minute: "2-digit"});
          // $('.bookingConfirm .loader2').addClass('non-active');
          if ($('.oldClients').hasClass('non-active')) {
          $('#dateSelected').html(`${weekday[day]},</br> ${months[month]} ${date}, ${year} </br> ${time} - ${time2} EST`);
              $('.form123').empty().append($('.bookingConfirm').eq(0).clone().addClass('active'));
              $('.bookingConfirm .loader2').addClass('non-active');

            } else {
          $('#dateSelected').html(`${weekday[day]},</br> ${months[month]} ${date}, ${year} </br> ${time} - ${time2} EST`);
          $('.bookingConfirm .loader2').addClass('non-active');
          
        }
            } else {
             
              let durationMins = new Date(startTime);
          let day = new Date(startTime).getDay();
          let date = new Date(startTime).getDate();
          let month = new Date(startTime).getMonth();
          let year = new Date(startTime).getFullYear();
          let time = new Date(startTime).toLocaleTimeString('en-US', {hour:"numeric", minute: "2-digit"});
          let startTime2 = durationMins.setMinutes(durationMins.getMinutes() + duration);
          let time2 = new Date(startTime2).toLocaleTimeString('en-US', {hour:"numeric", minute: "2-digit"});
          
          if ($(window).width() > 1023 && $('.newClients').hasClass('non-active')) {
            
            // console.log(stylistName);
            // console.log(stylistName[0]);
            $('.gokutest .desktopConfirmation .intial').empty().append(stylistName[0]);
            $('.gokutest .desktopConfirmation .name').empty().append(stylistName);
            $('.gokutest .desktopConfirmation .dateBlock div').empty().append(`${weekday[day]}, ${months[month]} ${date}, ${year} </br> ${time} - ${time2} EST`);
            $('.gokutest .desktopConfirmation .serviceBlock').append(`            <div>
              ${item.itemData.name} (${item.itemData.variations[0].itemVariationData.serviceDuration/60000}mins) </br>
              <p>${item.itemData.variations[0].itemVariationData.priceMoney?`$`+item.itemData.variations[0].itemVariationData.priceMoney.amount/100+`.00`:'Price Varies'}</p>
              </div>`);
              $('.gokutest .desktopConfirmation .loader2').addClass('non-active');
            // console.log(time)
            // console.log(time2)
          }
          if ($('.form123 .bookingForm').hasClass('active')) {

          $('.bookingDate').html(`${weekday[day]}, ${months[month]} ${date}, ${year} </br> ${time} - ${time2} EST`);
          $('.serviceBookingSide .loader2').addClass('non-active');
          $('.form123 .serviceEdit').on('click', function() {

$('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');

$('.form123').empty().append($('.staffBooking').eq(0).clone().addClass('active'));
$('.staffMembers .addNames1').on('click', function() {

duration = '';
startTime = '';
multiService = [];
bookedStylist = '';
//  $('.calendarMain .loader2').removeClass('non-active')
$('.calendarTest .loader2').removeClass('non-active');
$('.morning .slot').empty();
$('.afternoon .slot').empty();
$('.evening .slot').empty();

if ($('.pleaseSelect').children.length > 0) {
$('.pleaseSelect').empty();
}

let memberId = $(this).data('team-member-id');
stylistName = $(this).data('team-member-name');
stylist = memberId.split(',');
$('.staffMembers .addNames1').removeClass('loaded');
$(this).addClass('loaded');
let date1 = new Date();
let year = date1.getFullYear();
let mon = date1.getMonth();
let test5 = new Date(year, mon + 1,0)
test5.setUTCHours(23,59,59,0);
currMonth = new Date().getMonth();
calendarChange();
bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
serviceType1(serviceEnd, stylist);
if ($(window).width() > 1023) {
$('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
$('.form123').empty().append($('.serviceBooking').eq(0).clone().addClass('active'));
$('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
$('.form123 .calendarTop .next-arrow').removeClass('disabled');
$('.form123 .calendarTop .prev-arrow').addClass('disabled');
$('.form123 .calendarTop .next-arrow').on('click', nextMonth);
$('.form123 .calendarTop .prev-arrow').on('click', prevMonth);
}
})
})
          $('.form123 .timeEdit').on('click', function() {

            $('.calendarTest .loader2').removeClass('non-active');
            $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');
            $('.form123').empty().append($('.serviceBooking').eq(0).clone().addClass('active'));
            $('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
            $('.form123 .calendarTop .next-arrow').removeClass('disabled');
            $('.form123 .calendarTop .prev-arrow').addClass('disabled');
            $('.form123 .calendarTop .next-arrow').on('click', nextMonth);
            $('.form123 .calendarTop .prev-arrow').on('click', prevMonth);
            let date1 = new Date();
            let year = date1.getFullYear();
            let mon = date1.getMonth();
            let test5 = new Date(year, mon + 1,0);
            test5.setUTCHours(23,59,59,0);
            currMonth = new Date().getMonth();
            calendarChange();
            bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
            $('.serviceSideServices .loader2').addClass('non-active');
                $('.bookBut').on('click', function() {
      duration = $(this).data('duration');
      startTime = $(this).data('start-id');
      bookedStylist = $(this).data('team-member');
      $('.bookBut').removeClass('active3');
      $(this).addClass('active3');
      if ($('.pleaseSelect').children.length > 0) {
        $('.pleaseSelect').empty();
      }
      if ($(window).width() > 1023) {
        if ($('.oldClients').hasClass('non-active')) {
          $('.form123').scrollTop(0);

        serviceType1(serviceEnd, stylist, startTime);

        $('.form123').empty().append($('.bookingForm').eq(0).clone().addClass('active'));
      $('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
      ///mobile-version  
      $('.form123 #myForm1').on("submit", submitForm);

        } else {

          serviceType1(serviceEnd, stylist, startTime);
          $('.gokutest').empty().append($('.bookingForm').eq(0).clone().addClass('active'));
          $('.gokutest .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
          // $('.serviceBookingSide .loader2').addClass('non-active')
        $('.gokutest #myForm1').on("submit", submitForm);

        }

      }

    })







          })

        } else if ($('.form123 .serviceBooking').hasClass('active')) {
          $('.bookingName').empty().append(`${item.itemData.name} (${item.itemData.variations[0].itemVariationData.serviceDuration/60000}mins)`);
              $('.bookingPrice').empty().append(`${item.itemData.variations[0].itemVariationData.priceMoney?`$`+item.itemData.variations[0].itemVariationData.priceMoney.amount/100+`.00`:'Price Varies'}`);
              // $('.bookingTime').empty().append(`${duration} minutes`);
              $('.bookingStylist').empty().append(stylistName);
              $('.serviceBookingSide .loader2').addClass('non-active');

              $('.serviceEdit').on('click', function() {
                $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');

              $('.form123').empty().append($('.staffBooking').eq(0).clone().addClass('active'));
              $('.staffMembers .addNames1').on('click', function() {

duration = '';
startTime = '';
multiService = [];
bookedStylist = '';
//  $('.calendarMain .loader2').removeClass('non-active')
$('.calendarTest .loader2').removeClass('non-active');
$('.morning .slot').empty();
$('.afternoon .slot').empty();
$('.evening .slot').empty();

if ($('.pleaseSelect').children.length > 0) {
$('.pleaseSelect').empty();
}

let memberId = $(this).data('team-member-id');
stylistName = $(this).data('team-member-name');
stylist = memberId.split(',');
$('.staffMembers .addNames1').removeClass('loaded');
$(this).addClass('loaded');
let date1 = new Date();
let year = date1.getFullYear();
let mon = date1.getMonth();
let test5 = new Date(year, mon + 1,0);
test5.setUTCHours(23,59,59,0);
currMonth = new Date().getMonth();
calendarChange();
bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
serviceType1(serviceEnd, stylist);
if ($(window).width() > 1023) {
$('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
$('.form123').empty().append($('.serviceBooking').eq(0).clone().addClass('active'));
$('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
$('.form123 .calendarTop .next-arrow').removeClass('disabled');
$('.form123 .calendarTop .prev-arrow').addClass('disabled');
$('.form123 .calendarTop .next-arrow').on('click', nextMonth);
$('.form123 .calendarTop .prev-arrow').on('click', prevMonth);
}
})
              })

        } else if ($('.serviceList .bookingForm').hasClass('active')) {
          $('.bookingDate').html(`${weekday[day]}, ${months[month]} ${date}, ${year} </br> ${time} - ${time2} EST`);
          Array.from($('.gokutest .multiServiceItem .stylist')).forEach((item) => {
            $(item).empty().append(stylistName);
          })

          
              $('.serviceBookingSide .loader2').addClass('non-active');
        }
            }
        }
      })
      } )
      if ($(window).width() < 1024) { 
        if ($('.oldClients').hasClass('non-active')) {

} else {
  $('.form1234').empty().append($('.bookingConfirm').eq(0).clone().addClass('active'));

}
      }



    })
  }
  
  $('.mobileBottom1 .bots .bookingButton1.backButton').on('click', function() {
    if ($('.form123 .serviceBooking').hasClass('active')) {
      $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');
      $('.serviceBooking').removeClass('active');
      $('.form123').empty();
      $('.mobileService3').addClass('active');
      $('.mobileBottom').addClass('active');
      $('.mobileBottom1').removeClass('active');
      $('.mobilePopup1').removeClass('mobileBookConfirm');
      // $('.calendarMain .loader2').removeClass('non-active');
      $('.calendarTest .loader2').removeClass('non-active');
      currMonth = new Date().getMonth();
      duration = '';
      startTime = '';
      multiService = [];
      bookedStylist = '';
    } else if ($('.form123 .bookingConfirm').hasClass('active')) {
      startTime = '';
      // $('.calendarMain .loader2').removeClass('non-active');
      $('.calendarTest .loader2').removeClass('non-active');

      $('.confirmButton').removeClass('active');
      $('.confirmButton').addClass('non-active');
      $('.nextButton').addClass('active');
      $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');
      $('.form123').empty().append($('.staffBooking').eq(0).clone().addClass('active'));
      $('.form123').append($('.serviceBooking').eq(0).clone().addClass('active'));
      $('.form123 .calendarTop .next-arrow').removeClass('disabled');
      $('.form123 .calendarTop .prev-arrow').addClass('disabled');
      $('.form123 .calendarTop .next-arrow').on('click', nextMonth);
      $('.form123 .calendarTop .prev-arrow').on('click', prevMonth);
      let date1 = new Date();
        let year = date1.getFullYear();
        let mon = date1.getMonth();
        let test5 = new Date(year, mon + 1,0);
        test5.setUTCHours(23,59,59,0);
        currMonth = new Date().getMonth();
        calendarChange();
        bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
        $('.form123 .staffMembers').find(`[data-team-member-name='${stylistName}']`).addClass('loaded');
        $('.form123 .staffMembers div:first').removeClass('loaded')
        $('.staffMembers .addNames1').on('click', addNames);

    } else if ($('.form123 .bookingForm').has('active')) {
      $('.bookNowButton').removeClass('active');
      $('.confirmButton').removeClass('non-active');
      $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');
      $('.form123').empty().append($('.bookingConfirm').eq(0).clone().addClass('active'));
    }

    })
  
  $('.mobileBottom1 .bots .bookingButton.nextButton').on('click', function() {

      if (serviceEnd, bookedStylist, startTime) {
        $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
        $('.bookingLoadbar.four .bookingLoad:not(.loaded):first').addClass('loaded');
        $('.serviceBooking').removeClass('active');
        $('.staffBooking').removeClass('active');
        $('.mobilePopup1').addClass('mobileBookConfirm');
        serviceType1([serviceEnd], bookedStylist, startTime);
        // $('.form123').empty().append($('.bookingConfirm').eq(0).clone());

      } else {
        $('.pleaseSelect').html('<div style="text-align: center; color: red; padding-bottom: 10px;">Please select a timing</div>');
      }
      
    })
  $('.mobileBottom1 .bookingButton.confirmButton').on('click', function() {
    $('.form123').empty().append($('.bookingForm').eq(0).clone());
    $('.confirmButton').addClass('non-active');
        $('.bookNowButton').addClass('active');
    $('.mobilePopup1 .bookingConfirm').removeClass('active');
    $('.mobilePopup1 .bookingForm').addClass('active');
    // $('.mobileBottom1').removeClass('active')
    $(".form123 #myForm1").on("submit", function(e) {
            e.preventDefault();
            const serv = multiService[0]
            let x = []
            const vidutest = serv.appointmentSegments.forEach((item) => {
              x.push({
                "teamMemberId": item.teamMemberId,
                "durationMinutes": item.durationMinutes,
                "serviceVariationId": item.serviceVariationId,
                "serviceVariationVersion": item.serviceVariationVersion
              })
            })
            if ($("#myForm1 [name='firstName']").val().trim().length==0) {
              document.querySelector("#myForm1 [name='firstName']").setCustomValidity("Please fill in your first name");
              document.querySelector("#myForm1 [name='firstName']").reportValidity();
            }  else if ($("#myForm1 [name='lastName']").val().trim().length==0) {
              document.querySelector("#myForm1 [name='lastName']").setCustomValidity("Please fill in your last name");
              document.querySelector("#myForm1 [name='lastName']").reportValidity();

            }else if ($("#myForm1 [name='email']").val().trim().length==0 || $("#myForm1 [name='email']").val().match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/g)==null) {
              document.querySelector("#myForm1 [name='email']").setCustomValidity("Please fill in correct email format, i.e example@example.com");
              document.querySelector("#myForm1 [name='email']").reportValidity();
            } else if ($("#myForm1 [name='number']").val().trim().length==0 || $("#myForm1 [name='number']").val().match(/^[+]*[1]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\./0-9]*$/g)==null) {
              document.querySelector("#myForm1 [name='number']").setCustomValidity("Please fill in correct phone number format, i.e 0123456789");
              document.querySelector("#myForm1 [name='number']").reportValidity();
            } else {
              $('.bookNowButton').addClass('loading');
              $("#myForm1 input").prop("disabled", true);
              $("#myForm1 select").prop("disabled", true);
              $("#myForm1 textarea").prop("disabled", true);
              $("#myForm1 button").prop("disabled", true);
              fetch(`https://shp-webserver-temp.glitch.me/squareup-checkCustomer`, {
                method: 'POST',
                headers: {
                    accept: "application/json",
                    "content-type": "application/json"
                },
                body: JSON.stringify({
                    email: $("#myForm1 input[name=email]").val()
                })
              })
              .then(r=>r.json())
              .then(r=>{
                if (jQuery.isEmptyObject(r)) {
                  createCustomer(x, "#myForm1");
                } else {
                  $('.accExistsOverlay').removeClass('non-active');
                  // createBooking(r.customers[0].id, x, "#myForm1")
                  $('.accExistsOverlay .bookingButton').on('click', function() {
                    console.log('hi')
                    currMonth = new Date().getMonth();
                    $('.serviceList .bookNowButton').removeClass('active');
                    $('.serviceList .botss .nextButton').addClass('active');
                    $('.newClients').addClass('non-active');
                    $('.oldClients').removeClass('non-active');
                    $('.mobilePopup').css('max-height', '0px');
                    $('.accExistsOverlay').addClass('non-active');
                    if (localStorage.getItem('email')) {
                      $('.oldClients').empty().append($('.oldClientsLogin').eq(0).clone().addClass('active'));
                      $('.oldClientsLogin .signIn_square .block').addClass('non-active');
                      $('.oldClientsLogin .myAppts').addClass('active');
                      $('.oldClientsLogin .myAppts .newName').empty().append(localStorage.getItem('name'));
                      $('.oldClientsLogin .myAppts button').on('click', {email:localStorage.getItem('email')}, clientInfo);
                      
                      $('.oldClients .myAppts div').on('click', function() {
                        localStorage.removeItem('email');
                        localStorage.removeItem('name');
                        localStorage.removeItem('lastName');

                        $('.oldClientsLogin .signIn_square .block').removeClass('non-active');
                      $('.oldClientsLogin .myAppts').removeClass('active');
                      $('.oldClientsLogin .signIn_square .sqLogin').on('click', function() {

                          $('.oldClients').empty().append($('.squareupLogin').eq(0).clone().addClass('active'));
                          $('.squareupLogin #loginForm .requestButton').removeClass('loading');
                          $('.squareupLogin #loginForm input').prop("disabled", false);
                          $('.requestButton').removeClass('loading');

                          $('.squareuplogin #loginForm').on("submit", checkCustomer);
                        })
                      })
                    }
                  })
                }
              })
            }

               


            }
        );
      
    if ($('.oldClients').hasClass('non-active')) {
      $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
      $('.serviceList .mobileBottom1').removeClass('active');
    }

  })
 
  function submitForm(e) {

    e.preventDefault();
            const serv = multiService[0];
            let x = [];
            const vidutest = serv.appointmentSegments.forEach((item) => {
              x.push({
                "teamMemberId": item.teamMemberId,
                "durationMinutes": item.durationMinutes,
                "serviceVariationId": item.serviceVariationId,
                "serviceVariationVersion": item.serviceVariationVersion
              })
            })
            if ($("#myForm1 [name='firstName']").val().trim().length==0) {
              document.querySelector("#myForm1 [name='firstName']").setCustomValidity("Please fill in your first name");
              document.querySelector("#myForm1 [name='firstName']").reportValidity();
            }  else if ($("#myForm1 [name='lastName']").val().trim().length==0) {
              document.querySelector("#myForm1 [name='lastName']").setCustomValidity("Please fill in your last name");
              document.querySelector("#myForm1 [name='lastName']").reportValidity();

            }else if ($("#myForm1 [name='email']").val().trim().length==0 || $("#myForm1 [name='email']").val().match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/g)==null) {
              document.querySelector("#myForm1 [name='email']").setCustomValidity("Please fill in correct email format, i.e example@example.com");
              document.querySelector("#myForm1 [name='email']").reportValidity();
            } else if ($("#myForm1 [name='number']").val().trim().length==0 || $("#myForm1 [name='number']").val().match(/^[+]*[1]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\./0-9]*$/g)==null) {
              document.querySelector("#myForm1 [name='number']").setCustomValidity("Please fill in correct phone number format, i.e 0123456789");
              document.querySelector("#myForm1 [name='number']").reportValidity();
            } else {
              $('.bookNowButton').addClass('loading');
              $('.hidden').addClass('non-active');
              $('.afterBooking').addClass('loading');

              $("#myForm1 input").prop("disabled", true);
              $("#myForm1 select").prop("disabled", true);
              $("#myForm1 textarea").prop("disabled", true);
              $("#myForm1 button").prop("disabled", true);
              fetch(`https://shp-webserver-temp.glitch.me/squareup-checkCustomer`, {
                method: 'POST',
                headers: {
                    accept: "application/json",
                    "content-type": "application/json"
                },
                body: JSON.stringify({
                    email: $("#myForm1 input[name=email]").val()
                })
              })
              .then(r=>r.json())
              .then(r=>{
                if (jQuery.isEmptyObject(r)) {
                  createCustomer(x, "#myForm1");
                } else {
                  // createBooking(r.customers[0].id, x, "#myForm1")
                  $('.accExistsOverlay').removeClass('non-active');
                  // createBooking(r.customers[0].id, x, "#myForm1")
                  $('.accExistsOverlay .bookingButton').on('click', function() {

                    $('.newClients').addClass('non-active');
                    $('.oldClients').removeClass('non-active');
                    $('.mobilePopup').css('max-height', '0px');
                    $('.accExistsOverlay').addClass('non-active');
                    if ($(window).width() > 1023) {
                      if (localStorage.getItem('email')) {
                        let setheight = $('.page').height();
                        console.log(setheight)
                        $('.serviceList').css('max-height', `${setheight}px`);
                        showService();
                        $('.loggedInDesktop .para').on('click', {email:localStorage.getItem('email')}, clientInfo);
                        $('.loggedInDesktop .para1').on('click', function() {
                          console.log('Sign out')
                          localStorage.removeItem('email');
                          localStorage.removeItem('name');
                          localStorage.removeItem('lastName');
                          $('.oldClients').removeClass('active');
                          $('.oldClients').addClass('non-active');
                          $('.newClients').removeClass('non-active');
                          $('.serviceList').css('max-height', '0px')
                        });
                        $('.newClients').addClass('non-active');
                        $('.oldClients').addClass('active');
                        // $('.oldClients .clientProfile')
                          } else {
                            $('.oldClients').removeClass('non-active');
                        $('.newClients').addClass('non-active');
                        $('.oldClients').empty().append($('.squareupLogin').eq(0).clone().addClass('active'));
                        $('.squareupLogin #loginForm .requestButton').removeClass('loading');
                        $('.squareupLogin #loginForm input').prop("disabled", false);
                        $('.requestButton').removeClass('loading');

                        $('.squareuplogin #loginForm').on("submit", checkCustomer);
                      }
                    }
                  })
                }
              })
            }
  }
  function showCodeMessage(code, email, firstName, customerId, lastName) {

    $('.oldClients .loginForm').empty().append($('.oldClientsCode').eq(0).clone().addClass('active'));
    $('.oldClientsCode.active .cancel').on('click', function() {
      $('.oldClients').addClass('non-active');
      $('.newClients').removeClass('non-active');
    })  
    $('.oldClientsCode #codeLogin').on('submit', function(e) {
        e.preventDefault();
        $('.oldClientsCode .incorrectCode').html(``);

        $('.oldClientsCode .requestButton').addClass('loading');

        if ($('.oldClients #codeLogin [name=code]').val() == code) {
          if (localStorage.getItem('savedBooking')) {
            console.log('saved')
            const serv = multiService[0];
            let x = [];
            serv.appointmentSegments.forEach((item) => {
              x.push({
                "teamMemberId": item.teamMemberId,
                "durationMinutes": item.durationMinutes,
                "serviceVariationId": item.serviceVariationId,
                "serviceVariationVersion": item.serviceVariationVersion
              })
            })
            let setheight = $('.page').height();
            $('.serviceList').css('max-height', `${setheight}px`);
            $('.serviceList .form1234').empty().append($('.bookingConfirm').eq(0).clone().addClass('active'))
            $('.serviceList .form1234 .loader2').addClass('non-active');
            $('.serviceList .mobileBottom1 .botss .confirmButton').addClass('active');
            $('.serviceList .mobileBottom1 .botss .bookNowButton').removeClass('active');
            localStorage.setItem('email', email);
            localStorage.setItem('name', firstName);
            localStorage.setItem('lastName', lastName);
            localStorage.setItem('customerId', customerId);
            /////////
            ///////////AFTER LOGIN SUCCESSFUL, PULL UP BOOKING CONFIRMATION PAGE
            ////////
          } else {
          if ($(window).width() > 1023) {
            setTimeout(function() {
                localStorage.setItem('email', email);
                localStorage.setItem('name', firstName);
                localStorage.setItem('lastName', lastName);
                localStorage.setItem('customerId', customerId);
              showService()
            // $('.loggedInDesktop .para').on('click', {email:email}, clientInfo);
            $('.loggedInDesktop .para').on('click', {email:email}, clientInfo);
            $('.loggedInDesktop .para1').on('click', function() {
            console.log('Sign out')
            localStorage.removeItem('email');
            localStorage.removeItem('name');
            localStorage.removeItem('lastName');
            $('.oldClients').removeClass('active');
            $('.oldClients').addClass('non-active');
            $('.newClients').removeClass('non-active');
            $('.serviceList').css('max-height', '0px')
          });
            }, 1500)


          } else {
            setTimeout(function() {
            $('.oldClients').empty().append($('.oldClientsLogin').eq(0).clone().addClass('active'));
            $('.oldClientsLogin .signIn_square .block').addClass('non-active');
            $('.oldClientsLogin .myAppts').addClass('active');
            $('.oldClientsLogin .myAppts button').on('click', {email:email}, clientInfo);
            $('.oldClientsLogin .myAppts .newName').empty().append(`${firstName}`);
            $('.oldClients .myAppts div').on('click', function() {
              localStorage.removeItem('email');
              localStorage.removeItem('name');
              localStorage.removeItem('lastName');

              $('.oldClientsLogin .signIn_square .block').removeClass('non-active');
              $('.oldClientsLogin .myAppts').removeClass('active');
              $('.oldClientsLogin .signIn_square .sqLogin').on('click', function() {

                $('.oldClients').empty().append($('.squareupLogin').eq(0).clone().addClass('active'));
                $('.squareupLogin #loginForm .requestButton').removeClass('loading');
                $('.squareupLogin #loginForm input').prop("disabled", false);
                $('.requestButton').removeClass('loading');

                $('.squareuplogin #loginForm').on("submit", checkCustomer);
              })
            })
        $('.oldClients .button2').on('click',  showService)

            localStorage.setItem('email', email);
            localStorage.setItem('name', firstName);
            localStorage.setItem('lastName', lastName);
            localStorage.setItem('customerId', customerId);
          }, 2000)
          }
          }



        } else {
        $('.oldClientsCode .requestButton').removeClass('loading');
          $('.oldClientsCode .incorrectCode').html(`The code you entered is incorrect.`);
        }
    })
  }

function clientInfo(e) {

  let email = e.data.email
  $('.oldClientsLogin .myAppts .loadButton').addClass('loading');
  fetch(`https://shp-webserver-temp.glitch.me/squareup-checkCustomer`, {
    method: 'POST',
    headers: {
        accept: "application/json",
        "content-type": "application/json"
    },
    body: JSON.stringify({
        email: email
    })
  })
  .then(r=>r.json())
  .then(r=>{
    let results = r.customers[0];
    $('.oldClients').empty().append($('.clientProfile').eq(0).clone().addClass('active'));
    $('.clientProfile .topBlock .initial').empty().append(`${results.givenName[0]}${results.familyName[0]}`);
    $('.clientProfile .topBlock .name').empty().append(`${results.givenName} ${results.familyName}`);
    // console.log(results);
    $('.oldClientsLogin .myAppts .loadButton').removeClass('loading');

    getAppointments(results.id, email)
    if ($(window).width() > 1023) {
    $('.serviceList').css('max-height', '0px');
  }
  })
}
function getAppointments(id, email) {
  fetch(`https://shp-webserver-temp.glitch.me/customerCustomAttributes`, {
    method: 'POST',
    headers: {
      accept: "application/json",
      "content-type": "application/json"
    },
    body: JSON.stringify({
      id: id
    })
  })
  .then(r=>r.json())
  .then(r=> {
    retrieveBookings(r.customAttributes[0].value, email);
  })
}
 function serviceName(id) {
  return fetch(`https://shp-webserver-temp.glitch.me/sq-servicetype`, {
        method: 'POST',
        headers: {
            accept: "application/json",
            "content-type": "application/json"
        }
    })
    .then(r=> r.json())
    .then(data=> { 
      // console.log(r.items)
      // console.log(data.items)
      // const vidu = r.items.filter((item) => item.itemData.variations[0].id == id)
      // let name = vidu[0].itemData.name
      return data;
    })
} 
async function retrieveBookings(id, email) {
  // console.log(id.split(','))
  // console.log(id)
  // console.log(email)
if (id) {
  $('.appointmentList .upcomingList .apptBlock').remove();
  $('.appointmentList .pastList .apptBlock').remove();
  
 await Promise.all(id.split(',').map(async (item) => {
    setTimeout(function() {
fetch(`https://shp-webserver-temp.glitch.me/retrieveBooking`, {
method: 'POST',
headers: {
accept: "application/json",
"content-type": "application/json"
},
body: JSON.stringify({
id: item
})
})
.then(r=>r.json())
.then(r=> {
let timeStart = r.booking.startAt;
// console.log(r)
let currentTime = new Date();
    let durationMins = new Date(timeStart);
    let day = new Date(timeStart).getDay();
    let date = new Date(timeStart).getDate();
    let month = new Date(timeStart).getMonth();
    let year = new Date(timeStart).getFullYear();
    let time = new Date(timeStart).toLocaleTimeString('en-US', {hour:"numeric", minute: "2-digit"});
    // let timeStart2 = durationMins.getMinutes()
    // let timeStart2 = durationMins.setMinutes(durationMins.getMinutes());
    // let timeStart2 = durationMins.getMinutes()
    // let time2 = new Date(timeStart2).toLocaleTimeString('en-US', {hour:"numeric", minute: "2-digit"});
  // console.log(time2)
serviceName()
.then(item1 => {
  
  // console.log(r)''

          $(`.appointmentList ${durationMins > currentTime ?`.upcomingList` : `.pastList` }`).append(`
          <div id='${r.booking.id}' class='apptBlock'>
            
            ${durationMins > currentTime ? '' : `<span>View Details</span>` }
            <div class='sellerinfo'>

              <div class='sellerFirst'></div>

              <div style='text-align:start;'>
                <div style='color:#b3b3b3; font-size:13px;'>Confirmed With</div>
                <div style='font-weight:600; font-size:16px;' class='stylistName'></div>
              </div>

            </div>

            <div class='dateTime details'>
              <img style='width:25px; height:25px;' src='../../../assets/img/gta/clock.png'>
              <div class='timeFrame'></div>
            </div>
            <div class='details'>
              <img style='width:25px; height:25px;' src='../../../assets/img/gta/price-tag.png'>
              <div class='serviceDetails'></div>
            </div>
          </div>
          `)
  
  r.booking.appointmentSegments.map((item) => {
    const vidu = currentStylers.filter((item3) => item3.team_member_id == item.teamMemberId);
    const vidu1 = item1.items.filter((item2) => item2.itemData.variations[0].id == item.serviceVariationId);
    $(`#${r.booking.id}.apptBlock .sellerFirst`).empty().append(vidu[0].display_name[0])
    // const vidu1 = currentStylers.filter((item3) => item3.team_member_id == item.teamMemberId);
    let timeStart2 = durationMins.setMinutes(durationMins.getMinutes() + item.durationMinutes);
    let time2 = new Date(timeStart2).toLocaleTimeString('en-US', {hour:"numeric", minute: "2-digit"});

    $(`#${r.booking.id}.apptBlock .dateTime .timeFrame`).empty().append(`${weekday[day]}, ${months[month]} ${date}, ${year} </br> ${time} - ${time2} EST`)
    $(`#${r.booking.id}.apptBlock .stylistName`).empty().append(vidu[0].display_name)
    $(`#${r.booking.id}.apptBlock .serviceDetails`).append(`
    <div>
      ${vidu1[0].itemData.name} (${vidu1[0].itemData.variations[0].itemVariationData.serviceDuration/60000}mins) ${vidu1[0].itemData.variations[0].itemVariationData.priceMoney? `$`+ vidu1[0].itemData.variations[0].itemVariationData.priceMoney.amount/100+`.00`: 'Price Varies'}
    </div>
    `)

  })


}).then(() => {
  $('.oldClients .pastList .apptBlock span').on('click', function() {
          console.log($(this).siblings().find('.sellerFirst')[0].innerHTML)
          let initial = $(this).siblings().find('.sellerFirst')[0].innerHTML;
          let name = $(this).siblings().find('.stylistName')[0].innerHTML;
          let date = $(this).siblings().find('.timeFrame')[0].innerHTML;
          let detail = $(this).siblings().find('.serviceDetails')[0].innerHTML;
          $('.apptDetails').removeClass('non-active');
          $('.apptDetails .initial').html(initial);
          console.log('sioker')
          $('.apptDetails .name').html(name);
          $('.apptDetails .date').html(date);
          $('.apptDetails .service').html(detail);
          $('.apptDetails .detailsTopBlock').empty().append($('.apptPast').eq(0).clone().removeClass('non-active'))
          let setheight = $('.page').height();
          $('.apptDetails').css('max-height', `${setheight}px`);

          $('.apptDetails .back').on('click', function() {
            $('.apptDetails').css('max-height', `0px`);

          })
      })

}).then(()=> {
      let x = $('.oldClients .clientProfile .bottomBlock .upcomingList').children().length;
      let y = $('.oldClients .clientProfile .bottomBlock .pastList').children().length;
      // console.log(x);
      // console.log(y);
      if (x == 1) {
        $('.oldClients .upcomingList .loader2').addClass('non-active');
        $('.oldClients .upcomingList').append(`<div class='noUpcoming' style='padding-top:20px; font-weight:500;'>You have no upcoming appointments</div>`);
      } else {

        $('.oldClients .upcomingList .loader2').addClass('non-active');
        $('.oldClients .upcomingList .noUpcoming').addClass('non-active');
      }
      if (y == 1) {
        $('.oldClients .pastList .loader2').addClass('non-active');
        $('.oldClients .pastList').append(`<div class='noPast' style='padding-top:20px; font-weight: 500;'>You have no past appointments</div>`);
      } else {
        $('.oldClients .upcomingList .noPast').addClass('non-active');
        $('.oldClients .pastList .loader2').addClass('non-active');

      };
})
})
    }, 500)



}) )
let x = $('.oldClients .clientProfile .bottomBlock .upcomingList').children().length;

} else {
  $('.oldClients .upcomingList .loader2').addClass('non-active');
  $('.oldClients .pastList .loader2').addClass('non-active');
  $('.oldClients .upcomingList').append(`<div class='noUpcoming' style='padding-top:20px; font-weight:500;'>You have no upcoming appointments</div>`);
  $('.oldClients .pastList').append(`<div class='noPast' style='padding-top:20px; font-weight: 500;'>You have no past appointments</div>`);
}

// let x = $('.oldClients .clientProfile .bottomBlock .upcomingList').children().length;
//       let y = $('.oldClients .clientProfile .bottomBlock .pastList').children().length;
//       // console.log(x);
//       // console.log(y);
//       // console.log($('.oldClients .clientProfile .upcomingList'))
//       if (x == 1) {
//         $('.oldClients .upcomingList .loader2').addClass('non-active');
//         $('.oldClients .upcomingList').append(`<div class='noUpcoming' style='padding-top:20px; font-weight:500;'>You have no upcoming appointments</div>`);
//       } else {

//         $('.oldClients .upcomingList .loader2').addClass('non-active');
//         $('.oldClients .upcomingList .noUpcoming').addClass('non-active');
//       }
//       if (y == 1) {
//         $('.oldClients .pastList .loader2').addClass('non-active');
//         $('.oldClients .pastList').append(`<div class='noPast' style='padding-top:20px; font-weight: 500;'>You have no past appointments</div>`);
//       } else {
//         $('.oldClients .upcomingList .noPast').addClass('non-active');
//         $('.oldClients .pastList .loader2').addClass('non-active');

//       };







  $('.oldClients .apptList .past').on('click', function() {
    $('.oldClients .apptList .upcoming').removeClass('active');
    $('.oldClients .apptList .past').addClass('active');
    $('.oldClients .appointmentList .upcomingList').addClass('non-active');
    $('.oldClients .appointmentList .pastList').removeClass('non-active');
  })
  $('.oldClients .apptList .upcoming').on('click', function() {
    $('.oldClients .apptList .upcoming').addClass('active');
    $('.oldClients .apptList .past').removeClass('active');
    $('.oldClients .appointmentList .upcomingList').removeClass('non-active');
    $('.oldClients .appointmentList .pastList').addClass('non-active');
  })
  $('.oldClients .clientProfile .topBlock .info').on('click', function() {
    $('.oldClients .clientProfile .bottomBlock').removeClass('non-active');
      $('.oldClients .clientProfile .profileBlock').addClass('non-active');
  })
  $('.oldClients .clientProfile .midBlock .bookingButton').on('click', showService);
  $('.oldClients .clientProfile .signOutBlock div').on('click', function() {
    // console.log('hi')
    localStorage.removeItem('email');
    localStorage.removeItem('name');
    localStorage.removeItem('lastName');
    if ($(window).width() > 1023) {
      $('.oldClients').empty().append($('.squareupLogin').eq(0).clone().addClass('active'));
      $('.squareupLogin #loginForm .requestButton').removeClass('loading');
        $('.squareupLogin #loginForm input').prop("disabled", false);
        $('.requestButton').removeClass('loading');
        $('.squareuplogin #loginForm').on("submit", checkCustomer);
    } else {
      $('.oldClients').empty().append($('.oldClientsLogin').eq(0).clone().addClass('active'));

      $('.oldClientsLogin .signIn_square .block').removeClass('non-active');
      $('.oldClientsLogin .myAppts').removeClass('active');
      $('.oldClientsLogin .signIn_square .sqLogin').on('click', function() {

        $('.oldClients').empty().append($('.squareupLogin').eq(0).clone().addClass('active'));
        $('.squareupLogin #loginForm .requestButton').removeClass('loading');
        $('.squareupLogin #loginForm input').prop("disabled", false);
        $('.requestButton').removeClass('loading');

        $('.squareuplogin #loginForm').on("submit", checkCustomer);
      })
    }


  });

  if (!($._data($('.oldClients .viewProfile').get(0), 'events'))) {
    $('.clientProfile .viewProfile').on('click', function() {

      fetch(`https://shp-webserver-temp.glitch.me/squareup-checkCustomer`, {
      method: 'POST',
      headers: {
          accept: "application/json",
          "content-type": "application/json"
      },
      body: JSON.stringify({
          email: email
      })
      })
      .then(r=>r.json())
      .then(r=>{
        let cust = r.customers[0];
        $('.profileBlock .name').empty().append(`${cust.givenName} ${cust.familyName}`);
        $('.profileBlock .email').empty().append(`${cust.emailAddress}`);
        $('.profileBlock .phoneNumber').empty().append(`${cust.phoneNumber} `);
        $('.oldClients .clientProfile .bottomBlock').addClass('non-active');
      $('.oldClients .clientProfile .profileBlock').removeClass('non-active');
      // <div class="profileBlock non-active">
      //   <p>My profile</p>
      //   <div>Please contact Superhairpieces.ca to update your contact information</div>
      //   <div>
      //     <p class="name">Name</p>
      //     <p class="email">Email</p>
      //     <p class="phoneNumber">Phone Number</p>
      })
      // $('.profileBlock .name')
      // $('.oldClients .clientProfile .bottomBlock').addClass('non-active')
      // $('.oldClients .clientProfile .profileBlock').removeClass('non-active')
})
  }

    // console.log(promises)

 
}



function checkCustomer(e) {
  e.preventDefault();
  $('.squareupLogin #loginForm .accountExistence').html(``);
  $('.squareupLogin #loginForm input').prop("disabled", true);
  $('.squareuplogin .requestButton').addClass('loading');

  let email = $('.oldClients .squareupLogin [name=email]').val();
  fetch(`https://shp-webserver-temp.glitch.me/squareup-checkCustomer`, {
        method: 'POST',
        headers: {
            accept: "application/json",
            "content-type": "application/json"
        },
        body: JSON.stringify({
            email: email
        })
    })
    .then(r=>r.json())
    .then(r=>{
      if (jQuery.isEmptyObject(r)) {
        $('.squareupLogin #loginForm .accountExistence').html(`Account does not exist. Please sign up!`);
        $('.squareuplogin .requestButton').removeClass('loading');
        $('.squareupLogin #loginForm input').prop("disabled", false);
        
        // createCustomer(x, "#myForm")
      } else {
        loginToSquareAcc(r.customers[0].givenName, r.customers[0].familyName, r.customers[0].id);

        // createBooking(r.customers[0].id, x, "#myForm")
      }
    })
}

  function loginToSquareAcc(firstName, lastName, customerId) {

  if ($("#loginForm [name='email']").val().trim().length==0 || $("#loginForm [name='email']").val().match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/g)==null) {
  document.querySelector("#loginForm [name='email']").setCustomValidity("Please fill in correct email format, i.e example@example.com");
  document.querySelector("#loginForm [name='email']").reportValidity();
  } else {
    let email = $("#loginForm [name='email']").val();

    fetch(`https://shp-webserver-temp.glitch.me/squareup-log`, {
      method: 'POST',
      headers: {
          accept: "application/json",
          "content-type": "application/json"
      },
      body: JSON.stringify({
          email: $("#loginForm [name='email']").val()
      })
    })
    .then(r=>r.json())
    .then(r=> {
      let code = r.check;

      // console.log(r)
      // checkCustomer($("#loginForm [name='email']").val(), code)



      //TESTING
      // showCodeMessage(r, email, firstName, customerId, lastName);

      //REAl
      showCodeMessage(code, email, firstName, customerId, lastName);

    })
  }

  }

  


  $("#myForm1").on("submit", function(e) {
            e.preventDefault();
            const serv = multiService[0];
            let x = [];
            const vidutest = serv.appointmentSegments.forEach((item) => {
              x.push({
                "teamMemberId": item.teamMemberId,
                "durationMinutes": item.durationMinutes,
                "serviceVariationId": item.serviceVariationId,
                "serviceVariationVersion": item.serviceVariationVersion
              })
            })
            if ($("#myForm1 [name='firstName']").val().trim().length==0) {
              document.querySelector("#myForm1 [name='firstName']").setCustomValidity("Please fill in your first name");
              document.querySelector("#myForm1 [name='firstName']").reportValidity();
            }  else if ($("#myForm1 [name='lastName']").val().trim().length==0) {
              document.querySelector("#myForm1 [name='lastName']").setCustomValidity("Please fill in your last name");
              document.querySelector("#myForm1 [name='lastName']").reportValidity();

            }else if ($("#myForm1 [name='email']").val().trim().length==0 || $("#myForm1 [name='email']").val().match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/g)==null) {
              document.querySelector("#myForm1 [name='email']").setCustomValidity("Please fill in correct email format, i.e example@example.com");
              document.querySelector("#myForm1 [name='email']").reportValidity();
            } else if ($("#myForm1 [name='number']").val().trim().length==0 || $("#myForm1 [name='number']").val().match(/^[+]*[1]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\./0-9]*$/g)==null) {
              document.querySelector("#myForm1 [name='number']").setCustomValidity("Please fill in correct phone number format, i.e 0123456789");
              document.querySelector("#myForm1 [name='number']").reportValidity();
            } else {
              $('.mobilePopup .bookNowButton').addClass('loading');
              fetch(`https://shp-webserver-temp.glitch.me/squareup-checkCustomer`, {
                method: 'POST',
                headers: {
                    accept: "application/json",
                    "content-type": "application/json"
                },
                body: JSON.stringify({
                    email: $("#myForm1 input[name=email]").val()
                })
              })
              .then(r=>r.json())
              .then(r=>{
                if (jQuery.isEmptyObject(r)) {
                  createCustomer(x, "#myForm1");
                } else {

                  createBooking(r.customers[0].id, x, "#myForm1");

                }
              })
            }

                // $("button").prop("disabled", "disabled");
                // $(".e-submit .e-content input").prop("readonly", true);
                // $("button[type=submit]").html(`<img src="/content/images/common/loading.svg" width="20px" height="20px"/>`)


            }
        );

$("#myForm").on("submit", function(e) {

e.preventDefault();
const serv = multiService[0];
let x = [];
serv.appointmentSegments.forEach((item) => {
  x.push({
    "teamMemberId": item.teamMemberId,
    "durationMinutes": item.durationMinutes,
    "serviceVariationId": item.serviceVariationId,
    "serviceVariationVersion": item.serviceVariationVersion
  })
})
$('.bookNowButton').addClass('loading');
if ($('.newClients').hasClass('non-active')) {
  $('.serviceList .bookNowButton').addClass('loading');
    } else {
  $('.mobilePopup .bookNowButton').addClass('loading');


    }
    // $("button").prop("disabled", "disabled");
    // $(".e-submit .e-content input").prop("readonly", true);
    // $("button[type=submit]").html(`<img src="/content/images/common/loading.svg" width="20px" height="20px"/>`)

    fetch(`https://shp-webserver-temp.glitch.me/squareup-checkCustomer`, {
        method: 'POST',
        headers: {
            accept: "application/json",
            "content-type": "application/json"
        },
        body: JSON.stringify({
            email: $("#myForm input[name=email]").val()
        })
    })
    .then(r=>r.json())
    .then(r=>{
      if (jQuery.isEmptyObject(r)) {
        createCustomer(x, "#myForm");
      } else {
        // createBooking(r.customers[0].id, x, "#myForm")
      }
    })

}
);
function createCustomer1(e) {
  $('.squareupSignUpForm .accExists').removeClass('active')
  let form = e.data.id;
  e.preventDefault();
  $('.squareupSignupForm #signupForm .bookingButton').addClass('loading');
  fetch(`https://shp-webserver-temp.glitch.me/squareup-checkCustomer`, {
      method: 'POST',
      headers: {
          accept: "application/json",
          "content-type": "application/json"
      },
      body: JSON.stringify({
          email: $(`${form} input[name=email]`).val()
      })
      })
      .then(r=>r.json())
      .then(r=>{
        if (jQuery.isEmptyObject(r)) {
          fetch(`https://shp-webserver-temp.glitch.me/squareup-createCustomer`, {
              method: 'POST',
              headers: {
                  accept: "application/json",
                  "content-type": "application/json"
              },
              body: JSON.stringify({
                  firstName: $(`${form} input[name=firstName]`).val(),
                  lastName: $(`${form} input[name=lastName]`).val(),
                  email: $(`${form} input[name=email]`).val(),
                  phone: $(`${form} input[name=number]`).val()
              })
          })
          .then(r=>r.json())
          .then(r=>{
            let results = r.customer;
            setTimeout(function() {
              $('.oldClients').empty().append($('.clientProfile').eq(0).clone().addClass('active'));
              $('.clientProfile .topBlock .initial').append(`${results.givenName[0]}${results.familyName[0]}`);
              $('.clientProfile .topBlock .name').append(`${results.givenName} ${results.familyName}`);
              getAppointments(results.id, results.emailAddress);
              localStorage.setItem('email', results.emailAddress);
              localStorage.setItem('name', results.givenName);
              localStorage.setItem('lastName', results.familyName);
              localStorage.setItem('customerId', results.id);
            }, 1500)


          })
        } else {
          $('.squareupSignupForm .loadButton').removeClass('loading');
          $('.squareupSignupForm .accExists').addClass('active').empty().append('Account already exists')
        }
      })

}
function createCustomer(x, form) {
  fetch(`https://shp-webserver-temp.glitch.me/squareup-createCustomer`, {
        method: 'POST',
        headers: {
            accept: "application/json",
            "content-type": "application/json"
        },
        body: JSON.stringify({
            firstName: $(`${form} input[name=firstName]`).val(),
            lastName: $(`${form} input[name=lastName]`).val(),
            email: $(`${form} input[name=email]`).val(),
            phone: $(`${form} input[name=number]`).val()
        })
    })
    .then(r=>r.json())
    .then(r=>{
      // console.log(r)
      createBooking(r.customer.id, x, form, r.customer);
    })
}

function createBooking(id, serv, form, customerInfo) {
  // console.log(id)
  // console.log(serv)
  // console.log(form)
  // console.log(customerInfo)
  let notes = '';
  if (localStorage.getItem('email')) {
    notes = $(`${form} div[name=apptNotes]`).html();
  } else {
    notes = $(`.bookingForm.active ${form} textarea[name=appNotes]`).val();
  } 
      fetch(`https://shp-webserver-temp.glitch.me/squareup-createBooking`, {
        method: 'POST',
        headers: {
            accept: "application/json",
            "content-type": "application/json"
        },
        body: JSON.stringify({
            startAt: multiService[0].startAt,
            locationId: multiService[0].locationId,
            customerId: id,
            customerNote: notes || "N/A",
            book: serv

        })
    })
    .then(r=>r.json())
    .then(r=>{
      let results = customerInfo;
      console.log('created booking');
      if ($('.newClients').hasClass('non-active')) {
        setTimeout(function() {
          // $('.serviceList').css('max-height', '0px');
          // localStorage.setItem('email', results.emailAddress);
          // localStorage.setItem('name', results.givenName);
          // localStorage.setItem('lastName', results.familyName);
          // localStorage.setItem('customerId', results.id);
          if ($('.oldClients .clientProfile').hasClass('active')) {
            // $('.appointmentList .upcomingList').empty();
            // $('.appointmentList .pastList').empty();
            getAppointments(results, localStorage.getItem('email'));
            $('.serviceList').css('max-height', '0px');
          } else {
            let first = localStorage.getItem('name');
            let last = localStorage.getItem('lastName');

            $('.oldClients').empty().append($('.clientProfile').eq(0).clone().addClass('active'));
            $('.clientProfile .topBlock .initial').append(`${first[0]}${last[0]}`);
            $('.clientProfile .topBlock .name').append(`${first} ${last}`);
            // getAppointments(results.id, localStorage.getItem('email'));
            getAppointments(results, localStorage.getItem('email'));
            
            $('.serviceList').css('max-height', '0px');
            $('.upcomingList .loader2').addClass('non-active');

          }

        }, 1500)
        $('.serviceList .botss').empty();
        $('.serviceList .botss').append(`
        <div style='text-align:center;' class='bookingButton'>Booked</div>
        `)
      } else {

        setTimeout(function() {
          $('.oldClients').empty().append($('.clientProfile').eq(0).clone().addClass('active'));
          $('.clientProfile .topBlock .initial').append(`${results.givenName[0]}${results.familyName[0]}`);
          $('.clientProfile .topBlock .name').append(`${results.givenName} ${results.familyName}`);
          getAppointments(results.id, results.emailAddress);
          localStorage.setItem('email', results.emailAddress);
          localStorage.setItem('name', results.givenName);
          localStorage.setItem('lastName', results.familyName);

          localStorage.setItem('customerId', results.id);
          $('.mobilePopup').css('max-height', '0px');
          $('.newClients').addClass('non-active');
          $('.oldClients').removeClass('non-active');
        }, 1500)
        $('.mobilePopup .bots').empty();
        $('.mobilePopup .bots').append(`
        <div style='text-align:center;' class='bookingButton'>Booked</div>
        `)
      }
      if ($(window).width() > 1023) {
        $('.submitFormButtons').empty();
        $('.submitFormButtons').append(
          `<div style='text-align:center;' class='afterBooking'>Booked</div>`
        );

      }
    })

  }
function showService(e) {
  $('.list-item').unbind('click');
  let serviceType, serviceCate;
  if (e) {
    serviceType = e.target.getAttribute('data-service');
    serviceCate = e.target.getAttribute('data-service-cate');
  } else {
    serviceType = "Men";
    serviceCate = "KYEHUUDWR5NEVDVGK2NOS2G4";
  }
  // $('.oldClients .button2').on('click', (e) => {
      // if ($('.oldClients .clientProfile').hasClass('active')) {
      //   let x = window.scrollY + window.innerHeight
      //   console.log(x)
      //   $('.serviceList').css('max-height', `${x}px`);
      // }
      $('.serviceList').removeClass('non-active');
      // let serviceType = e.target.getAttribute('data-service')
      // let serviceCate = e.target.getAttribute('data-service-cate')
      let setheight = $('.page').height();
      $('.bookingLoad:not(.loaded):first').addClass('loaded');
      // $('.oldClients').addClass('non-active')
      $('.serviceList .mobileBottom1').addClass('active');
        $('.serviceList').css('max-height', `${setheight}px`);
        $('.serviceList .mobileBottom1 .backButton').on('click', function() {
          if (!($('.serviceList .gokutest').hasClass('non-active'))) {
            total= '';
            duration = '';
            startTime = '';
            multiService = [];
            bookedStylist = '';
            serviceEnd1 = [];
            totalTime = 0;
            $('.serviceList').css('max-height', `0px`);
            $('.list-item').remove();
            $('.page-button').removeClass('page-button1');
            $('.page-test').removeClass('brand-add');
            $('.page-test').css('max-height', '0px');
            $('.list-mens').removeClass('non-active');
            $('.total').removeClass('active');
            $('.total .price').empty();
          }
        })
        $('.serviceList .desktopBottom .oldBack').on('click', function() {
          const group = $('.serviceList').find('.list-services.non-active');
          $('.loader2').removeClass('non-active');
          if ($('.serviceList .bookingForm').hasClass('active')) {
            console.log('bookingForm')
            $('.multiServiceDesk1 .serviceBooking').scrollTop(0);
            $('.serviceList .bookingForm').remove();
            $('.serviceList .serviceBookingSide').remove();
            Array.from($('.gokutest').children()).forEach((item) => {
            $(item).css('display', '');
            })
          } else if (group.length < 3) {
            console.log('serviceList');
            $('.serviceList').css('max-height', '0px');
            $('.oldClients').removeClass('active');
            $('.newClients').removeClass('non-active');
            $('.squareupLogin').removeClass('active');
            $('.oldClientsLogin').removeClass('active')
          }
           else if ($('.serviceList .staffBooking').hasClass('active')) {
            console.log('staff');
            currMonth = new Date().getMonth();
            $('.multiServiceDesk1 .staffBooking').remove();
            $('.serviceList .staffBooking').removeClass('active');
            $('.serviceList .list-mens').removeClass('non-active');
            $('.loader2').addClass('non-active');
            $('.multiServiceItem .trash').removeClass('non-active');
            $('.mobileBottom1 .desktopBottom .next').removeClass('non-active');

          } else if ($('.serviceList .desktopConfirmation').hasClass('active')) {
            console.log('confirmed')
            $('.serviceList .desktopConfirmation').remove();
            $('.serviceList .multiServiceDesk').removeClass('non-active');
            Array.from($('.gokutest').children()).forEach((item) => {

            $(item).css('display', '');

            })
            $('.loader2').addClass('non-active');
            $('.bookBut').removeClass('active3');
          } else if ($('.serviceList .serviceBooking').hasClass('active')) {
            console.log('calendar')
            currMonth = new Date().getMonth();

            $('.multiServiceDesk1 .serviceBooking').remove();

            $('.serviceList .staffBooking').addClass('active');

          } 
          else if (!($('.serviceList .list-services').hasClass('non-active'))) {
            currMonth = new Date().getMonth();

            duration = '';
            startTime = '';
            multiService = [];
            bookedStylist = '';
            serviceEnd1 = [];
            totalTime = 0;
            $('.oldClients').removeClass('active');
            $('.newClients').removeClass('non-active')
            $('.serviceList').css('max-height', `0px`);
            $('.serviceList .multiServiceSide').remove();
            $('.multiServiceItem').remove();
            $('.list-item').remove();
            $('.page-button').removeClass('page-button1');
            $('.page-test').removeClass('brand-add');
            $('.page-test').css('max-height', '0px');
            $('.list-mens').removeClass('non-active');
            $('.loader2').addClass('non-active')
          }
        })
        $('.serviceList .desktopBottom .oldCancel').on('click', function(){
          $('.loader2').removeClass('non-active');
          $('.oldClients .squareupLogin').removeClass('active')
            duration = '';
            startTime = '';
            multiService = [];
            bookedStylist = '';
            serviceEnd1 = [];
            totalTime = 0;

        $('.serviceList').css('max-height', `0px`);
        $('.serviceList .multiServiceSide').remove();
        $('.multiServiceItem').remove();
        $('.list-item').remove();
        $('.page-button').removeClass('page-button1');
        $('.page-test').removeClass('brand-add');
        $('.page-test').css('max-height', '0px');
        $('.list-mens').removeClass('non-active');
        $('.multiServiceDesk1 .staffBooking').addClass('active');
        $('.multiServiceDesk1 .serviceBooking').remove();
        $('.multiServiceDesk1 .staffBooking').remove();
        $('.oldClients').removeClass('active');
        $('.newClients').removeClass('non-active');
        $('.oldClients .oldClientsLogin').removeClass('active');
        if ($('.gokutest .bookingForm').hasClass('active')) {
          $('.gokutest .bookingForm').remove();
          Array.from($('.gokutest').children()).forEach((item) => {
            $(item).css('display', '');
            })
        }
        })
        $('.serviceList .multiServiceDesk .multiServiceSide').remove();
        $('.serviceList .multiServiceDesk').prepend($('.multiServiceSide').eq(0).clone().addClass('active'));
        if (!($('.oldClients .clientProfile').hasClass('active'))) {
          $('.serviceList .top-list .item').removeClass('active');
        }
       let selected = $('.serviceList .top-list').find(`:contains('${serviceType}')`);
       fetch(`https://shp-webserver-temp.glitch.me/sq-servicetype`, {
        method: 'POST',
        headers: {
            accept: "application/json",
            "content-type": "application/json"
        }
    })
    .then(r=>r.json())
    .then(r=> { 
      servicesAvailable = r.items;
      const vidu = r.items.filter((item) => item.itemData.categoryId == serviceCate);


     //SANDBOX
     var testing1 = new Promise((resolve, reject ) => {
      servicesAvailable.forEach((item) => {
        let product = item.itemData.variations[0];
        const id = product.id;
        const mins = product.itemVariationData.serviceDuration;
        let cost = '';
        cost = (product.itemVariationData.priceMoney ? (product.itemVariationData.priceMoney.amount/100).toLocaleString('en-us', {style:"currency", currency: "USD"}) : 'Price Varies');
        // PRODUCTION LEVEL
        //
        if (id == "YJDFATQVTOPCCERF44FTP73E") {
          $('.gokutest .list-mens .page-tab #installation').empty().append(`<div id="${id}" class="list-item" data-service-id="${id}">
            <div>Men's Haircut</div>
            <div>${mins/60000}mins</div>
            <div style="text-align:end;">${cost}</div>
            </div>`)
        }

        if (id == "CXXZZX3QDWLRDLXMXSWLEDXG") {
          $('.gokutest .list-mens .page-tab #installationcolor').empty().append(`<div id="${id}" class="list-item" data-service-id="${id}">
            <div>Test</div>
            <div>${mins/60000}mins</div>
            <div style="text-align:end;">${cost}</div>
            </div>`)
        }
        if (id == "FYM523QRBQHJDGBJWD4MRS4S") {
          $('.gokutest .list-mens .page-tab #maintenance').empty().append(`<div id="${id}" class="list-item" data-service-id="${id}">
            <div>Shampoo Style</div>
            <div>${mins/60000}mins</div>
            <div style="text-align:end;">${cost}</div>
            </div>`)
        }
      })
      resolve();
     }) 
     //END SANDBOX
     
     
     testing1.then(() => {
      $('.gokutest .multiServiceDesk1 .loader2').addClass('non-active');
      let lastTime = new Date(currYear, currMonth + 1,0, 23, 59, 59);
            let currTime = date;
            let vidu = Math.abs(lastTime-currTime) / 36e5;
            if ( vidu < 24) {
              lastTime = new Date(currYear, currMonth+2, 0, 23, 59 , 59);
            }
          $('.serviceList .staffMembers .addNames1').on('click', addNames1)  ;
        $('.mobileBottom1 .next').addClass('non-active');  
        $('.list-mens .list-item').on('click', {lastTime: lastTime, currTime: currTime, servicesAvailable: servicesAvailable}, addService);
          $(document).on('click', '.multiServiceItem', function() {
            // let check = $("> div:last-of-type", this).text() == "Price Varies" ?"$0.00"  : $("> div:last-of-type", this).text();
          })
          $(document).on('click','.multiServiceItem .trash' ,function() {
            let check = $(this).parent().find('.price')[0].innerHTML == "Price Varies" ?"$0.00"  : $(this).parent().find('.price')[0].innerHTML;
            let x = serviceEnd1.indexOf(this.id);
            if (x > -1) {
              serviceEnd1.splice(x, 1);
              let self = this.id;

              const test = servicesAvailable.filter((item1) => item1.itemData.variations[0].id == self);
              Array.from($('.list-mens .list-item')).forEach((item) => {
                if (this.id == item.id) {
                  $(item).bind('click', {lastTime: lastTime, currTime: currTime, servicesAvailable: servicesAvailable}, addService);
                }
              })
              checkAva( currTime, lastTime, serviceEnd1, totalTime);
            }
            if (serviceEnd1.length > 0) {
            $('.mobileBottom1 .next').removeClass('non-active');
            } else {
            $('.mobileBottom1 .next').addClass('non-active');

            }
            // total = parseFloat(total) - parseFloat(check.replace(/[$,]/g, ''));
            // $('.botss .total .price').html(`$${total}.00`);
            $(this).parent().remove();
            $(`.serviceList #${this.id}`).removeClass('active');
          })
          $(document).on('click', '.list-item.newClass', function() {
            let check = $("> div:last-of-type", this).text() == "Price Varies" ?"$0.00"  : $("> div:last-of-type", this).text();
            let x = serviceEnd1.indexOf(this.id);
            if (x > -1) {
              serviceEnd1.splice(x, 1);
              let self = this.id;

              const test = servicesAvailable.filter((item1) => item1.itemData.variations[0].id == self);
              totalTime -= parseInt(test[0].itemData.variations[0].itemVariationData.serviceDuration);
              Array.from($('.list-mens .list-item')).forEach((item) => {
                if (this.id == item.id) {
                  $(item).bind('click', {lastTime: lastTime, currTime: currTime, servicesAvailable: servicesAvailable}, addService);
                }
              })
              checkAva( currTime, lastTime, serviceEnd1, totalTime);
            }
            console.log(serviceEnd1)
            
            total = parseFloat(total) - parseFloat(check.replace(/[$,]/g, ''));
            $('.botss .total .price').html(`$${total}.00`);
            (this).remove();
            $(`.serviceList #${this.id}`).removeClass('active');

          })
        

          if (!($._data($('.mobileBottom1 .desktopBottom .next').get(0), 'events'))) {
            $('.mobileBottom1 .desktopBottom .next').on('click', function() {
     
            $('.multiServiceDesk1 .list-services').addClass('non-active');
            $('.multiServiceDesk1 .list-service-title').addClass('non-active');
            $('.multiServiceDesk1 .staffBooking').addClass('active');

            $('.multiServiceDesk1').append($('.staffBooking').eq(0).clone().addClass('active'));
            $('.serviceList .staffMembers .addNames1').on('click', addNames1) ;
            $('.mobileBottom1 .desktopBottom .next').addClass('non-active');
            $('.multiServiceItem .trash').addClass('non-active');

   })
          }


       })

    })

       selected.addClass('active');

    


}
   


function addService(e) {
      let servicesAvailable = e.data.servicesAvailable;
      let currTime = e.data.currTime;
      let lastTime = e.data.lastTime;

          $(this).unbind('click');
          let serviceId = $(this).data('service-id');
          let self = this.id;
          if ($(`.botss .service #${self}`).length == 0) {
            let check = $("> div:last-of-type", this).text() == "Price Varies" ?"$0.00"  : $("> div:last-of-type", this).text();
            total = parseFloat(total) + parseFloat(check.replace(/[$,]/g, ''));
            $('.botss .total .price').html(`$${total}.00`);
            if ($('.botss .total').hasClass('non-active')) {
              $('.botss .total').addClass('active');
            }
            $('.botss .service').append($(this).clone().addClass('newClass'));
            const test = servicesAvailable.filter((item1) => item1.itemData.variations[0].id == self);
            totalTime += parseInt(test[0].itemData.variations[0].itemVariationData.serviceDuration);

            if ($('.botss .service').children().length == 2) {
              $('.botss .service').css('max-height', '107px');
              $('.botss .service').css('overflow', 'hidden');
            } else if ($('.botss .service').children().length > 3) {
              $('.botss .service .service-arrow').removeClass('non-active');
              $('.botss .service-arrow').on('click', function() {
                if ($('.botss .service-arrow').hasClass('open')) {
                  $('.botss .service-arrow').css('transform', 'rotate(0deg)');

                  $('.botss .service').css('max-height', '107px');
                  $('.botss .service-arrow').removeClass('open');
                } else {
                  $('.botss .service-arrow').css('transform', 'rotate(180deg)');
                  $('.botss .service').css('max-height', 'unset');
                  $('.botss .service-arrow').addClass('open');
                }
              })
            }
          
          }
          serviceEnd1.push(serviceId);
          console.log(serviceEnd1)
          if (serviceEnd1.length > 0) {
            $('.mobileBottom1 .next').removeClass('non-active');
          }
          const test = servicesAvailable.filter((item1) => item1.itemData.variations[0].id == self);
          const testName = test[0].itemData.name;
          const testDuration = test[0].itemData.variations[0].itemVariationData.serviceDuration;
          let check = $("> div:last-of-type", this).text() == "Price Varies" ?"$0.00"  : $("> div:last-of-type", this).text();
          
          // const testPrice = test[0].itemData.variations[0].itemVariationData.priceMoney ? test[0].itemData.variations[0].itemVariationData.priceMoney.amount
          checkAva( currTime, lastTime, serviceEnd1, totalTime);
          $('.multiServiceSide .service').append(`
          <div class='multiServiceItem'>
            <span id='${serviceId}' class='trash'></span>
            <div class='name'>${testName}</div>  
            <div class='price'>${check}</div>  
            <div class='time'>${testDuration/60000} mins</div>  
          </div>
          `)
          $('.serviceSide .serviceSideServices').append(`
          <div class='multiServiceItem'>

            <div class='name'>${testName}</div>  
            <div class='price'>${check}</div>  
            <div class='time'>${testDuration/60000} mins</div>  
            <div class='stylist'></div>

          </div>
          `)



          $(this).hasClass('active') ? '': $(this).addClass('active');
    }

    function backToMain() {
      $('.bookingLoad').removeClass('loaded');
      $('.mobilePopup').css('max-height', '0');
      $('.mobileMain').removeClass('active');
      $('.mobileInitial').addClass('active');
      $('#change').empty();

      currDate = date.getDate();
      currYear = date.getFullYear();
      currMonth = date.getMonth();
      test5 = new Date(currYear, currMonth + 1,0);
      serviceEnd = '';
      serviceEnd1 = [];

      startTime = '';
      bookedStylist = '';
      stylistName = '';
      duration = '0';
      total = '0.00';
      servicesAvailable =[];
      totalTime = 0;
      multiService = [];
      calendarChange();
      $('.staffMembers .addNames1:first').addClass('loaded');
      $('.calendarTop .prev-arrow').addClass('disabled');
      $('.calendarTop .next-arrow').removeClass('disabled');
    }

  window.addEventListener('DOMContentLoaded', function() {
    $('.gtaTopSide').slick({
            "dots": false,
            "infinite": true,
            "arrows": false,
            "mobileFirst": true,
            "slidesToShow": 1,
            "slidesToScroll": 1,
            "autoplay" : true,
            "draggable" : true,
            "pauseOnFocus" : false,
            "responsive" : [
                {
                    breakpoint: 1023,
                    settings: "unslick"
                }
            ]
        });
    let serviceGender = '';
    let serviceType = '';
    let color = false;
    $('.sqLogin').on('click', function() {
 
      $('.oldClients').empty().append($('.squareupLogin').eq(0).clone().addClass('active'));
      $('.squareuplogin #loginForm').on("submit", checkCustomer);
      $('.squareupLogin .cancel').on('click', function() {
        $('.oldClients').addClass('non-active');
        $('.newClients').removeClass('non-active')
      })
      $('.squareupLogin .squareSignUp').on('click', function() {
        $('.oldClients').empty().append($('.squareupSignupForm').eq(0).clone().addClass('active'));
        $('.oldClients #signupForm').on("submit", {id: '#signupForm'}, createCustomer1);

    })
    })

    calendarChange() 
    $('.calendarTop .next-arrow').on('click', nextMonth);
    $(".oldClients .back").on('click', function() {
        $('.oldClients').addClass('non-active');
        $('.newClients').removeClass('non-active');
      })









    fetch(`https://shp-webserver-temp.glitch.me/squareup-bookings1`, {
        method: 'POST',
        headers: {
            accept: "application/json",
            "content-type": "application/json"
        }
    })
    .then(r=>r.json())
    .then(r=> {
      let ids = [];
      r.team_member_booking_profiles.forEach(item => {
        currentStylers.push(item);
        ids.push(item.team_member_id);
        $('.addNames').append(`
        <span class=display_name>${Array.from(item.display_name)[0]}</span>
        `)
        $('.staffMembers').append(`
        
        <div data-team-member-name="${item.display_name}" data-team-member-id="${item.team_member_id}" class='bookingButton1 addNames1'>
          <span class=display_name>${Array.from(item.display_name)[0]}</span>
          <div class=salonist>${item.display_name}
            </div>
        <div class="selectDesktop">Select</div>

          </div>`)
      });
      $('.staffMembers .addNames1.loaded').attr('data-team-member-id', ids);

      stylist = ids;
      $('.staffMembers .addNames1').on('click', addNames2);
    })


    $('.buttonApt').on('click', ()=> {
      localStorage.removeItem('savedBooking');
      let setheight = $('.page').height();
      $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
      $('.mobileInitial').addClass('active');
      $('.mobileBottom').addClass('active');
        $('.mobilePopup').css('max-height', `${setheight}px`);
        $('.desktopBottom .newCancel').on('click', function() {
          $('.mobilePopup').css('max-height', '0px');
          $('.mobileMain').removeClass('active');
          $('.mobilePopup1 .bookingLoad.loaded').removeClass('loaded');
          $('.form123').empty();
        })
        if (!($._data($('.desktopBottom .newBack').get(0), 'events'))) {
          $('.desktopBottom .newBack').on('click', function() {
          if ($('.mobileInitial').hasClass('active')) {
            $('.mobilePopup').css('max-height', '0px');
            $('.mobileMain').removeClass('active');
            $('.mobilePopup1 .bookingLoad.loaded').removeClass('loaded');
          } else if ($('.mobileService').hasClass('active')) {
            $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');
            $('.mobileService').removeClass('active');
            $('.mobileInitial').addClass('active');
          } else if ($('.mobileSystem').hasClass('active')) {
            $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');
            $('.mobileSystem').removeClass('active');
            $('.mobileService').addClass('active');
          } else if ($('.mobileService2').hasClass('active')) {
            $('.mobileService2').removeClass('active');
            $('.mobileSystem').addClass('active');
          } else if ($('.mobileService3').hasClass('active')) {
            $('.mobileService3').removeClass('active');
            $('.mobileService2').addClass('active');
          } else if ($('.form123 .staffBooking').hasClass('active')) {
            $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded')
            $('.form123 .staffBooking').removeClass('active');
            $('.mobileService3').addClass('active');

          } else if ($('.form123 .serviceBooking').hasClass('active')) {
            $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');
            $('.form123').empty().append($('.staffBooking').eq(0).clone().addClass('active'));
            $('.staffMembers .addNames1').on('click', function() {
       
       duration = '';
           startTime = '';
           multiService = [];
           bookedStylist = '';
      //  $('.calendarMain .loader2').removeClass('non-active')
       $('.calendarTest .loader2').removeClass('non-active');
       $('.morning .slot').empty();
       $('.afternoon .slot').empty();
       $('.evening .slot').empty();

       if ($('.pleaseSelect').children.length > 0) {
         $('.pleaseSelect').empty();
       }

       let memberId = $(this).data('team-member-id');
       stylistName = $(this).data('team-member-name');
       stylist = memberId.split(',');
       $('.staffMembers .addNames1').removeClass('loaded');
       $(this).addClass('loaded');
       let date1 = new Date();
       let year = date1.getFullYear();
       let mon = date1.getMonth();
       let test5 = new Date(year, mon + 1,0);
       test5.setUTCHours(23,59,59,0);
       currMonth = new Date().getMonth();
       calendarChange();
       bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
       serviceType1(serviceEnd, stylist);
       if ($(window).width() > 1023) {
      $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
         $('.form123').empty().append($('.serviceBooking').eq(0).clone().addClass('active'));
         $('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
         $('.form123 .calendarTop .next-arrow').removeClass('disabled');
            $('.form123 .calendarTop .prev-arrow').addClass('disabled');
            $('.form123 .calendarTop .next-arrow').on('click', nextMonth);
            $('.form123 .calendarTop .prev-arrow').on('click', prevMonth);
        }
     })
          } else if ($('.form123 .bookingForm').hasClass('active')) {
            // $('.calendarMain .loader2').removeClass('non-active')
            $('.calendarTest .loader2').removeClass('non-active');
            $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');
            $('.form123').empty().append($('.serviceBooking').eq(0).clone().addClass('active'));
            $('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
            $('.form123 .calendarTop .next-arrow').removeClass('disabled');
            $('.form123 .calendarTop .prev-arrow').addClass('disabled');
            $('.form123 .calendarTop .next-arrow').on('click', nextMonth);
            $('.form123 .calendarTop .prev-arrow').on('click', prevMonth);
            let date1 = new Date();
            let year = date1.getFullYear();
            let mon = date1.getMonth();
            let test5 = new Date(year, mon + 1,0);
            test5.setUTCHours(23,59,59,0);
            currMonth = new Date().getMonth();
            calendarChange();
            bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
            $('.serviceSideServices .loader2').addClass('non-active');
                $('.bookBut').on('click', function() {
      duration = $(this).data('duration');
      startTime = $(this).data('start-id');
      bookedStylist = $(this).data('team-member');
      $('.bookBut').removeClass('active3');
      $(this).addClass('active3');
      if ($('.pleaseSelect').children.length > 0) {
        $('.pleaseSelect').empty();
      }
      if ($(window).width() > 1023) {
        if ($('.oldClients').hasClass('non-active')) {
          $('.form123').scrollTop(0);

        serviceType1(serviceEnd, stylist, startTime);

        $('.form123').empty().append($('.bookingForm').eq(0).clone().addClass('active'));
      $('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
        $('.form123 #myForm1').on("submit", submitForm);

        } else {

          serviceType1(serviceEnd, stylist, startTime);
          $('.gokutest').empty().append($('.bookingForm').eq(0).clone().addClass('active'));
          $('.gokutest .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
          // $('.serviceBookingSide .loader2').addClass('non-active')
        $('.gokutest #myForm1').on("submit", submitForm);

        }

      }

    })
          }
          
        })
        }

    })
    $('.mobileCancel').on('click', backToMain);

    $('.mobileGTA .backButton2 .backButton2').on('click', function() {
      if ($('.mobilePopup .mobileInitial').hasClass('active')) {
        backToMain();
      } else if ($('.mobilePopup .mobileService').hasClass('active')) {
      $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');
        $('.mobilePopup .mobileService').removeClass('active');
        $('.mobilePopup .mobileInitial').addClass('active');
      } else if ($('.mobilePopup .mobileSystem').hasClass('active')) {
        $('.mobilePopup1 .bookingLoad.loaded:last').removeClass('loaded');
        $('.mobilePopup .mobileSystem').removeClass('active');
        $('.mobilePopup .mobileService').addClass('active');
        serviceGender = '';
      } else if ($('.mobilePopup .mobileService2').hasClass('active')) {
        $('.mobilePopup .mobileService2').removeClass('active');
        $('.mobilePopup .mobileSystem').addClass('active');
      } else if ($('.mobilePop .mobileService3').hasClass('active')) {
        $('.mobilePopup .mobileService2').addClass('active');
        $('.mobilePopup .mobileService3').removeClass('active');
        serviceType = '';
      }
    })
    $('#1').on('click', () => {
      $('.mobileInitial').removeClass('active');
      $('.mobileService').addClass('active');
      $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
      $('.mobileGTA .backButton2').removeClass('non-active');
    });

    $('#2').on('click', () => {
      $('.top-list .item').on('click', function() {
        $('.top-list .item').removeClass('active')
        $(this).addClass('active')
        // console.log($(this).html())
        if ($(this).html() == 'Women') {
          $('.serviceList .list-services').addClass('non-active');
          $('.serviceList .list-services.list-womens').removeClass('non-active');
        } else if ($(this).html() == 'Men') {
          $('.serviceList .list-services').addClass('non-active');
          $('.serviceList .list-services.list-mens').removeClass('non-active');
        } else if ($(this).html() == 'Consultation') {
          $('.serviceList .list-services').addClass('non-active');
          $('.serviceList .list-services.list-consult').removeClass('non-active');
        } 
      })
      if ($(window).width() >1023) {
        if (localStorage.getItem('email')) {
          let setheight = $('.page').height();
          $('.serviceList').css('max-height', `${setheight}px`);
          showService();
          $('.loggedInDesktop .para').on('click', {email:localStorage.getItem('email')}, clientInfo);
          $('.loggedInDesktop .para1').on('click', function() {
            console.log('Sign out')
            localStorage.removeItem('email');
            localStorage.removeItem('name');
            localStorage.removeItem('lastName');
            $('.oldClients').removeClass('active');
            $('.oldClients').addClass('non-active');
            $('.newClients').removeClass('non-active');
            $('.serviceList').css('max-height', '0px')
          });
          $('.newClients').addClass('non-active');
          $('.oldClients').addClass('active');
          $('.oldClients .oldClientsLogin').removeClass('active');
          // $('.oldClients .clientProfile')
        } else {
          $('.oldClients').removeClass('non-active');
      $('.newClients').addClass('non-active');
      $('.oldClients').empty().append($('.squareupLogin').eq(0).clone().addClass('active'));
      $('.squareupLogin #loginForm .requestButton').removeClass('loading');
      $('.squareupLogin #loginForm input').prop("disabled", false);
      $('.requestButton').removeClass('loading');
      $('.squareupLogin .cancel').on('click', function() {
        $('.oldClients').addClass('non-active');
        $('.newClients').removeClass('non-active')
      })
      $('.squareupLogin .squareSignUp').on('click', function() {
          $('.oldClients').empty().append($('.squareupSignupForm').eq(0).clone().addClass('active'));
          $('.oldClients #signupForm').on("submit", {id: '#signupForm'}, createCustomer1);

      })
      $('.squareuplogin #loginForm').on("submit", checkCustomer);
        }
      // showService()
      // let setheight = $('.page').height();
      // $('.serviceList').css('max-height', `${setheight}px`);

      } else {

        $('.newClients').addClass('non-active');
      $('.oldClients').removeClass('non-active');

      }
      $('.bookingLoad').removeClass('loaded');
      $('.mobilePopup').css('max-height', '0');
      // $('.mobileMain').removeClass('active');


    if (localStorage.getItem('email')) {
          
            $('.oldClients').empty().append($('.oldClientsLogin').eq(0).clone().addClass('active'));
            $('.oldClientsLogin .signIn_square .block').addClass('non-active');
            $('.oldClientsLogin .myAppts').addClass('active');
            $('.oldClientsLogin .myAppts .newName').empty().append(localStorage.getItem('name'));
            $('.oldClientsLogin .myAppts button').on('click', {email:localStorage.getItem('email')}, clientInfo);
            $(".oldClients .back2").on('click', function() {
              $('.oldClients').addClass('non-active');
              $('.newClients').removeClass('non-active');
            })
            $('.oldClients .myAppts div').on('click', function() {
              localStorage.removeItem('email');
              localStorage.removeItem('name');
              localStorage.removeItem('lastName');

              $('.oldClientsLogin .signIn_square .block').removeClass('non-active');
            $('.oldClientsLogin .myAppts').removeClass('active');
            $('.oldClientsLogin .signIn_square .sqLogin').on('click', function() {
                
                $('.oldClients').empty().append($('.squareupLogin').eq(0).clone().addClass('active'));
                $('.squareupLogin #loginForm .requestButton').removeClass('loading');
                $('.squareupLogin #loginForm input').prop("disabled", false);
                $('.requestButton').removeClass('loading');

                $('.squareuplogin #loginForm').on("submit", checkCustomer);
              })
            })
            // console.log(localStorage.getItem('email'))
      } else {
        // console.log(localStorage.getItem('email'))
        
      }
      if (!($._data($('.oldClients .button2').get(0), 'events'))) {
        $('.oldClients .button2').on('click',  showService);



    }
      
 
    })
    $('.mobileService .bookingButton1').on('click', (e) => {
      e.preventDefault();
      serviceGender = e.target.id;
      if (serviceGender == 'mens' || serviceGender == 'womens') {
      $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
      $('.mobileService').removeClass('active');
      $('.mobileSystem').addClass('active');
      } else {
      $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
      $('.mobileService').removeClass('active');
      $('.mobileSystem2').addClass('active');
        $('.mobileSystem2 #no').on('click', function() {
          var a = document.createElement('a');
          a.target="_blank";
          a.href="/online-professional-hair-consultant-for-hairpieces/";
          a.click();
        }) 
        $('.mobileSystem2 #yes').on('click', function() {

          $('.mobileSystem2').removeClass('active');
          $('.mobileSystem3').addClass('active');

          $('.mobileSystem3 #mens').on('click', function() {
            $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
            $('.mobileSystem3').removeClass('active');
            if ($(window).width() > 1023) {
              $('.form123').empty().append($('.staffBooking').eq(0).clone().addClass('active'));
            } else {
              $('.form123').empty().append($('.staffBooking').eq(0).clone().addClass('active'));
              $('.form123').append($('.serviceBooking').eq(0).clone().addClass('active'));
              $('.form123 .serviceBooking').addClass('active');
            }
            $('.staffMembers .addNames1').on('click', function() {
              if ($(window).width() > 1023) { 
                $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
              }
                duration = '';
                startTime = '';
                multiService = [];
                bookedStylist = '';
              // $('.calendarMain .loader2').removeClass('non-active')
              $('.calendarTest .loader2').removeClass('non-active');
              $('.morning .slot').empty();
              $('.afternoon .slot').empty();
              $('.evening .slot').empty();

              if ($('.pleaseSelect').children.length > 0) {
              $('.pleaseSelect').empty();
              }

              let memberId = $(this).data('team-member-id');
              stylistName = $(this).data('team-member-name');
              stylist = memberId.split(',');
              $('.staffMembers .addNames1').removeClass('loaded');
              $(this).addClass('loaded');
              let date1 = new Date();
              let year = date1.getFullYear();
              let mon = date1.getMonth();
              let test5 = new Date(year, mon + 1,0);
              test5.setUTCHours(23,59,59,0);
              currMonth = new Date().getMonth();
              calendarChange();
              bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
              $('.form123 .calendarTop .next-arrow').removeClass('disabled');
              $('.form123 .calendarTop .prev-arrow').addClass('disabled');
              if ($(window).width() > 1023) {

                serviceType1(serviceEnd, stylist);
                $('.form123').empty().append($('.serviceBooking').eq(0).clone().addClass('active'));
                $('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
                $('.form123 .calendarTop .next-arrow').on('click', nextMonth);
              }
            })
            $('.form123 .calendarTop .next-arrow').on('click', nextMonth);
            $('.mobileBottom').removeClass('active');
            if ($(window).width() >1023) {
              if ($('.newClients').hasClass('non-active')) {
                $('.mobileBottom1').addClass('active');
              }
            } else {
              $('.mobileBottom1').addClass('active');
            }
            bookingSq(date.toISOString(), test5.toISOString(), ["CXXZZX3QDWLRDLXMXSWLEDXG"], stylist);
          })
        })
      }
    })

    $('#systemYes').on('click', () => {
      $('.mobileSystem').removeClass('active');
      $('.mobileService2').addClass('active');
    })
    $('#systemBuy').on('click', () => {
      if (serviceGender == 'mens') {
        var a = document.createElement('a');
        a.target="_blank";
        a.href="/men-hair-pieces-toupees/";
        a.click();
      } else {
        var a = document.createElement('a');
        a.target="_blank";
        a.href="/womens-hair-pieces-toppers-wigs/";
        a.click();
      }
      // $('.mobileSystem').removeClass('active');
      // $('.mobileService2').addClass('active');
    })


    ///////////////////////////////////////////////////
    $('.mobileService2 .bookingButton').on('click', (e) => {
      e.preventDefault();
      serviceType = e.target.id;
      if (serviceType == 'Installation' || serviceType == 'Maintenance') {
      $('.mobileService2').removeClass('active');
      $('.mobileService3').addClass('active');
      $('#change').empty().append(`
        (${serviceType} + color) 
      `)
      } else if (serviceType == 'serviceCons') {
        if (serviceGender == 'mens') {
          $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
            $('.mobileService2').removeClass('active');
            if ($(window).width() > 1023) {
              $('.form123').empty().append($('.staffBooking').eq(0).clone().addClass('active'));
            } else {
              $('.form123').empty().append($('.staffBooking').eq(0).clone().addClass('active'));
              $('.form123').append($('.serviceBooking').eq(0).clone().addClass('active'));
              $('.form123 .serviceBooking').addClass('active');
            }
            $('.staffMembers .addNames1').on('click', function() {
              if ($(window).width() > 1023) { 
                $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
              }
                duration = '';
                startTime = '';
                multiService = [];
                bookedStylist = '';
              // $('.calendarMain .loader2').removeClass('non-active')
              $('.calendarTest .loader2').removeClass('non-active');
              $('.morning .slot').empty();
              $('.afternoon .slot').empty();
              $('.evening .slot').empty();

              if ($('.pleaseSelect').children.length > 0) {
              $('.pleaseSelect').empty();
              }
              
              let memberId = $(this).data('team-member-id');
              stylistName = $(this).data('team-member-name');
              stylist = memberId.split(',');
              $('.staffMembers .addNames1').removeClass('loaded');
              $(this).addClass('loaded');
              let date1 = new Date();
              let year = date1.getFullYear();
              let mon = date1.getMonth();
              let test5 = new Date(year, mon + 1,0);
              test5.setUTCHours(23,59,59,0);
              currMonth = new Date().getMonth();
              calendarChange();
              bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
              $('.form123 .calendarTop .next-arrow').removeClass('disabled');
              $('.form123 .calendarTop .prev-arrow').addClass('disabled');
              if ($(window).width() > 1023) {

                serviceType1(serviceEnd, stylist);
                $('.form123').empty().append($('.serviceBooking').eq(0).clone().addClass('active'));
                $('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
                $('.form123 .calendarTop .next-arrow').on('click', nextMonth);
              }
            })
            $('.form123 .calendarTop .next-arrow').on('click', nextMonth);
            $('.mobileBottom').removeClass('active');
            if ($(window).width() >1023) {
              if ($('.newClients').hasClass('non-active')) {
                $('.mobileBottom1').addClass('active');
              }
            } else {
              $('.mobileBottom1').addClass('active');
            }
            bookingSq(date.toISOString(), test5.toISOString(), ["CXXZZX3QDWLRDLXMXSWLEDXG"], stylist);
        }
      }
      
      
    })
    /////
    $('.mobileService3 .bookingButton').on('click', (e) => {
      e.preventDefault();
      e.target.innerHTML == 'Yes' ? color=true : color=false;
      $('.mobileService3').removeClass('active');
      if ($(window).width() > 1023) {
        $('.form123').empty().append($('.staffBooking').eq(0).clone().addClass('active'));

      } else {

        $('.form123').empty().append($('.staffBooking').eq(0).clone().addClass('active'));
      $('.form123').append($('.serviceBooking').eq(0).clone().addClass('active'));

      $('.form123 .serviceBooking').addClass('active');
      }


        $('.staffMembers .addNames1').on('click', function() {
          if ($(window).width() > 1023) { 
            $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
          }

       

            duration = '';
            startTime = '';
            multiService = [];
            bookedStylist = '';
        // $('.calendarMain .loader2').removeClass('non-active')
        $('.calendarTest .loader2').removeClass('non-active');
        $('.morning .slot').empty();
        $('.afternoon .slot').empty();
        $('.evening .slot').empty();

        if ($('.pleaseSelect').children.length > 0) {
          $('.pleaseSelect').empty();
        }

        let memberId = $(this).data('team-member-id');
        stylistName = $(this).data('team-member-name');
        stylist = memberId.split(',');
        $('.staffMembers .addNames1').removeClass('loaded');
        $(this).addClass('loaded');
        let date1 = new Date();
        let year = date1.getFullYear();
        let mon = date1.getMonth();
        let test5 = new Date(year, mon + 1,0);
        test5.setUTCHours(23,59,59,0);
        currMonth = new Date().getMonth();
        calendarChange();
        bookingSq(date1.toISOString(), test5.toISOString(), serviceEnd, stylist);
        $('.form123 .calendarTop .next-arrow').removeClass('disabled');
        $('.form123 .calendarTop .prev-arrow').addClass('disabled');
        if ($(window).width() > 1023) {
          serviceType1(serviceEnd, stylist);

          $('.form123').empty().append($('.serviceBooking').eq(0).clone().addClass('active'));
          $('.form123 .serviceBookingSide').empty().append($('.serviceSide').eq(0).clone().addClass('active'));
      $('.form123 .calendarTop .next-arrow').on('click', nextMonth);
        
        }
      })
      

      $('.form123 .calendarTop .next-arrow').on('click', nextMonth);
      $('.mobileBottom').removeClass('active');
      if ($(window).width() >1023) {
        if ($('.newClients').hasClass('non-active')) {
        $('.mobileBottom1').addClass('active');
      }
      } else {
        $('.mobileBottom1').addClass('active');

      }

      
      $('.mobilePopup1 .bookingLoad:not(.loaded):first').addClass('loaded');
      if ($(window).width() >1023) {

      }
       if (serviceGender == 'mens') {
        if (serviceType == 'Maintenance') {
          if (color) {
            bookingSq(date.toISOString(), test5.toISOString(), ["CXXZZX3QDWLRDLXMXSWLEDXG"], stylist);
            if (stylistName) {
              $('.form123 .staffMembers').find(`[data-team-member-name='${stylistName}']`).addClass('loaded');
            }
          } else {
            bookingSq(date.toISOString(), test5.toISOString(), "RTGD32YYZ2YK36MUN43WMYEC", stylist);
          }
        } else {
          if (color) {
            bookingSq(date.toISOString(), test5.toISOString(), "O6RWN7NFJKTYCTSKXIVKNUUV", stylist);
          } else {
            bookingSq(date.toISOString(), test5.toISOString(), "QKVCJJZHAHG3AWGIOVHASRNA", stylist);
          }
        }
       } else {
        if (serviceType == 'Maintenance') {
          if (color) {
            bookingSq(date.toISOString(), test5.toISOString(), "OS255XE5HJCLHU43J4YT5R4F", stylist);
          } else {
            bookingSq(date.toISOString(), test5.toISOString(), "OK3BPUAMAJYINUKVQJRBHZMB", stylist);
          }
        } else {
          if (color) {
            bookingSq(date.toISOString(), test5.toISOString(), "WEXJ7MQTUFSVGFIERPF7IOUW", stylist);
          } else {
            bookingSq(date.toISOString(), test5.toISOString(), "RSDJ4PSD2SJ6JBPUSCK274QN", stylist);
          }
        }
       }
    })

  })
</script>